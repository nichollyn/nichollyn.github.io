<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>The Infinite Game</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://theinfinitegame.tech/"/>
  <updated>2020-07-19T08:41:44.820Z</updated>
  <id>https://theinfinitegame.tech/</id>
  
  <author>
    <name>çŒ«å…‹æ¯</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Swift 5.3 æ–°ç‰¹æ€§</title>
    <link href="https://theinfinitegame.tech/programming/whats-new-in-swift-5-3/"/>
    <id>https://theinfinitegame.tech/programming/whats-new-in-swift-5-3/</id>
    <published>2020-07-19T08:34:44.000Z</published>
    <updated>2020-07-19T08:41:44.820Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggwdc1o5lmj315o0rswg0.jpg" alt="swift-evolution-4"></p><p>Swift 5.3 æœ‰ä¸å°‘å˜åŒ–ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬å¤šæ¨¡å¼ catch è¯­å¥ï¼Œå¤šæ‹–å°¾é—­åŒ…ï¼Œä»¥åŠ Swift Package Manager çš„ä¸€äº›é‡è¦æ”¹å˜ã€‚</p><p>æœ¬æ–‡ä¼šå¸¦ä½ æµè§ˆä¸€äº›ä¸»è¦çš„å˜åŒ–ï¼ŒåŒæ—¶æä¾›å‚è€ƒä»£ç ï¼Œä»¥ä¾¿ä½ å¯ä»¥è‡ªè¡Œå°è¯•ã€‚ä»¥ä¸‹æ˜¯è¦ä»‹ç»çš„æ–°ç‰¹æ€§çš„æ¸…å•ï¼š</p><ul><li>å¤šæ¨¡å¼ catch è¯­å¥</li><li>å¤šæ‹–å°¾é—­åŒ…</li><li>ä¸ºæšä¸¾è‡ªåŠ¨ç”Ÿæˆçš„ Comparable å®ç°</li><li>self. ä¹¦å†™çœç•¥</li><li>åŸºäºç±»å‹çš„ç¨‹åºå…¥å£</li><li>åŸºäºä¸Šä¸‹æ–‡æ³›å‹å£°æ˜çš„ <code>where</code> è¯­å¥</li><li>æšä¸¾çš„ cases å¯ä»¥ä½œä¸º protocol witnesses</li><li>é‡æ–°æç‚¼çš„ <code>didSet</code> è¯­ä¹‰</li><li>æ–°çš„ Float16 ç±»å‹</li><li>Swift Package Manager æ”¯æŒäºŒè¿›åˆ¶ä¾èµ–ï¼Œèµ„æºç­‰æ›´å¤šç±»å‹</li></ul><h3 id="å¤šæ¨¡å¼-catch-è¯­å¥"><a href="#å¤šæ¨¡å¼-catch-è¯­å¥" class="headerlink" title="å¤šæ¨¡å¼ catch è¯­å¥"></a>å¤šæ¨¡å¼ catch è¯­å¥</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0276-multi-pattern-catch-clauses.md" target="_blank" rel="noopener">SE-0276</a> å¼•å…¥äº†ä¸€ä¸ªå¯ä»¥åœ¨å•ä¸ª <code>catch</code> å—ä¸­æ•è·å¤šä¸ªé”™è¯¯ case çš„ç‰¹æ€§ï¼Œè¿™èƒ½è®©æˆ‘ä»¬å…é™¤é”™è¯¯å¤„ç†æ—¶çš„é‡å¤ä»£ç ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ç”¨æšä¸¾å®šä¹‰äº†é”™è¯¯çš„ä¸¤ç§æƒ…å†µï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TemperatureError</span>: <span class="title">Error</span> </span>{</span><br><span class="line">    <span class="keyword">case</span> tooCold, tooHot</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å½“æˆ‘ä»¬è¯»å–åˆ°æ¸©åº¦æ—¶ï¼Œæ—¢å¯ä»¥æŠ›å‡ºä¸¤ç§é”™è¯¯ä¸­çš„æŸä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥è¿”å› â€œOKâ€ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getReactorTemperature</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> {</span><br><span class="line">    <span class="number">90</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkReactorOperational</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">String</span> {</span><br><span class="line">    <span class="keyword">let</span> temp = getReactorTemperature ()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> temp &lt; <span class="number">10</span> {</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">TemperatureError</span>.tooCold</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> temp &gt; <span class="number">90</span> {</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">TemperatureError</span>.tooHot</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"OK"</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åœ¨æ•è·é”™è¯¯çš„ç¯èŠ‚ï¼ŒSE-0276 å…è®¸æˆ‘ä»¬ç”¨é€—å·åˆ†éš”æ¥è¡¨ç¤ºæˆ‘ä»¬è¦ä»¥ç›¸åŒæ–¹å¼å¤„ç†  <code>tooHot</code> å’Œ <code>tooCold</code>ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">try</span> checkReactorOperational ()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ç»“æœ: \(result)"</span>)</span><br><span class="line">} <span class="keyword">catch</span> <span class="type">TemperatureError</span>.tooHot, <span class="type">TemperatureError</span>.tooCold {</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"å…³é—­ååº”å †"</span>)</span><br><span class="line">} <span class="keyword">catch</span> {</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"æœªçŸ¥é”™è¯¯"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¤„ç†çš„ case å¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„ã€‚</p><h3 id="å¤šæ‹–å°¾é—­åŒ…"><a href="#å¤šæ‹–å°¾é—­åŒ…" class="headerlink" title="å¤šæ‹–å°¾é—­åŒ…"></a>å¤šæ‹–å°¾é—­åŒ…</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0279-multiple-trailing-closures.md" target="_blank" rel="noopener">SE-0279</a> å¼•å…¥äº†å¤šæ‹–å°¾é—­åŒ…ï¼Œè¿™ä½¿å¾—è°ƒç”¨åŒ…å«å¤šä¸ªé—­åŒ…çš„å‡½æ•°å¯ä»¥æ›´ç®€å•åœ°å®ç°ã€‚</p><p>è¿™ä¸ªç‰¹æ€§åœ¨ SwiftUI ä¸­éå¸¸å—æ¬¢è¿ã€‚åŸæ¥å½¢å¦‚ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OldContentView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> showOptions = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span>(action: {</span><br><span class="line">            <span class="keyword">self</span>.showOptions.toggle ()</span><br><span class="line">        }) {</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"gear"</span>)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥è¢«æ”¹å†™æˆï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NewContentView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> showOptions = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span> {</span><br><span class="line">            <span class="keyword">self</span>.showOptions.toggle ()</span><br><span class="line">        } label: {</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"gear"</span>)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç†è®ºä¸Šå¹¶ä¸è¦æ±‚ <code>label:</code> è¦è·Ÿåœ¨å‰ä¸€ä¸ªé—­åŒ…çš„ <code>}</code> åé¢ï¼Œæ‰€ä»¥ä½ ç”šè‡³å¯ä»¥åƒä¸‹é¢è¿™æ ·ä¹¦å†™ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BadContentView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> showOptions = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span> {</span><br><span class="line">            <span class="keyword">self</span>.showOptions.toggle ()</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        label: {</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"gear"</span>)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸è¿‡ï¼Œæˆ‘ä¼šå»ºè®®ä½ å½“å¿ƒä»£ç çš„å¯è¯»æ€§ â€”â€” åƒä¸Šé¢çš„ <code>label</code> é‚£æ ·çš„ä»£ç å—ï¼Œåœ¨ Swift é‡Œçœ‹èµ·æ¥æ›´åƒæ˜¯æ ‡ç­¾åŒ–çš„ä»£ç å—ï¼Œè€Œä¸æ˜¯ <code>Button</code> æ„é€ å™¨çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>** æ³¨ï¼š** æœ‰å…³ Swift çš„å¤šæ‹–å°¾é—­åŒ…ç‰¹æ€§çš„è®¨è®ºéå¸¸çƒ­çƒˆã€‚æˆ‘æƒ³æé†’å¤§å®¶çš„æ˜¯ï¼Œåƒè¿™ç§ç±»å‹çš„è¯­æ³•å˜åŠ¨ä¸€å¼€å§‹çœ‹èµ·æ¥å¯èƒ½ä¼šæœ‰ç‚¹åˆ«æ‰­ï¼Œæˆ‘ä»¬éœ€è¦è€å¿ƒï¼Œç»™å®ƒæ—¶é—´ï¼Œåœ¨å®è·µä¸­ä½“ä¼šå®ƒå¸¦æ¥çš„ç»“æœã€‚</p><h3 id="ä¸ºæšä¸¾è‡ªåŠ¨ç”Ÿæˆçš„-Comparable-å®ç°"><a href="#ä¸ºæšä¸¾è‡ªåŠ¨ç”Ÿæˆçš„-Comparable-å®ç°" class="headerlink" title="ä¸ºæšä¸¾è‡ªåŠ¨ç”Ÿæˆçš„ Comparable å®ç°"></a>ä¸ºæšä¸¾è‡ªåŠ¨ç”Ÿæˆçš„ Comparable å®ç°</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0266-synthesized-comparable-for-enumerations.md" target="_blank" rel="noopener">SE-0266</a> ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸ºæšä¸¾ç”Ÿæˆ <code>Comparable</code> å®ç°ï¼ŒåŒæ—¶ä¸è¦æ±‚æˆ‘ä»¬å£°æ˜å…³è”å€¼ï¼Œæˆ–è€…è¦æ±‚å…³è”å€¼æœ¬èº«å¿…é¡»æ˜¯ <code>Comparable</code> çš„ã€‚è¿™ä¸ªç‰¹æ€§è®©æˆ‘ä»¬å¯ä»¥åœ¨åŒç±»å‹çš„æšä¸¾ä¹‹é—´ç”¨ <code>&lt;</code>ï¼Œ<code>&gt;</code> å’Œç±»ä¼¼çš„æ¯”è¾ƒæ“ä½œç¬¦æ¥è¿›è¡Œæ¯”è¾ƒã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæšä¸¾ï¼Œå®ƒæè¿°äº†è¡£æœçš„å°ºå¯¸ï¼Œæˆ‘ä»¬å¯ä»¥è¦æ±‚ Swift ä¸ºå®ƒè‡ªåŠ¨ç”Ÿæˆ <code>Comparable</code> å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Size</span>: <span class="title">Comparable</span> </span>{</span><br><span class="line">    <span class="keyword">case</span> small</span><br><span class="line">    <span class="keyword">case</span> medium</span><br><span class="line">    <span class="keyword">case</span> large</span><br><span class="line">    <span class="keyword">case</span> extraLarge</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸¤ä¸ªè¿™ä¸ªæšä¸¾çš„å®ä¾‹ï¼Œå¹¶ä¸”ç”¨ <code>&lt;</code> è¿›è¡Œæ¯”è¾ƒï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> shirtSize = <span class="type">Size</span>.small</span><br><span class="line"><span class="keyword">let</span> personSize = <span class="type">Size</span>.large</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> shirtSize &lt; personSize {</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"T æ¤ å¤ªå°äº†ï¼"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è‡ªåŠ¨ç”Ÿæˆçš„å®ç°ï¼Œä¹Ÿèƒ½å¾ˆå¥½åœ°é€‚åº”æšä¸¾çš„ <code>Comparable</code> å…³è”å€¼ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæšä¸¾ï¼Œæè¿°äº†æŸä¸ªé˜Ÿä¼è·å–ä¸–ç•Œæ¯å† å†›çš„æ¬¡æ•°ï¼Œä»£ç å¯ä»¥è¿™æ ·å®ç°ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">WorldCupResult</span>: <span class="title">Comparable</span> </span>{</span><br><span class="line">    <span class="keyword">case</span> neverWon</span><br><span class="line">    <span class="keyword">case</span> winner (stars: <span class="type">Int</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åæˆ‘ä»¬ç”¨ä¸åŒçš„å€¼æ¥åˆ›å»ºæšä¸¾çš„ä¸åŒå®ä¾‹ï¼Œå¹¶ä¸”è®© Swift å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> americanMen = <span class="type">WorldCupResult</span>.neverWon</span><br><span class="line"><span class="keyword">let</span> americanWomen = <span class="type">WorldCupResult</span>.winner (stars: <span class="number">4</span>)</span><br><span class="line"><span class="keyword">let</span> japaneseMen = <span class="type">WorldCupResult</span>.neverWon</span><br><span class="line"><span class="keyword">let</span> japaneseWomen = <span class="type">WorldCupResult</span>.winner (stars: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> teams = [americanMen, americanWomen, japaneseMen, japaneseWomen]</span><br><span class="line"><span class="keyword">let</span> sortedByWins = teams.sorted ()</span><br><span class="line"><span class="built_in">print</span>(sortedByWins)</span><br></pre></td></tr></tbody></table></figure><p>æ’åºè¿‡ç¨‹ä¼šæŠŠæœªè·å¾—ä¸–ç•Œæ¯å† å†›çš„é˜Ÿä¼æ”¾åœ¨å‰é¢ï¼Œç„¶åæ˜¯æ—¥æœ¬å¥³å­é˜Ÿï¼Œå†ç„¶åæ˜¯ç¾å›½å¥³å­é˜Ÿ â€”â€” ä¸¤ç»„ <code>winner</code> çš„é˜Ÿè¢«è®¤ä¸ºæ˜¯å¤§äºä¸¤ç»„ <code>neverWon</code> çš„é˜Ÿï¼Œè€Œ <code>winner (stars: 4)</code> è¢«è®¤ä¸ºæ˜¯å¤§äº <code>winner (stars: 1)</code>ã€‚</p><h3 id="self-ä¹¦å†™çœç•¥"><a href="#self-ä¹¦å†™çœç•¥" class="headerlink" title="self. ä¹¦å†™çœç•¥"></a>self. ä¹¦å†™çœç•¥</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0269-implicit-self-explicit-capture.md" target="_blank" rel="noopener">SE-0269</a> ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸€äº›ä¸å¿…è¦çš„åœ°æ–¹çœç•¥ <code>self</code> ã€‚åœ¨è¿™ä¸ªæ”¹å˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰€æœ‰çš„é—­åŒ…å½“ä¸­å¯¹å¼•ç”¨ <code>self</code> çš„å±æ€§æˆ–è€…æ–¹æ³•å† ä»¥ <code>self.</code>ï¼Œä»¥ä¾¿æ˜¾å¼åœ°æ˜ç¡®è¯­ä¹‰ã€‚ä½†æœ‰çš„æ—¶å€™ç”±äºé—­åŒ…ä¸å¯èƒ½äº§ç”Ÿå¼•ç”¨å¾ªç¯ï¼Œ<code>self</code> æ˜¯å¤šä½™çš„ã€‚</p><p>ä¾‹å¦‚ï¼Œä¹‹å‰æˆ‘ä»¬éœ€è¦æŠŠä»£ç å†™æˆä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OldContentView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">List</span>(<span class="number">1</span>..&lt;<span class="number">5</span>) { number <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.cell (<span class="keyword">for</span>: number)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">cell</span><span class="params">(<span class="keyword">for</span> number: Int)</span></span> -&gt; some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Text</span>(<span class="string">"Cell \(number)"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¯¹ <code>self.cell (for:)</code> çš„è°ƒç”¨ä¸ä¼šäº§ç”Ÿå¼•ç”¨å¾ªç¯ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨ç»“æ„ä½“å†…ä½¿ç”¨ã€‚å¤šäºäº† SE-0269ï¼Œä¸Šé¢çš„ä»£ç ç°åœ¨å¯ä»¥å…å» <code>self.</code>ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NewContentView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">List</span>(<span class="number">1</span>..&lt;<span class="number">5</span>) { number <span class="keyword">in</span></span><br><span class="line">            cell (<span class="keyword">for</span>: number)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">cell</span><span class="params">(<span class="keyword">for</span> number: Int)</span></span> -&gt; some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Text</span>(<span class="string">"Cell \(number)"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™ä¸ªç‰¹æ€§å¯¹äºå¤§é‡ä½¿ç”¨é—­åŒ…çš„æ¡†æ¶éå¸¸æœ‰ç”¨ï¼ŒåŒ…æ‹¬ SwiftUI å’Œ Combineã€‚</p><h3 id="åŸºäºç±»å‹çš„ç¨‹åºå…¥å£"><a href="#åŸºäºç±»å‹çš„ç¨‹åºå…¥å£" class="headerlink" title="åŸºäºç±»å‹çš„ç¨‹åºå…¥å£"></a>åŸºäºç±»å‹çš„ç¨‹åºå…¥å£</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0281-main-attribute.md" target="_blank" rel="noopener">SE-0281</a> å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ <code>@main</code> å±æ€§ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬å£°æ˜ç¨‹åºçš„å…¥å£ã€‚è¿™ä¸ªç‰¹æ€§ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç²¾ç¡®åœ°æ§åˆ¶ç¨‹åºå¯åŠ¨æ—¶è¦æ‰§è¡Œçš„ä»£ç ï¼Œå¯¹äºå‘½ä»¤è¡Œç¨‹åºå°¤å…¶æœ‰å¸®åŠ©ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç»ˆç«¯åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªå« main.swift çš„æ–‡ä»¶ï¼Œç„¶åæŠŠå¯åŠ¨ä»£ç æ”¾åœ¨é‡Œé¢ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OldApp</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Running!"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> app = <span class="type">OldApp</span>()</span><br><span class="line">app.run ()</span><br></pre></td></tr></tbody></table></figure><p>Swift ä¼šè‡ªåŠ¨æŠŠ main.swift çœ‹ä½œæœ€é¡¶å±‚çš„ä»£ç ï¼Œåˆ›å»º <code>App</code> å®ä¾‹å¹¶ä¸”è¿è¡Œã€‚å³ä¾¿åœ¨ SE-0281 ä¹‹åè¿™ä¸ªåšæ³•éƒ½ä¸€ç›´è¢«å»¶ç»­ï¼Œä½†ç°åœ¨ä½ å¯ä»¥å¹²æ‰ main.swift äº†ï¼Œè½¬è€Œä½¿ç”¨ <code>@main</code> å±æ€§æ¥æ ‡è®°æŸä¸ªåŒ…å«é™æ€ <code>main</code> æ–¹æ³•çš„ç»“æ„ä½“æˆ–è€…ç±»ï¼Œè®©å®ƒå……å½“ç¨‹åºå…¥å£ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@main</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NewApp</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Running!"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„ä»£ç æ‰€åœ¨çš„ç¨‹åºè¿è¡Œæ—¶ï¼ŒSwift ä¼šè‡ªåŠ¨è°ƒç”¨ <code>NewApp.main ()</code> æ¥å¯åŠ¨ç¨‹åºæµç¨‹ã€‚</p><p>æ–°çš„ <code>@main</code> å±æ€§å¯¹äº UIKit å’Œ AppKit å¼€å‘è€…æ¥è¯´å¯èƒ½æœ‰ç‚¹å±æ€§ï¼Œå› ä¸ºæˆ‘ä»¬æ­£æ˜¯ç”¨ <code>@UIApplicationMain</code> å’Œ <code>@NSApplicationMain</code> æ¥æ ‡è®° app ä»£ç†çš„ã€‚</p><p>ä¸è¿‡ï¼Œä½¿ç”¨ <code>@main</code> çš„æ—¶å€™æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å·²ç»æœ‰ main.swift æ–‡ä»¶çš„ app ä¸èƒ½ä½¿ç”¨è¿™ä¸ªå±æ€§</li><li>ä¸èƒ½æœ‰ä¸€ä¸ªä»¥ä¸Šçš„ <code>@main</code> å±æ€§</li><li><code>@main</code> å±æ€§åªèƒ½ç”¨åœ¨æœ€é¡¶å±‚çš„ç±»å‹ä¸Š â€”â€” è¿™ä¸ªç±»å‹ä¸ç»§æ‰¿è‡ªä»»ä½•å…¶ä»–ç±»</li></ul><h3 id="åŸºäºä¸Šä¸‹æ–‡æ³›å‹å£°æ˜çš„-where-è¯­å¥"><a href="#åŸºäºä¸Šä¸‹æ–‡æ³›å‹å£°æ˜çš„-where-è¯­å¥" class="headerlink" title="åŸºäºä¸Šä¸‹æ–‡æ³›å‹å£°æ˜çš„ where è¯­å¥"></a>åŸºäºä¸Šä¸‹æ–‡æ³›å‹å£°æ˜çš„ <code>where</code> è¯­å¥</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0267-where-on-contextually-generic.md" target="_blank" rel="noopener">SE-0267</a> å¼•å…¥ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œä½ å¯ä»¥ç»™æ³›å‹ç±»å‹æˆ–è€…æ‰©å±•æ·»åŠ å¸¦æœ‰ <code>where</code> è¯­å¥é™å®šçš„å‡½æ•°ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ <code>Stack</code>ï¼Œå¯ä»¥å‹æ ˆï¼Œå‡ºæ ˆå…ƒç´ ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span>&lt;<span class="title">Element</span>&gt; </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> array = [<span class="type">Element</span>]()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">push</span><span class="params">(<span class="number">_</span> obj: Element)</span></span> {</span><br><span class="line">        array.append (obj)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">pop</span><span class="params">()</span></span> -&gt; <span class="type">Element?</span> {</span><br><span class="line">        array.popLast ()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å€ŸåŠ© SE-0267ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ·»åŠ ä¸€ä¸ª <code>sorted ()</code> æ–¹æ³•ç»™è¿™ä¸ª <code>Stack</code>ï¼Œå¹¶ä¸”è¦æ±‚è¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨ <code>Stack</code> çš„æ³›å‹å‚æ•° <code>Element</code> éµå¾ª <code>Comparable</code> åè®®çš„æ—¶å€™æ‰èƒ½ä½¿ç”¨ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stack</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sorted</span><span class="params">()</span></span> -&gt; [<span class="type">Element</span>] <span class="keyword">where</span> <span class="type">Element</span>: <span class="type">Comparable</span> {</span><br><span class="line">        array.sorted ()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æšä¸¾çš„-cases-å¯ä»¥ä½œä¸º-protocol-witnesses"><a href="#æšä¸¾çš„-cases-å¯ä»¥ä½œä¸º-protocol-witnesses" class="headerlink" title="æšä¸¾çš„ cases å¯ä»¥ä½œä¸º protocol witnesses"></a>æšä¸¾çš„ cases å¯ä»¥ä½œä¸º protocol witnesses</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0280-enum-cases-as-protocol-witnesses.md" target="_blank" rel="noopener">SE-0280</a> ä½¿å¾—æšä¸¾å¯ä»¥å‚ä¸ protocol witness matchingï¼Œè¿™æ˜¯ä¸€ç§è¡¨è¿°æˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°åŒ¹é…åè®®è¦æ±‚çš„æŠ€æœ¯æ–¹å¼ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ç¼–å†™ä»£ç å¤„ç†å„ç§ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯å‡å¦‚æ•°æ®ä¸è§äº†æ€ä¹ˆåŠå‘¢ï¼Ÿå½“ç„¶ï¼Œä½ å¯ä»¥å€ŸåŠ©ç©ºåˆè¿ç®—ç¬¦ï¼Œæ¯æ¬¡éƒ½æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚ä¸è¿‡ã€‚ä½ å¯ä»¥å€ŸåŠ©åè®®æ¥è¦æ±‚é»˜è®¤å€¼ï¼Œç„¶åè®©å„ç§ç±»å‹éµå¾ªè¿™ä¸ªåè®®ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Defaultable</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue: <span class="type">Self</span> { <span class="keyword">get</span> }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®©æ•´æ•°æœ‰é»˜è®¤å€¼ 0</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span>: <span class="title">Defaultable</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue: <span class="type">Int</span> { <span class="number">0</span> }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®©æ•°ç»„æœ‰é»˜è®¤å€¼ç©ºæ•°ç»„ </span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span>: <span class="title">Defaultable</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue: <span class="type">Array</span> { [] }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®©å­—å…¸æœ‰é»˜è®¤å€¼ç©ºå­—å…¸ </span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dictionary</span>: <span class="title">Defaultable</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue: <span class="type">Dictionary</span> { [:] }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>SE-0280 ä½¿å¾—æˆ‘ä»¬èƒ½å¯¹æšä¸¾åšå‡ºä¸€æ ·çš„æ§åˆ¶ã€‚æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ª <code>padding</code> æšä¸¾ï¼Œå®ƒèƒ½æ¥æ”¶åƒç´ å€¼ï¼Œå˜ç±³å€¼ï¼Œæˆ–è€…æ˜¯ç³»ç»Ÿçš„é»˜è®¤å€¼ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Padding</span>: <span class="title">Defaultable</span> </span>{</span><br><span class="line">    <span class="keyword">case</span> pixels (<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> cm (<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> defaultValue</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·çš„ä»£ç åœ¨ SE-0280 ä¹‹å‰æ˜¯æ— æ³•å®ç°çš„ â€”â€” Swift ä¼šæŠ±æ€¨ <code>Padding</code> ä¸æ»¡è¶³åè®®ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä»”ç»†ç¢ç£¨ä¸€ä¸‹ï¼Œåè®®å…¶å®æ˜¯æ»¡è¶³çš„ï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé™æ€çš„ <code>defaultValue</code>ï¼Œå®ƒè¿”å› <code>Self</code>ï¼Œæ¢è¨€ä¹‹ï¼Œå°±æ˜¯æŸä¸ªéµå¾ªåè®®çš„å…·ä½“ç±»å‹ï¼Œè€Œè¿™æ­£æ˜¯ <code>Padding.defaultValue</code> æä¾›çš„ã€‚</p><h3 id="é‡æ–°æç‚¼çš„-didSet-è¯­ä¹‰"><a href="#é‡æ–°æç‚¼çš„-didSet-è¯­ä¹‰" class="headerlink" title="é‡æ–°æç‚¼çš„ didSet è¯­ä¹‰"></a>é‡æ–°æç‚¼çš„ <code>didSet</code> è¯­ä¹‰</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0268-didset-semantics.md" target="_blank" rel="noopener">SE-0268</a> è°ƒæ•´äº† <code>didSet</code> å±æ€§è§‚å¯Ÿè€…çš„å·¥ä½œæ–¹å¼ï¼Œä»¥ä¾¿å®ƒä»¬èƒ½æ›´é«˜æ•ˆåœ°å·¥ä½œã€‚å¯¹äºè¿™ä¸ªä¼˜åŒ–ä½ ä¸éœ€è¦æ”¹åŠ¨ä»»ä½•ä»£ç ï¼Œè‡ªåŠ¨è·å¾—ä¸€ä¸ªå°å°çš„æ€§èƒ½æå‡ã€‚</p><p>åœ¨å†…éƒ¨ï¼ŒSwift åšå‡ºçš„æ”¹å˜æ˜¯åœ¨è®¾ç½®æ–°å€¼æ—¶ä¸å†æŸ¥è¯¢æ—§å€¼ã€‚å¦‚æœä½ ä¸ä½¿ç”¨æ—§å€¼ï¼Œä¹Ÿæ²¡æœ‰è®¾ç½® <code>willSet</code>ï¼ŒSwift ä¼šå³æ—¶ä¿®æ”¹æ•°å€¼ã€‚</p><p>å‡å¦‚ä½ éœ€è¦ç”¨åˆ°æ—§å€¼ï¼Œåªéœ€è¦å¼•ç”¨ <code>oldValue</code> å³å¯ï¼Œæ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">didSet</span> {</span><br><span class="line">    <span class="number">_</span> = oldValue</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–°çš„-Float16-ç±»å‹"><a href="#æ–°çš„-Float16-ç±»å‹" class="headerlink" title="æ–°çš„ Float16 ç±»å‹"></a>æ–°çš„ Float16 ç±»å‹</h3><p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0277-float16.md" target="_blank" rel="noopener">SE-0277</a> å¼•å…¥äº†ä¸€ä¸ªæ–°çš„åŠç²¾åº¦æµ®ç‚¹ç±»å‹ï¼Œ<code>Float16</code>ã€‚è¿™ä¸ªç²¾åº¦åœ¨å›¾åƒç¼–ç¨‹å’Œæœºå™¨å­¦ä¹ ä¸­ååˆ†å¸¸è§ã€‚</p><p>æ–°ç±»å‹å’Œ Swift åŸæ¥çš„å…¶ä»–ç±»å‹ç›¸ä¼¼ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> first: <span class="type">Float16</span> = <span class="number">5</span></span><br><span class="line"><span class="keyword">let</span> second: <span class="type">Float32</span> = <span class="number">11</span></span><br><span class="line"><span class="keyword">let</span> third: <span class="type">Float64</span> = <span class="number">7</span></span><br><span class="line"><span class="keyword">let</span> fourth: <span class="type">Float80</span> = <span class="number">13</span></span><br></pre></td></tr></tbody></table></figure><h3 id="Swift-Package-Manager-æ”¯æŒäºŒè¿›åˆ¶ä¾èµ–ï¼Œèµ„æºç­‰æ›´å¤šç±»å‹"><a href="#Swift-Package-Manager-æ”¯æŒäºŒè¿›åˆ¶ä¾èµ–ï¼Œèµ„æºç­‰æ›´å¤šç±»å‹" class="headerlink" title="Swift Package Manager æ”¯æŒäºŒè¿›åˆ¶ä¾èµ–ï¼Œèµ„æºç­‰æ›´å¤šç±»å‹"></a>Swift Package Manager æ”¯æŒäºŒè¿›åˆ¶ä¾èµ–ï¼Œèµ„æºç­‰æ›´å¤šç±»å‹</h3><p>Swift 5.3 ä¸º Swift Package Manager (SPM) å¸¦æ¥äº†å¾ˆå¤šæå‡ï¼Œæ•æˆ‘ä¸èƒ½åœ¨è¿™é‡Œä¸€ä¸€ä¸¾ä¾‹ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥è®¨è®ºä¸€ä¸‹ SPM æœ‰å“ªäº›å˜åŒ–ä»¥åŠä¸ºä»€ä¹ˆä¼šæœ‰è¿™äº›å˜åŒ–ã€‚ </p><p>é¦–å…ˆï¼Œ<a href="https://github.com/apple/swift-evolution/blob/master/proposals/0271-package-manager-resources.md" target="_blank" rel="noopener">SE-0271</a> (Package Manager Resources) ä½¿å¾— SPM èƒ½åŒ…å«è¯¸å¦‚å›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼ŒJSON ç­‰ç±»å‹çš„èµ„æºã€‚è¿™ä¸ªæœºåˆ¶å¯ä¸åªæ˜¯æŠŠæ–‡ä»¶æ‹·è¿›æœ€ç»ˆçš„ app bundle è¿™ä¹ˆç®€å• â€”â€” ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨ä¸€ä¸ªè‡ªå®šä¹‰å¤„ç†æ­¥éª¤åˆ°æˆ‘ä»¬çš„ assetsï¼Œæ¯”å¦‚ä¸º iOS ä¼˜åŒ–å›¾ç‰‡ã€‚ä¸ºæ­¤ï¼Œæ–°å¢çš„ <code>Bundle.module</code> å±æ€§å°±æ˜¯ç”¨æ¥åœ¨è¿è¡Œæ—¶è®¿é—®è¿™äº› assets çš„ã€‚<a href="https://github.com/apple/swift-evolution/blob/master/proposals/0278-package-manager-localized-resources.md" target="_blank" rel="noopener">SE-0278</a> (Package Manager Localized Resources) è¿›ä¸€æ­¥æ”¯æŒäº†èµ„æºçš„æœ¬åœ°åŒ–ç‰ˆæœ¬ï¼Œä¾‹å¦‚æä¾›é€‚ç”¨æŸä¸ªå›½å®¶çš„å›¾ç‰‡ã€‚</p><p>å…¶æ¬¡ï¼Œ<a href="https://github.com/apple/swift-evolution/blob/master/proposals/0272-swiftpm-binary-dependencies.md" target="_blank" rel="noopener">SE-0272</a> (Package Manager Binary Dependencies) ä½¿å¾— SPM å¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶åŒ…ã€‚è¿™æ„å‘³ç€åƒ Firebase è¿™æ ·çš„é—­æº SDK ç°åœ¨ä¹Ÿå¯ä»¥é€šè¿‡ SPM é›†æˆäº†ã€‚</p><p>å†æ¬¡ï¼Œ<a href="https://github.com/apple/swift-evolution/blob/master/proposals/0273-swiftpm-conditional-target-dependencies.md" target="_blank" rel="noopener">SE-0273</a> (Package Manager Conditional Target Dependencies) å¯ä»¥è®©æˆ‘ä»¬æŒ‡å®šä¸ºç‰¹å®šå¹³å°å’Œé…ç½®ä½¿ç”¨ä¾èµ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½åœ¨ä¸º Linux å¹³å°ç¼–è¯‘æ—¶ï¼Œé¢å¤–éœ€è¦æŸäº›ç‰¹å®šçš„æ¡†æ¶ï¼Œæˆ–è€…æˆ‘ä»¬åœ¨æœ¬åœ°æµ‹è¯•çš„æ—¶å€™éœ€è¦ä¸€äº›ä¾èµ–è°ƒè¯•ç”¨çš„æ¡†æ¶ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒSE-0271 çš„ â€œFuture Directionsâ€ ä¸€èŠ‚ä¸­æåˆ°äº†å¯¹èµ„æºçš„å®‰å…¨è®¿é—® â€”â€” è¿™æ„å‘³ç€åƒ <code>Image ("avatar")</code> è¿™æ ·çš„ä»£ç ä¹‹åä¼šå˜æˆ <code>Image (module.avatar)</code> ã€‚</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1ggwdc1o5lmj315o0rswg0.jpg&quot; alt=&quot;swift-evolution-4&quot;&gt;&lt;/p&gt;
&lt;p&gt;Swift 5.3 æœ‰ä¸å°‘å˜åŒ–ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬å¤šæ¨¡å¼ ca
      
    
    </summary>
    
    
      <category term="programming" scheme="https://theinfinitegame.tech/categories/programming/"/>
    
    
      <category term="swift" scheme="https://theinfinitegame.tech/tags/swift/"/>
    
      <category term="ç¼–ç¨‹" scheme="https://theinfinitegame.tech/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Unity Tech | How to implement a â€˜sacrificeâ€™ skill - take bullets for companion ğŸºğŸºğŸº</title>
    <link href="https://theinfinitegame.tech/unity-portfolio/tfaces-game-match-hero-progress-daily-20200310/"/>
    <id>https://theinfinitegame.tech/unity-portfolio/tfaces-game-match-hero-progress-daily-20200310/</id>
    <published>2020-03-21T02:22:05.000Z</published>
    <updated>2020-04-05T02:00:54.622Z</updated>
    
    <content type="html"><![CDATA[<p>In our latest game development, I implemented an interesting action: â€œjumping blockâ€.</p><p>The team used this skill on the white wolf guard.  The specific skill is called â€œsacrificeâ€. ğŸ¤¨</p><blockquote><p>Whenever the wolf leader around him receives deadly ballistic damage, the heroic white wolf guard will take a deep leap and block this damage for his boss.</p></blockquote><p>Here is the video demonstration on Youtube:</p><video src="https://www.youtube.com/watch?v=LCN8_GVhync" type="video/mp4" controls="controls" width="100%" height="100%"></video><p>And here is the schematic diagram:</p><p><img src="/images/ward fellow by take a bullet for them.png" width="68%" height="68%" style="margin: 10 auto;"></p><p>The realization of the jumping block is very interesting ğŸ¤ª. It is a combination of mathematics and physics.</p><p>Letâ€™s skip the unimportant part and look directly at the most critical code:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> A callback invoked when we find a particle(i.e. our bullet) is flying toward something</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="collisionInstance"&gt;</span>a manager contains information about the particle<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="estimatedArrival"&gt;</span>estimated time of flight<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">OnParticleHeadingToTarget</span>(<span class="params">ParticleCollisionInstance collisionInstance, <span class="keyword">float</span> estimatedArrival</span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// Check if the bullet is flying toward our fellow</span></span><br><span class="line">    <span class="keyword">if</span> (collisionInstance != <span class="literal">null</span> &amp;&amp; collisionInstance.HeadingTarget == wolfFellow.gameObject)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Calculate which point should I jump in order to take the bullet for my fellow</span></span><br><span class="line">        jumpSpot = collisionInstance.EvaluateNecessaryArrival(<span class="number">4f</span>, <span class="keyword">out</span> <span class="keyword">float</span> time);</span><br><span class="line">        <span class="comment">// of course, you should look at the bullet when you try to take it.</span></span><br><span class="line">        lookSpot = collisionInstance.gameObject.transform.position;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Every creature has its react time when something happens</span></span><br><span class="line">        <span class="keyword">float</span> reactTime = (_dollAction <span class="keyword">as</span> WolfDollAction).WardJumpToApexDuration;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (reactTime &lt;= time)</span><br><span class="line">        {</span><br><span class="line">            Invoke(<span class="keyword">nameof</span>(WardFellow), time - reactTime);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Ward fellow, for wolf guard, warding is implemented by jump to take bullet for fellow</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">WardFellow</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    WolfDollAction wolfAction = _dollAction <span class="keyword">as</span> WolfDollAction;</span><br><span class="line"></span><br><span class="line">    wolfAction.TriggerJumpWard(wolfFellow, jumpSpot, lookSpot);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>the mathematical part, <code>EvaluateNecessaryArrival</code>ï¼š</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Evaluate necessary arrival which we must pass through</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="distanceToHeadingTarget"&gt;</span>distance for the arrival to the target<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="estimatedTime"&gt;</span>out parameter, a estimated time by when we arrive<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>the vector of the must-pass arrival<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Vector3 <span class="title">EvaluateNecessaryArrival</span>(<span class="params"><span class="keyword">float</span> distanceToHeadingTarget, <span class="keyword">out</span> <span class="keyword">float</span> estimatedTime</span>)</span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// Target</span></span><br><span class="line">    <span class="keyword">var</span> heading = HeadingTargetSpot - transform.position;</span><br><span class="line">    <span class="comment">// Distance</span></span><br><span class="line">    <span class="keyword">var</span> currentDistance = heading.magnitude;</span><br><span class="line">    <span class="comment">// Direction</span></span><br><span class="line">    <span class="keyword">var</span> direction = heading / currentDistance;</span><br><span class="line"></span><br><span class="line">    Vector3 arrival = HeadingTargetSpot + direction * -distanceToHeadingTarget;</span><br><span class="line">    estimatedTime = (currentDistance - distanceToHeadingTarget) / MainFlyingParticleVelocity.magnitude;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> arrival;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Itâ€™s not that difficult, right? ğŸ™Š  Hoping you enjoy this skill. ğŸ˜¬</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;In our latest game development, I implemented an interesting action: â€œjumping blockâ€.&lt;/p&gt;
&lt;p&gt;The team used this skill on the white wolf g
      
    
    </summary>
    
    
      <category term="unity-portfolio" scheme="https://theinfinitegame.tech/categories/unity-portfolio/"/>
    
    
      <category term="programming" scheme="https://theinfinitegame.tech/tags/programming/"/>
    
      <category term="unity" scheme="https://theinfinitegame.tech/tags/unity/"/>
    
      <category term="portfolio" scheme="https://theinfinitegame.tech/tags/portfolio/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨ â€œæµæ°´çº¿â€ è®¾è®¡æ‹†è§£å¤æ‚å¤„ç†æµç¨‹</title>
    <link href="https://theinfinitegame.tech/development/programming-use-pipeline-to-tackle-complexity/"/>
    <id>https://theinfinitegame.tech/development/programming-use-pipeline-to-tackle-complexity/</id>
    <published>2020-03-17T03:32:12.000Z</published>
    <updated>2020-03-17T12:43:54.896Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å»ºè®®æ¨ªå±é˜…è¯»ä»£ç </p></blockquote><ul><li>æœ¬æ–‡çš„ä¸»è¦ä»·å€¼ï¼šæä¾›ä¸€ç§æŠ½è±¡å¤æ‚é€»è¾‘ï¼Œè¾¾æˆåŠŸèƒ½å¤ç”¨çš„æ€è·¯</li><li>å…³é”®è¯ï¼šè¯­ä¹‰æç‚¼ã€åŠ¨æ€å…·å</li><li>æœ¬æ–‡çº¦ 4000 å­—ï¼Œå»ºè®®é˜…è¯»æ—¶é—´ 12 åˆ†é’Ÿã€‚</li></ul><h1 id="å¼•å­"><a href="#å¼•å­" class="headerlink" title="å¼•å­"></a>å¼•å­</h1><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ä¸€ç§åœºæ™¯ï¼šéšç€äº§å“åŠŸèƒ½çš„æ‰©å±•ï¼Œå‡ºç°äº†å¤šä¸ªå…·å¤‡é«˜åº¦ç›¸ä¼¼æ€§çš„åŠŸèƒ½å•å…ƒã€‚ä½œä¸ºåŠŸèƒ½å•å…ƒï¼Œå®ƒä»¬å¯èƒ½æœ‰ç€ç›¸ä¼¼çš„äº¤äº’é€»è¾‘ï¼Œæä¾›åŒç±»çš„è¾“å…¥æ•°æ®å’Œè¾“å‡ºæ•°æ®ã€‚å¹¶ä¸”ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå®ƒä»¬éƒ½åœ¨å¤„ç†åŒä¸€ä¸ªçš„ä¸œè¥¿ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸€æ¬¾ä¿®å›¾ app ï¼Œå®ƒåŒ…å«äº†ä¸€ç»„ç¼–è¾‘åŠŸèƒ½ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½ä½œç”¨äºä¸€å¼ å›¾ç‰‡ï¼Œå¤„ç†ä¹‹åçš„å›¾ç‰‡ï¼Œè¿˜å¯ä»¥ä½œä¸ºå…¶ä»–åŠŸèƒ½çš„è¾“å…¥ã€‚ä½œä¸ºç¼–è¾‘å·¥å…·ï¼Œåœ¨æ¯ä¸ªåŠŸèƒ½å†…éƒ¨ï¼Œå¯èƒ½è¿˜éœ€è¦æ”¯æŒæ’¤é”€å’Œé‡åšè¿™æ ·çš„ç”¨æˆ·æ“ä½œã€‚æˆ‘ä»¬å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œè¿™äº›åŠŸèƒ½é—´å­˜åœ¨ç€è®¸å¤šå¯ä»¥è¿›è¡Œå¤ç”¨è®¾è®¡çš„ä»£ç ã€‚</p><p>æœ¬æ–‡åŸºäºä¸€æ¬¡å›é¡¾å‘èµ·ï¼Œå‡ºäºè®°å½•å’Œåˆ†äº«çš„ç›®çš„ï¼šä¸€æ¬¡ä»£ç é‡æ„ï¼Œä¸€æ¬¾ä¹‹å‰æˆ‘å‚ä¸å¼€å‘çš„å›¾åƒå¤„ç†åº”ç”¨ã€‚</p><hr><h1 id="é‡æ„çš„å…·ä½“èƒŒæ™¯"><a href="#é‡æ„çš„å…·ä½“èƒŒæ™¯" class="headerlink" title="é‡æ„çš„å…·ä½“èƒŒæ™¯"></a>é‡æ„çš„å…·ä½“èƒŒæ™¯</h1><p>è¯·çœ‹ä¸‹é¢è¿™å¹…å›¾ï¼š</p><p><img src="/images/black_box.png" alt="æŸä¸ªå›¾åƒåŠŸèƒ½æ¨¡å—çš„ç»“æ„å›¾"></p><p>å…ƒç´ ä¸å¤šï¼Œè®©æˆ‘è§£é‡Šä¸€ä¸‹ã€‚å›¾ä¸­çš„ â€œ<strong>å†…å­˜å›¾åƒç®¡ç† + æ•ˆæœå¤„ç†</strong>â€ æ˜¯ä¸€ä¸ª â€œ<strong>é»‘ç›’å­</strong>â€ã€‚â€œé€»è¾‘é»‘ç›’â€ æœ‰çš„æ—¶å€™æ˜¯å¥½äº‹ï¼Œæœ‰çš„æ—¶å€™æ˜¯åäº‹ã€‚é‚£è¿™é‡Œçš„é»‘ç›’å­ç®—å¥½äº‹è¿˜æ˜¯åäº‹å‘¢ï¼Ÿ æ—¢ç„¶å¯¹è¿™ç§è®¾è®¡åšäº†é‡æ„ï¼Œå¤šåŠæ˜¯æœ‰ç—›ç‚¹äº†ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é‡ç‚¹æ¢è®¨ä¸€ä¸‹å®ƒçš„è´Ÿé¢æ•ˆåº”ã€‚ </p><p>åœ¨å…·ä½“ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œè¿™ä¸ªé»‘ç›’å­æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>å›¾åƒå¤„ç†æ¥å£ç²’åº¦å¤ªå¤§ï¼Œéš¾ä»¥å¤ç”¨ä»£ç ï¼›</li><li>å›¾åƒ <strong>ç®¡ç†</strong> å’Œå›¾åƒ <strong>æ•ˆæœå¤„ç†</strong> è¢«ç»‘å®šåœ¨ä¸€èµ·ã€‚ä½¿å¾—å¤–éƒ¨éš¾ä»¥çµæ´»çš„æ¥è§¦å’Œä½¿ç”¨å›¾åƒã€‚å¼ºè°ƒä¸€ä¸‹ï¼Œç®¡ç†å’Œæ•ˆæœå¤„ç†æ˜¯ä¸¤ä»¶äº‹ã€‚å‰è€…æ˜¯ç«™åœ¨ç”¨æˆ·çš„è§’åº¦ï¼Œåè€…æ˜¯ç«™åœ¨æœåŠ¡æä¾›è€…çš„è§’åº¦ã€‚æ›´é«˜å±‚åº”ç”¨é€»è¾‘çš„å¼€å‘è€…ï¼Œå¯¹äºæ›´åº•å±‚æ”¯æ’‘ API çš„å¼€å‘è€…æ¥è¯´ï¼Œä¹Ÿæ˜¯ç”¨æˆ·ã€‚</li></ul><h1 id="â€œç®¡é“â€-æ¦‚å¿µçš„æç‚¼"><a href="#â€œç®¡é“â€-æ¦‚å¿µçš„æç‚¼" class="headerlink" title="â€œç®¡é“â€ æ¦‚å¿µçš„æç‚¼"></a>â€œç®¡é“â€ æ¦‚å¿µçš„æç‚¼</h1><p>é»‘ç›’å­çš„ä¸¤ä¸ªé—®é¢˜åœ¨é‡æ„æ—¶éƒ½å¾—åˆ°äº†è§£å†³ï¼Œä½†ç¬¬ä¸€ä¸ªé—®é¢˜ä¸æœ¬æ–‡è¦åˆ†äº«çš„è®¾è®¡æ€æƒ³å…³è”ä¸å¤§ï¼Œä¸åšå±•å¼€ã€‚</p><p>ä¸ºäº†è¯´æ˜æˆ‘ä»¬æ˜¯å¦‚ä½•è§£å†³ç¬¬äºŒä¸ªé—®é¢˜çš„ï¼Œè¿™é‡Œå…ˆå¼•å…¥ä¸¤ä¸ªæ¦‚å¿µï¼šâ€œ<strong>æµæ°´çº¿</strong>â€ å’Œ â€œ<strong>ä¾‹ç¨‹</strong>â€ã€‚ç›¸ä¿¡å¯¹äºä»äº‹ç¼–ç¨‹ç±»å·¥ä½œçš„è¯»è€…æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªè¯ä¸ä¼šé™Œç”Ÿã€‚</p><blockquote><p><strong>æµæ°´çº¿</strong>  pipelineï¼Œ[è®¡] åˆç§°ç®¡é“ï¼Œç®¡çº¿ã€‚<br><strong>ä¾‹ç¨‹</strong>  routineï¼Œ[è®¡] ç¨‹åºï¼›æ—¥å¸¸å·¥ä½œï¼›ä¾‹è¡Œå…¬äº‹</p></blockquote><p>åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œ<code>Pipeline</code> ç›¸å½“äºå†…å­˜ä¸­çš„å›¾åƒçŠ¶æ€æœºï¼Œæä¾›äº†åŸºæœ¬çš„å›¾åƒç®¡ç†åŠŸèƒ½ï¼Œä¾‹å¦‚åŠ å…¥å›¾åƒï¼Œåˆ é™¤å›¾åƒï¼Œå¤åˆ¶å›¾åƒï¼Œç§»åŠ¨å›¾åƒï¼Œç­‰ç­‰ã€‚<code>Routine</code> ç›¸å½“äºå„ä¸ªå›¾åƒåŠŸèƒ½å•å…ƒä¸­çš„é€šç”¨äº‹åŠ¡ï¼Œæ¯”å¦‚è¯´ï¼Œå¯¹äºæ¯ä¸ªå›¾åƒåŠŸèƒ½å•å…ƒï¼Œéƒ½éœ€è¦åœ¨å…¶å¼€å§‹è¿ä½œæ—¶ä»æŸå¤„è·å¾—ä¸€ä»½åˆå§‹çš„å›¾åƒï¼Œå¹¶åœ¨å…¶ç»“æŸè¿ä½œæ—¶è¾“å‡ºä¸€ä»½ <strong><em>æœ€ç»ˆçš„</em></strong> å›¾åƒåˆ°å¦ä¸€å¤„ã€‚æˆ‘ä»¬è¿˜çº¦å®šï¼Œ<code>Routine</code> ä¸­çš„äº‹åŠ¡ä¼šåŸºäº <code>Pipeline</code> æ¥å®Œæˆã€‚å¯ä»¥å…·ä½“è§£é‡Šæˆè¿™æ ·ï¼šæ¯ä¸ª <code>Routine</code> éƒ½ä¼šåŒ…å«ä¸€ç»„å…¸å‹çš„å›¾åƒå¤„ç†åŠ¨ä½œï¼Œè¿™äº›å¤„ç†åŠ¨ä½œå€ŸåŠ©ä¸€ä¸ªæˆ–è€…å¤šä¸ª <code>Pipeline</code> çš„é€šç”¨æ“ä½œï¼Œä»¥åŠæ¯ä¸ª <code>Pipeline</code> çš„å·®å¼‚åŒ–æ“ä½œæ¥å®Œæˆï¼ˆåé¢ä¼šå…·ä½“è¯´æ˜è¿™ä¸ª <strong><em>å·®å¼‚åŒ–çš„å›¾åƒå¤„ç†æ­¥éª¤</em></strong>ï¼‰ã€‚</p><p>ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠ â€œ<strong>æµæ°´çº¿</strong>â€ çš„å«æ³•ç›´æ¥æ›¿æ¢æˆ â€œ<strong>ç®¡é“</strong>â€ï¼Œå› ä¸ºåé¢ä¼šç”¨åˆ°ä¸€äº›æ¯”å–»æ€§çš„æè¿°ï¼Œæˆ‘ä¸ªäººå®ƒä»¬è§‰å¾—åŸºäº â€œç®¡é“â€ ä¸€è¯è¡ç”Ÿå‡ºæ¥ï¼Œä¼šæ¯”ç”¨ â€œæµæ°´çº¿â€ æ¥å¾—æ›´è‡ªç„¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹ â€œç®¡é“â€ è¿™ä¸ªæ„è±¡å†åšè¿›ä¸€æ­¥çš„æŒ–æ˜ï¼Œå¯ä»¥è®¾è®¡å‡ºä¸‹é¢è¿™äº›å¯¹åº”å…³ç³»ï¼ˆè¡¨æ ¼ä¸­å·¦ä¾§çš„æ¦‚å¿µåªæ˜¯ä¸€ç§æ¯”å–»ï¼Œè¯»è€…å¯è‡ªè¡Œä½“ä¼šï¼Œè¿™é‡Œä¸ä¼šè¯¦ç»†è§£è¯»ï¼‰</p><div class="table-container"><table><thead><tr><th>æ¯”å–»</th><th>åŸå¯¹è±¡ </th></tr></thead><tbody><tr><td>â€œç®¡é“â€</td><td>å›¾åƒçŠ¶æ€æœº</td></tr><tr><td>â€œæµä½“â€</td><td>å›¾åƒ</td></tr><tr><td>â€œèŠ‚ç‚¹â€</td><td>å›¾åƒçŠ¶æ€</td></tr><tr><td>â€œæµåŠ¨â€</td><td>å›¾åƒçŠ¶æ€æµè½¬</td></tr><tr><td>â€œé”‹é¢â€(æµä½“çš„æœ€å‰ç«¯)</td><td>å½“å‰æ­£åœ¨å¤„ç†çš„å›¾åƒçŠ¶æ€</td></tr><tr><td>â€œè¿é€šæ€§â€</td><td>çŠ¶æ€æœºå†…çš„å›¾åƒä»¥åŠå›¾åƒçŠ¶æ€æœºä¹‹é—´éƒ½æ˜¯å¯ä¸²è”çš„</td></tr></tbody></table></div><p>â€œæµä½“â€ æ˜¯ä¸€ä¸ªåè¯ï¼Œå®ƒå¯¹åº”çš„æ˜¯å›¾åƒï¼Œæ¶‰åŠåˆ°å­˜å‚¨æ¨¡å‹ã€‚æ ¹æ® â€œæµä½“â€ çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡ï¼Œæˆ–è€…è¯´æ¨æ–­ï¼Œç®¡é“é‡Œçš„å›¾åƒå­˜å‚¨æ¨¡å‹åº”è¯¥ä¼šè¢«è®¾è®¡ä¸ºå¹³è¡Œç»“æ„ã€‚</p><p>è¯·è¯»è€…è”æƒ³ä¸€ä¸ªç±»æ¯”ï¼Œ &lt;__åŒ–å¦† / æ•´å®¹  VS  è½¯ä»¶ä¸Šç¾åŒ–ç…§ç‰‡ä¸Šçš„äººè„¸__&gt; ï¼Œå†æ€è€ƒä¸€ä¸‹ï¼Œä¸¤è€…åœ¨å­˜å‚¨æ¨¡å‹å’Œå·¥åºè¿™ä¸¤ä¸ªæ–¹é¢æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ </p><p>å›åˆ°æ­£é¢˜ï¼Œæˆ‘é…äº†äº”å¹…å›¾æ¥æè¿°ç®¡é“åœ¨å…·ä½“å®ç°ä¸­çš„äº”ä¸ªç‰¹æ€§ï¼š</p><ol><li>â€œæµä½“â€ ç”±ä¸€ç³»åˆ— â€œèŠ‚ç‚¹â€ ç»„æˆã€‚â€œèŠ‚ç‚¹â€ï¼Œå³å›¾åƒçš„çŠ¶æ€ï¼Œå®ƒçš„å«ä¹‰æ„æˆäº†æˆ‘ä»¬å¯¹æŸä¸€ä¸ªå›¾åƒçš„æœ¬å¾æ€§è®¤çŸ¥ã€‚é€šä¿—åœ°è®²ï¼Œå›¾åƒçŠ¶æ€èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨ç‰¹å®šçš„åœºæ™¯ä¸‹æŠŠä¸åŒçš„å›¾åƒåŒºåˆ†å¼€æ¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ååŒå¼€å‘çš„ä¸¤ä½ç¨‹åºå‘˜ï¼Œå¯¹äº â€œç¾é¢œâ€ å’Œ â€œæ»¤é•œâ€ è¿™ä¸¤ä¸ªæ­¥éª¤çš„è®¤çŸ¥è¾¾æˆäº†å…±è¯†ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»ºç«‹ä¸¤ä¸ªèŠ‚ç‚¹ï¼šâ€œç¾é¢œâ€ã€â€œæ»¤é•œâ€ï¼Œç„¶ååœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ¥ <em>åä½œ</em> ã€‚æ³¨æ„ï¼Œå›¾åƒçŠ¶æ€ä¸æ˜¯å›¾åƒæœ¬èº«ã€‚å¯¹äºå›¾åƒçŠ¶æ€çš„ä»£ç å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæè½»é‡çš„æ•°æ®ç»“æ„ â€”â€” å­—ç¬¦ä¸²ã€‚å®ƒä½“ç°çš„æ˜¯ <strong>å ä½ç¬¦æ€æƒ³</strong>ï¼Œè€Œæˆ‘æƒ³è¦å¼ºè°ƒå ä½ç¬¦çš„ä¸‰ä¸ªé‡è¦å¥½å¤„ï¼šå®ƒä»¬æ˜¯ <strong>å¯é¢„è§çš„</strong>ï¼ˆåŸºäºè®¤çŸ¥å…±è¯†ï¼‰ã€<strong>å¯é¢„ç½®çš„</strong>ï¼ˆå¾ˆè½»é‡ï¼‰ã€<strong>å¯å›ºåŒ–çš„</strong>ï¼ˆå¯å¤ç”¨ä»£ç çš„ä¸€ä¸ªå†…åœ¨è¦æ±‚ï¼‰ã€‚</li></ol><p><img src="/images/nodes.png" alt="èŠ‚ç‚¹åŠåŒä½èŠ‚ç‚¹"></p><ol><li>â€œç®¡é“â€ é€šè¿‡è¡”æ¥ â€œèŠ‚ç‚¹â€ æ„æˆ â€œè¿é€šâ€ã€‚åœ¨ â€œèŠ‚ç‚¹â€ ä¸­ï¼Œæœ‰å¿…è¦ç‰¹åˆ«ä»‹ç»çš„æ˜¯ â€œåŒä½èŠ‚ç‚¹â€ã€‚å®ƒæŒ‡çš„æ˜¯ï¼šå‡ ä¸ªæ­¥éª¤åœ¨ <strong>åŒä¸€ä¸ªå›¾åƒ</strong> ä¸Šå…ˆåå‘ç”Ÿã€‚åœ¨æ—¶é—´ä¸Šæœ‰å…ˆåï¼Œä½†åœ¨ç©ºé—´ä¸Šå§‹ç»ˆæ“ä½œåŒä¸€ä»½å­˜å‚¨ã€‚æˆ‘åé¢ä¼šå†ç”¨åˆ°è¿™ä¸ªæè¿°ã€‚</li></ol><p><img src="/images/connectivity.png" alt="è¿é€šæ€§"></p><ol><li><p>â€œæµåŠ¨â€ çš„ â€œæµä½“â€ ä¼šæœ‰ä¸€ä¸ª <strong>æœ€å‰éƒ¨</strong> ï¼Œå°±å¥½åƒæ°´æµçš„æœ€å‰ç«¯ï¼Œåˆç§°ä¸º â€œé”‹é¢â€ (Waterfront)ï¼Œå¯¹åº”ç€è¿™æ ·ä¸€ä¸ªäº‹å®ï¼šâ€œç®¡é“â€ ä¸­æ‰€æœ‰çš„å›¾åƒï¼Œåœ¨åŒä¸€æ—¶é—´é‡Œï¼Œåªä¼šæœ‰ <strong>å”¯ä¸€çš„</strong> å›¾åƒå¤„äº <strong>å¯æ“ä½œ</strong> çš„çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä»£è¡¨ç€ <strong>å›¾åƒçš„å˜åŒ–è¶‹åŠ¿</strong> ã€‚å…·ä½“åˆ°ä»£ç å®ç°ï¼Œå¯èƒ½ä¼šæ˜¯ä¸€ç»„å¸¦æœ‰ <em> åŒæ­¥å…³é”®å­— </em> çš„æ–¹æ³•ï¼ŒåŠ ä¸Šä¸€ä¸ªå”¯ä¸€çš„æŒ‡å‘å½“å‰çŠ¶æ€çš„æŒ‡é’ˆã€‚æˆ‘ä»¬é€šè¿‡ <strong>å¼•å¯¼</strong> å’Œ <strong>æ“åˆ€</strong> è¿™ä¸ªè¶‹åŠ¿ï¼ŒæŠŠå›¾åƒ â€œå¼•å‘â€ æœ€ç»ˆè¦å‘ˆç°å‡ºæ¥çš„æ ·å­ã€‚åœ¨å›¾ç¤ºä¸­ï¼Œæˆ‘æœ‰æ„ä½¿ç”¨äº†ç»¿è‰²ä»£è¡¨åŸå§‹çš„ã€æœ€åˆçš„ï¼Œä½¿ç”¨çº¢è‰²ä»£è¡¨æˆç†Ÿçš„ã€å®Œå…¨ä½“çš„ã€‚<code>Pipeline</code> ä¸“æ³¨äºåšä¸€ä»¶äº‹ï¼šæŠŠå›¾åƒä»ä¸€ç§çŠ¶æ€è½¬åŒ–ä¸ºå¦å¤–ä¸€ç§çŠ¶æ€ã€‚è¿™æœŸé—´ï¼Œå¯èƒ½è¦ç»å†å¤šä¸ª â€œèŠ‚ç‚¹â€ï¼Œè€Œ â€œé”‹é¢â€ çš„æ„ä¹‰å°±åœ¨äºï¼Œå®ƒä¿è¯äº†ä¸€ä»¶äº‹ã€‚é‚£å°±æ˜¯ <code>Pipeline</code> çš„æ“åˆ€è€…å¯ä»¥ç¡®ä¿¡ï¼Œè¿™ä¸€åˆ»åªæœ‰ä»–è‡ªå·±åœ¨å¼•å¯¼å›¾åƒçš„ â€œæµå‘â€ï¼Œæ²¡æœ‰äººä¼šå¹²æ‰°åˆ°ä»–ã€‚</p><p><img src="/images/waterfront.png" alt="é”‹é¢"></p></li><li><p>â€œæµåŠ¨â€ å¯ä»¥æ˜¯åŒå‘çš„ï¼ˆç›¸æ¯”ç”Ÿäº§è½¦é—´çš„ â€œæµæ°´çº¿â€ï¼Œâ€œç®¡é“â€ ä¹‹æ‰€ä»¥æ›´è´´åˆ‡ï¼Œåœ¨äºåè€…å¯ä»¥å®ç°åŒå‘çš„æµåŠ¨ï¼Œå¯¹åº”åˆ°å›¾åƒï¼Œç›¸å½“äºå®ç°åå‘ç¼–è¾‘ï¼Œæˆ–è€…è¯´æ’¤é”€åˆ°ä¸€ä¸ªå¤„ç†æ­¥éª¤ä¹‹å‰çš„çŠ¶æ€ï¼‰</p></li><li><p>â€œæµä½“â€ å¦‚æœ â€œåˆ†æµâ€ï¼Œåˆ™å¯ä»¥å‡ºç°å¤šä¸ª â€œé”‹é¢â€ï¼Œå¯¹åº”ç€å›¾åƒçš„ <strong>å¹¶è¡Œå¤„ç†</strong> ã€‚</p><p><img src="/images/shunt.png" alt="åˆ†æµ"></p></li></ol><h1 id="â€œç®¡é“â€-çš„å…·ä½“å®ç°"><a href="#â€œç®¡é“â€-çš„å…·ä½“å®ç°" class="headerlink" title="â€œç®¡é“â€ çš„å…·ä½“å®ç°"></a>â€œç®¡é“â€ çš„å…·ä½“å®ç°</h1><p>å¦‚å‰æ‰€è¿°ï¼Œâ€œæµä½“â€ å…¶å®å°±æ˜¯å›¾åƒï¼Œç®€å•å°è£…å³å¯ã€‚æˆ‘ä»¬ä¸»è¦å®ç°çš„æ˜¯ â€œ<strong>èŠ‚ç‚¹</strong>â€ã€â€œ<strong>é”‹é¢</strong>â€ã€ â€œ<strong>æµåŠ¨</strong>â€ å’Œ â€œ<strong>è¿é€š</strong>â€ã€‚</p><h2 id="èŠ‚ç‚¹çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰"><a href="#èŠ‚ç‚¹çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰" class="headerlink" title="èŠ‚ç‚¹çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰"></a>èŠ‚ç‚¹çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ç§å…¸å‹çš„å›¾åƒå¤„ç†è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡‡ç”¨çš„å†™æ³•ï¼Œä»£ç ä¸º swift å®ç°ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾åƒ xyz</span></span><br><span class="line"><span class="keyword">var</span> xyz: <span class="type">MyImage</span></span><br><span class="line"><span class="comment">// å›¾åƒ ijk</span></span><br><span class="line"><span class="keyword">var</span> ijk: <span class="type">MyImage</span></span><br><span class="line"><span class="comment">// å›¾åƒ abc </span></span><br><span class="line"><span class="keyword">var</span> abc: <span class="type">MyImage</span></span><br></pre></td></tr></tbody></table></figure><p>å½“ç„¶ï¼Œç°ä»£ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ç‰¹æ€§ï¼Œå¯ä»¥è®©ä½ çœå»å†™å„ç§ getter/setter çš„æ ·æ¿ä»£ç ï¼Œä»è€ŒèŠ‚çœä»£ç é‡ã€‚ä½†è¿™ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹åœ¨äº â€”â€” ä¸Šè¿°è¿™ç§ä»£ç æ— æ³•å¤ç”¨ã€‚å› ä¸ºæ¯ä¸€ä¸ªå›¾åƒçš„å¼•ç”¨éƒ½è¢«èµ‹äºˆäº† <strong>å…·ä½“</strong> çš„å«ä¹‰ï¼šåŒæ ·çš„å†™æ³•ä¸å¤ªå¯èƒ½å®Œå…¨åœ°é€‚ç”¨äºå¦å¤–ä¸€ä¸ªå›¾åƒå¤„ç†åœºæ™¯ã€‚æ¯”å¦‚è¯´ï¼Œå¦å¤–é‚£ä¸ªå›¾åƒå¤„ç†åœºæ™¯å¾ˆå¯èƒ½ä¸ä¼šç”¨åˆ°æè¿°ä¸º ijk çš„å›¾åƒï¼Œå¯èƒ½ä¼šç”¨åˆ°æè¿°æ˜¯ uvw çš„å›¾åƒã€‚å› æ­¤ï¼Œé‡‡å–è¿™ç§å†™æ³•ä¼šé‡åˆ°çš„ä¸€ä¸ªå…¸å‹é—®é¢˜æ˜¯ï¼šæ¯æ–°å¢ä¸€ä¸ªå›¾åƒå¤„ç†åœºæ™¯ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ–°å¢è‹¥å¹²ä¸ªç‰¹å®šæè¿°çš„å›¾åƒå£°æ˜ã€‚åœ¨ç¼–ç å±‚é¢ï¼Œè¿™æ— ç–‘æ˜¯ä¸€é¡¹ç¹å†—çš„å·¥ä½œã€‚</p><p>ä¸Šé¢è¯´çš„å›¾åƒå¼•ç”¨ï¼Œå…¶å®æ­£æ˜¯æˆ‘ä»¬çš„å›¾åƒ â€œç®¡é“â€ é‡Œçš„æŸä¸ª â€œèŠ‚ç‚¹â€ã€‚æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè¦å¯¹ â€œèŠ‚ç‚¹â€ å®ç°ä»£ç å¤ç”¨ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿç¨å¾®æç¤ºä¸€ä¸‹ï¼Œå…³é”®åœ¨äº â€œ<strong>å…·ä½“</strong>â€ è¿™ä¸¤ä¸ªå­—ã€‚</p><p>æ˜¯çš„ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æƒ³åˆ°ï¼Œä¸Šé¢çš„å†™æ³•ä¸­ä»£ç ä¹‹æ‰€ä»¥ä¸èƒ½å¤ç”¨ï¼Œæ ¹æºåœ¨äºå›¾åƒå¼•ç”¨çš„ç”¨é€”å·²ç»è¢« <strong>å…·ä½“å®šä¹‰</strong>ï¼ˆåŒæ—¶ä¹Ÿæ˜¯è¢«å…·ä½“ <strong>çº¦æŸ</strong>ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ›´æœ‰å¯èƒ½å¾€è¿™æ ·ä¸€ä¸ªæ–¹å‘æ€è€ƒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šèƒ½ä¸èƒ½æŠŠå›¾åƒå¼•ç”¨ â€œå»å…·ä½“åŒ–â€ ï¼Œè®©å®ƒçš„å«ä¹‰åœ¨å…·ä½“åœºæ™¯åˆ°æ¥æ—¶æ‰è¢«èµ‹äºˆå‘¢ï¼Ÿ</p><p>è®²åˆ°è¿™ä¸€å±‚ï¼Œæœ‰äº›è¯»è€…å¯èƒ½å·²ç»æƒ³åˆ°ä¸€ç§æ•°æ®ç»“æ„ â€”â€” å­—å…¸ã€‚æ˜¯çš„ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥‡æ·«å·§æŠ€ï¼Œåªç”¨å­—å…¸ï¼Œå°±èƒ½å®ç° â€œå»å…·ä½“åŒ–â€ï¼Œè§£å†³è¿™ä¸ªä»£ç å¤ç”¨é—®é¢˜ä¸­çš„æœ€å¤§éšœç¢ â€”â€” æ—¢ç„¶æ— æ³•é¢„çŸ¥æˆ‘ä»¬å¯èƒ½éœ€è¦å¤„ç†ä»€ä¹ˆæ ·çš„å›¾åƒï¼Œå¯èƒ½éœ€è¦å¤„ç†å¤šå°‘ä»½å›¾åƒï¼Œå¹¶ä¸”è¿™äº›æœªçŸ¥æ•°æ€»æ˜¯æ˜“å˜çš„ï¼Œé‚£ä¸ºä»€ä¹ˆä¸è®©å…·ä½“åœºæ™¯çš„ä½¿ç”¨è€…æ¥ <strong>åŠ¨æ€æ·»åŠ </strong> è¿™äº›å›¾åƒå¼•ç”¨ï¼Œå¹¶ä¸”ä¸ºå®ƒä»¬å…·åå‘¢ï¼Ÿå›¾åƒéƒ¨åˆ†è¢«å¤ç”¨çš„ä»£ç ï¼Œè¿™é‡Œåªå£°æ˜äº†ä¸€æ ·ä¸œè¥¿ï¼Œå°±æ˜¯ä»å›¾åƒçŠ¶æ€è¡¨è¿°åˆ°å›¾åƒå¼•ç”¨çš„æ˜ å°„è¡¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ªä¹‹å‰çš„å†™æ³•ä¸å…·å¤‡çš„ç‰¹ç‚¹ï¼Œè€Œè¿™ä¸ªç‰¹ç‚¹æ˜¯è¾¾æˆå¤ç”¨çš„å¿…è¦å‰æï¼šå›¾åƒå­˜å–çš„æ–¹å¼æ˜¯ <strong>ç»Ÿä¸€çš„</strong>ï¼Œ<strong>æœ‰é™çš„</strong>ï¼Œä»è€Œæ˜¯ <strong>å¯å›ºåŒ–çš„</strong>ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stateTagToImageMap = [<span class="type">String</span>:<span class="type">MyImage</span>]()</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬ç”¨ä¸€ä¸ª <strong>å­—ç¬¦ä¸²æ ‡ç­¾</strong> æ¥è¡¨ç¤ºå›¾åƒçš„çŠ¶æ€ã€‚å¯¹äºå›¾åƒ â€œç®¡é“â€ çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œä»–åªéœ€è¦ç†è§£æ¯ä¸ªæ ‡ç­¾çš„å«ä¹‰ï¼Œé€šè¿‡æ ‡ç­¾æ¥å­˜å–å›¾åƒå¹¶è¿›è¡Œå¤„ç†ã€‚åœ¨è¿™äº›æ ‡ç­¾ä¸­ï¼Œæˆ‘ä»¬å†æç‚¼å‡ºå‡ ä¸ªå…·æœ‰é€šç”¨å«ä¹‰çš„ä»£è¡¨æ€§æ ‡ç­¾ï¼šæ¯”å¦‚ï¼Œ<code>original</code> ä»£è¡¨ â€œ<strong>æœ€åˆçš„</strong>â€ï¼Œ<code>processed</code> ä»£è¡¨ â€œ<strong>åŠ å·¥å®Œæˆçš„</strong>â€ï¼Œè¿™æ­£æ˜¯å‰æ–‡æåˆ°çš„ <strong>å ä½ç¬¦</strong> ã€‚å®¹æ˜“ç†è§£ï¼Œåœ¨ä¸€ä»½å¯å¤ç”¨çš„ä»£ç åº“ä¸­ï¼Œä½ å¯ä»¥å£°æ˜å¹¶ä¸”é¢„ç½®è®¸å¤š <strong>å ä½ç¬¦</strong> ã€‚ä½†ä½ ä¸ä¼šåœ¨è¿™ä¸ªä»£ç åº“é‡Œå£°æ˜åŒæ ·æ•°é‡çš„å›¾åƒå¼•ç”¨ â€”â€” è¿™æ ·å¾ˆå¥‡æ€ªå¯¹å§ï¼Ÿå“ªæ€•ä»ç¨‹åºå®ç°çš„è§’åº¦æ¥è¯´ï¼Œæ²¡æœ‰åˆ†é…å®é™…ç©ºé—´çš„å¼•ç”¨å¹¶ä¸ä¸€å®šä¼šå æ®æ›´å¤šçš„å†…å­˜ã€‚åœ¨åé¢åˆ—ä¸¾çš„ä»£ç èŒƒä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šç»å¸¸åœ°ç”¨åˆ° <code>original</code> å’Œ <code>processed</code> è¿™æ ·çš„æ ‡ç­¾ã€‚</p><p>ä¸å¦¨é˜…è¯»ä¸‹é¢è¿™æ®µä»£ç ï¼Œè¿™å°±æ˜¯ä¸€ç§ä½¿ç”¨æ ‡ç­¾æ¥æ“ä½œå¯¹åº”å›¾åƒçš„å†™æ³•ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾ç¤ºä¸¤ä¸ªå¤„ç†æ­¥éª¤ä¹‹åçš„å›¾åƒ </span></span><br><span class="line">pipeline.from (.original) <span class="comment">// ä»åŸå§‹çš„å›¾åƒå¼€å§‹ </span></span><br><span class="line">        .copyTo (.processed) <span class="comment">// æ‹·è´å‡ºä¸€ä»½å›¾åƒç”¨äºå¤„ç†ï¼Œå¯¹åº”æ ‡ç­¾ processed</span></span><br><span class="line">        .doProcess (tag: .processed, specificProcess1)  <span class="comment">// åœ¨ processed ä¸Šæ‰§è¡Œå¤„ç† 1</span></span><br><span class="line">        .doProcess (tag: .processed, specificProcess2) <span class="comment">// åœ¨ processed ä¸Šæ‰§è¡Œå¤„ç† 2</span></span><br><span class="line"></span><br><span class="line">showImage (pipeline.fetch (.processed)) <span class="comment">// å–å¾— processed æ ‡ç­¾ä»£è¡¨çš„å›¾åƒå¹¶ä¸”å±•ç¤º </span></span><br></pre></td></tr></tbody></table></figure><h2 id="é”‹é¢çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰"><a href="#é”‹é¢çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰" class="headerlink" title="é”‹é¢çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰"></a>é”‹é¢çš„å®ç°æ–¹æ¡ˆå’Œæ„ä¹‰</h2><p>è§£å†³äº† â€œèŠ‚ç‚¹â€ çš„è®¾è®¡ï¼Œæˆ‘ä»¬å†æ¥çœ‹åŸºäº â€œèŠ‚ç‚¹â€ æç‚¼å‡ºæ¥çš„ â€œé”‹é¢â€ è¦æ€ä¹ˆè®¾è®¡ã€‚å®¹æ˜“ç†è§£ï¼Œâ€œ<strong>é”‹é¢</strong>â€ æ˜¯æœ€å‰é¢çš„é‚£ä¸ª â€œèŠ‚ç‚¹â€ ï¼Œå…·æœ‰ <strong>å”¯ä¸€æ€§</strong>ï¼Œå¯¹åº”å…·ä½“çš„å›¾åƒå¤„ç†ä»£ç ä¸­å°±æ˜¯ â€œå½“å‰æ­£åœ¨è¢«å¤„ç†çš„é‚£ä¸ªå›¾åƒâ€ã€‚åœ¨è®¾è®¡å›¾åƒç®¡é“å¯¹å¤–æä¾›çš„å¤„ç† API æ—¶ï¼Œæˆ‘ä»¬çº¦å®šå¤„ç†åŠ¨ä½œä¸€å®šåªèƒ½å‘ç”Ÿåœ¨è¿™ä¸ª â€œ<strong>å½“å‰çš„</strong>â€ å›¾åƒä¸Šï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯æˆ‘ä»¬çš„ â€œå›¾åƒæµâ€ æ€»æ˜¯æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å‘æµåŠ¨ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œâ€œå›¾åƒæµâ€ æ˜¯ä¸ä¼šè¢«ç¯¡æ”¹çš„ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„å›¾åƒç¼–è¾‘åŠŸèƒ½è¦å®ç°æ’¤é”€å’Œé‡åšåŠŸèƒ½çš„åŸºæœ¬å‰æã€‚</p><p>è¿˜æ˜¯ä¸Šé¢é‚£æ®µä»£ç ï¼Œç°åœ¨å¯ä»¥å»æ‰å®é™…å¤„ç†æ­¥éª¤çš„æ ‡ç­¾å‚æ•°ã€‚å› ä¸ºæˆ‘ä»¬çº¦æŸäº†å¤„ç†åªèƒ½å‘ç”Ÿåœ¨ <strong>å”¯ä¸€çš„</strong>ã€<strong>å½“å‰çš„</strong> å›¾åƒä¸Šã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾ç¤ºä¸€ä¸ªå¤„ç†æ­¥éª¤ä¹‹åçš„å›¾åƒ </span></span><br><span class="line">pipeline.from (.original) <span class="comment">// ä»åŸå§‹çš„å›¾åƒå¼€å§‹ </span></span><br><span class="line">        .copyTo (.processed) <span class="comment">// æ‹·è´å‡ºä¸€ä»½å›¾åƒç”¨äºå¤„ç†ï¼Œå¯¹åº”æ ‡ç­¾ processed</span></span><br><span class="line">        .doProcess (specificProcess1) <span class="comment">// éšå«äº†åœ¨ processed ä¸Šæ‰§è¡Œå¤„ç† 1</span></span><br><span class="line">        .doProcess (specificProcess2) <span class="comment">// éšå«äº†åœ¨ processed ä¸Šæ‰§è¡Œå¤„ç† 2</span></span><br><span class="line"></span><br><span class="line">showImage (pipeline.fetch (.processed)) <span class="comment">// å–å¾— processed æ ‡ç­¾ä»£è¡¨çš„å›¾åƒå¹¶ä¸”å±•ç¤º </span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœè¦æ±‚èƒ½å¤Ÿå›æ’¤åˆ°ç¬¬ä¸€ä¸ªå¤„ç†æ­¥éª¤ä¹‹åçš„çŠ¶æ€ï¼Œå†åšç¬¬äºŒä¸ªå¤„ç†æ­¥éª¤ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå¤„ç†æ­¥éª¤çš„å‚æ•°æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚å¯ä»¥è¿™ä¹ˆåšï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾ç¤ºä¸€ä¸ªå¤„ç†æ­¥éª¤ä¹‹åçš„å›¾åƒï¼Œä½†æˆ‘ä»¬åœ¨è¿‡ç¨‹ä¸­ä¿ç•™äº†ç¬¬ä¸€ä¸ªæ­¥éª¤çš„çŠ¶æ€ </span></span><br><span class="line">pipeline.from (.original)</span><br><span class="line">        .copyTo (<span class="string">"specificProcess1"</span>) <span class="comment">// ç›¸æ¯”ä¸€æ­¥åˆ°ä½ï¼Œè¿™é‡Œå¤šå­˜å‚¨äº†ç¬¬ä¸€ä¸ªæ­¥éª¤çš„çŠ¶æ€ </span></span><br><span class="line">        .doProcess (specificProcess1)</span><br><span class="line">        .copyTo (.processed)</span><br><span class="line">        .doProcess (specificProcess2.setParams (params1))</span><br><span class="line"></span><br><span class="line">showImage (pipeline.fetch (.processed))</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒæ•´ç¬¬äºŒä¸ªæ­¥éª¤çš„æŸäº›å‚æ•°ï¼Œé‡æ–°æ˜¾ç¤ºå›¾åƒ </span></span><br><span class="line">pipeline.from (<span class="string">"specificProcess1"</span>) <span class="comment">// ä¹‹å‰å­˜å‚¨äº†ç¬¬ä¸€ä¸ªæ­¥éª¤çš„çŠ¶æ€ï¼Œç›´æ¥ä»è¿™ä¸ªæ­¥éª¤å¼€å§‹ </span></span><br><span class="line">        .copyTo (.processed)</span><br><span class="line">        .doProcess (specificProcess2.setParams (params2))</span><br><span class="line"></span><br><span class="line">showImage (pipeline.fetch (.processed))</span><br></pre></td></tr></tbody></table></figure><h2 id="æµåŠ¨å’Œè¿é€šæ€§çš„å®ç°æ–¹æ¡ˆ"><a href="#æµåŠ¨å’Œè¿é€šæ€§çš„å®ç°æ–¹æ¡ˆ" class="headerlink" title="æµåŠ¨å’Œè¿é€šæ€§çš„å®ç°æ–¹æ¡ˆ"></a>æµåŠ¨å’Œè¿é€šæ€§çš„å®ç°æ–¹æ¡ˆ</h2><p>æœ‰äº† â€œèŠ‚ç‚¹â€ å’Œ â€œé”‹é¢â€ï¼Œâ€œæµåŠ¨â€ å’Œ â€œè¿é€šâ€ å°±æœ‰äº†ä½œç”¨çš„ä¸»ä½“ã€‚å¯¹åº”åˆ°å›¾åƒç¼–è¾‘åŠŸèƒ½ï¼Œâ€œ<strong>æµåŠ¨</strong>â€ å…¶å®å°±æ˜¯å›¾åƒä»ä¸€ä¸ªçŠ¶æ€å˜æˆå¦å¤–ä¸€ä¸ªçŠ¶æ€çš„è¿‡ç¨‹ã€‚â€œ<strong>è¿é€š</strong>â€ åˆ™æ›´å¥½ç†è§£ï¼Œä¸€ä¸ªç®¡é“å‡ºæ¥çš„å›¾åƒå¯ä»¥è¢«å¦å¤–ä¸€ä¸ªç®¡é“æ¥çº³ï¼Œç”±æ­¤æ„æˆç®¡é“ä¹‹é—´çš„è¿æ¥ã€‚è¿æ¥åœ¨ä¸€èµ·çš„æ¯ä¸€èŠ‚ â€œ<strong>å°ç®¡é“</strong>â€ å„å¸å…¶èŒï¼Œçµæ´»ç»„åˆï¼Œå†æ„æˆæ›´é•¿è·¨åº¦çš„ â€œ<strong>å¤§ç®¡é“</strong>â€ æˆ–è€… â€œ<strong>ç®¡é“ç½‘ç»œ</strong>â€ï¼Œä»è€ŒååŒå®Œæˆå¤æ‚çš„ä¸šåŠ¡æµç¨‹ã€‚</p><p>å›å½’åˆ°ä»£ç ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ç»„æ­¥éª¤ç¨å¤šçš„å›¾ç‰‡å¤„ç†å·¥åºï¼Œçœ‹å®ƒæ˜¯å¦‚ä½•ä½“ç°å‡ºç®¡é“çš„ â€œæµåŠ¨æ€§â€ å’Œ â€œè¿é€šæ€§â€ã€‚åˆ¨å»å†…éƒ¨çš„å®ç°ç»†èŠ‚ï¼Œæ•´åˆæˆ–è€…å¿½ç•¥ä¸€äº›ä¸ç®¡é“è®¾è®¡æ€æƒ³å…³è”ä¸å¤§çš„é€»è¾‘ï¼Œä»¥ä¸‹ä»£ç åœ¨æµç¨‹ä¸Šç®—æ˜¯æ¯”è¾ƒæ¥è¿‘å®é™…ç”Ÿäº§ç¯å¢ƒäº†ã€‚è™½ç„¶é‡‡ç”¨çš„æ˜¯ä¼ªä»£ç ï¼Œç›¸ä¿¡è¯»è€…å¯ä»¥çœ‹æ‡‚ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** ä¸»åŠŸèƒ½åŒºï¼Œä¸å¦¨å°†å®ƒçš„ä¾‹ç¨‹ç§°ä¸º Main</span></span><br><span class="line"><span class="comment"> * åŸºæœ¬åŠŸèƒ½ï¼š</span></span><br><span class="line"><span class="comment"> * 1. å±•ç¤ºå›¾åƒ </span></span><br><span class="line"><span class="comment"> * 2. å¯ä»¥ä»è¿™é‡Œè¿›å…¥å„å­åŠŸèƒ½å¤„ç†å›¾ç‰‡å†å›åˆ°è¿™é‡Œå±•ç¤ºæ–°çš„å›¾ç‰‡ </span></span><br><span class="line"><span class="comment"> * 3. æ’¤é”€åˆ°ç»è¿‡æŸä¸ªæ­¥éª¤å¤„ç†ä¹‹å‰çš„å›¾åƒæˆ–è€…é‡åšå‡ºä¹‹å‰åšè¿‡ä½†æ˜¯è¢«æ’¤é”€æ‰çš„æŸä¸ªæ­¥éª¤çš„å›¾åƒ   </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">RoutineMain</span>.startFrom (imageFile) {</span><br><span class="line">    <span class="type">RoutineMain</span>.pipeline.loadFrom (imageFile, .original) <span class="comment">// ä»å›¾ç‰‡ä¸­åŠ è½½åˆå§‹çš„å›¾åƒ </span></span><br><span class="line">}</span><br><span class="line"><span class="type">RoutineMain</span>.showCurrent () {</span><br><span class="line">    showImage (<span class="type">RoutineMain</span>.pipeline.front () <span class="comment">// æ˜¾ç¤º â€œé”‹é¢â€</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/** è¿›å…¥åˆ°ä¸€ä¸ªå« â€œç¾å‹â€ çš„åŠŸèƒ½åŒºï¼Œå¯¹åº”çš„ä¾‹ç¨‹ç§°ä¸º FaceLift</span></span><br><span class="line"><span class="comment"> * åŸºæœ¬åŠŸèƒ½ï¼š</span></span><br><span class="line"><span class="comment"> * 1. å±•ç¤ºå›¾åƒ </span></span><br><span class="line"><span class="comment"> * 2. é’ˆå¯¹å›¾åƒä¸­çš„äººè„¸è½®å»“ï¼Œäº”å®˜è¿›è¡Œå½¢çŠ¶è°ƒæ•´ </span></span><br><span class="line"><span class="comment"> * 3. è¾“å‡ºå¤„ç†åçš„å›¾åƒåˆ°ä¸»åŠŸèƒ½åŒº </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">RoutineFaceLift</span>.startFrom (<span class="type">RoutineMain</span>.pipeline.front ().copy ())</span><br><span class="line"><span class="type">RoutineFaceLift</span>.process () {</span><br><span class="line">    <span class="type">RoutineFaceLift</span>.pipeline</span><br><span class="line">         <span class="comment">// è¿™ä¸ªè¿‡ç¨‹ç”¨æˆ·æ— æ³•å¹²é¢„ï¼Œä¸ä¼šæœ‰ â€œé‡åšâ€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨åŸç¨¿ä¸Šæ“ä½œ </span></span><br><span class="line">        .from (.original)</span><br><span class="line">        .doProcess (faceLift_step_1_process)</span><br><span class="line">        .doProcess (faceLift_step_2_process)</span><br><span class="line">        .doProcess (faceLift_step_3_process)</span><br><span class="line">        ...</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æŠŠå­åŠŸèƒ½ â€œç¾å‹â€ å¤„ç†å¥½çš„å›¾åƒæäº¤ç»™ä¸»åŠŸèƒ½ </span></span><br><span class="line"><span class="type">RoutineMain</span>.accept (<span class="type">RoutineFaceLift</span>.commit ())</span><br><span class="line"></span><br><span class="line"><span class="comment">/** è¿›å…¥åˆ°ä¸€ä¸ªå« â€œæ»¤é•œâ€ çš„åŠŸèƒ½åŒºï¼Œå¯¹åº”çš„ä¾‹ç¨‹ç§°ä¸º Filter</span></span><br><span class="line"><span class="comment"> * åŸºæœ¬åŠŸèƒ½ï¼š</span></span><br><span class="line"><span class="comment"> * 1. å±•ç¤ºå›¾åƒ </span></span><br><span class="line"><span class="comment"> * 2. æ»¤é•œåŒ–å¤„ç†å›¾åƒ </span></span><br><span class="line"><span class="comment"> * 3. è¾“å‡ºå¤„ç†åçš„å›¾åƒåˆ°ä¸»åŠŸèƒ½åŒº </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">RoutineFilter</span>.startFrom (<span class="type">RoutineMain</span>.pipeline.front ().copy ());</span><br><span class="line"><span class="type">RoutineFilter</span>.process () {</span><br><span class="line">    <span class="type">RoutineFilter</span>.pipeline</span><br><span class="line">        <span class="comment">// è¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·å†³å®šè¦é€‰ç”¨å“ªä¸ªå…·ä½“çš„æ»¤é•œï¼Œå› æ­¤æ¯æ¬¡éƒ½éœ€è¦åŸºäºåŸç¨¿å¤åˆ¶ä¸€ä»½å†æ»¤é•œåŒ– </span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (filterProcess (pickFilter (<span class="string">"awful"</span>)))</span><br><span class="line">        ... <span class="comment">// çš±çœ‰ï¼Œè¿™ä¸ªä¸å¥½ï¼Œæ¢ä¸€ä¸ªï¼</span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (filterProcess (pickFilter (<span class="string">"notbad"</span>)))</span><br><span class="line">        ... <span class="comment">// æ‰˜è…®ï¼Œè¿™ä¸ªè¿˜è¡Œï¼Œå†æ¢ä¸ªè¯•è¯•ï½</span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (filterProcess (pickFilter (<span class="string">"perfect"</span>)))</span><br><span class="line">        ... <span class="comment">// å®Œç¾ï½</span></span><br><span class="line">        ...</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æŠŠå­åŠŸèƒ½ â€œæ»¤é•œâ€ å¤„ç†å¥½çš„å›¾åƒæäº¤ç»™ä¸»åŠŸèƒ½ </span></span><br><span class="line"><span class="type">RoutineMain</span>.accept (<span class="type">RoutineFilter</span>.commit ())</span><br><span class="line"></span><br><span class="line"><span class="comment">/** è¿›å…¥åˆ°ä¸€ä¸ªå« â€œç¾é¢œ â€ çš„åŠŸèƒ½åŒºï¼Œå¯¹åº”çš„ä¾‹ç¨‹ç§°ä¸º SkinBeauty</span></span><br><span class="line"><span class="comment"> * åŸºæœ¬åŠŸèƒ½ï¼š</span></span><br><span class="line"><span class="comment"> * 1. å±•ç¤ºå›¾åƒ </span></span><br><span class="line"><span class="comment"> * 2. é’ˆå¯¹å›¾åƒä¸­çš„äººè„¸çš®è‚¤è¿›è¡Œè‰²ç›¸è°ƒæ•´ </span></span><br><span class="line"><span class="comment"> * 3. è¾“å‡ºå¤„ç†åçš„å›¾åƒç»™ Main åŠŸèƒ½ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">RoutineSkinBeauty</span>.startFrom (<span class="type">RoutineMain</span>.pipeline.front ().copy ());</span><br><span class="line"><span class="type">RoutineSkinBeauty</span>.process () {</span><br><span class="line">    <span class="type">RoutineSkinBeauty</span>.pipeline</span><br><span class="line">        <span class="comment">// è¿™ä¸ªè¿‡ç¨‹ç”¨æˆ·å¯ä»¥è°ƒèŠ‚ä¸€ä¸ªæ»‘ç«¿æ¥æ§åˆ¶è‰²ç›¸å‚æ•°ï¼Œæ¯æ¬¡éƒ½åŸºäºåŸç¨¿å¤åˆ¶ä¸€ä»½å†è°ƒè‰²ç›¸ </span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (skinBeautyProcess (level_too_weak))</span><br><span class="line">        ... <span class="comment">// æ‰˜è…®ï¼Œæ•ˆæœå¥½åƒä¸æ˜æ˜¾ï¼ŒåŠ å¼ºä¸€ç‚¹ </span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (skinBeautyProcess (level_too_much)))</span><br><span class="line">        ... <span class="comment">// çš±çœ‰ï¼Œå¥½åƒæœ‰ç‚¹è¿‡å¤´äº†ï¼Œå¾€å›è°ƒä¸€ç‚¹ </span></span><br><span class="line">        .from (.original).copyTo (.processed)</span><br><span class="line">        .doProcess (skinBeautyProcess (level_just_right)</span><br><span class="line">        ... <span class="comment">// å®Œç¾ï½</span></span><br><span class="line">        ...</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æŠŠå­åŠŸèƒ½ â€œç¾é¢œâ€ å¤„ç†å¥½çš„å›¾åƒæäº¤ç»™ä¸»åŠŸèƒ½ </span></span><br><span class="line"><span class="type">RoutineMain</span>.accept (<span class="type">RoutineSkinBeauty</span>.commit ())</span><br><span class="line"></span><br><span class="line"><span class="comment">// çº ç»“ä¸€ä¸‹ã€‚ã€‚</span></span><br><span class="line"><span class="comment">// çŠ¹è±«ï¼Œè¦ä¸è¿˜æ˜¯ä¸ç¾é¢œäº†å§ï¼Ÿ</span></span><br><span class="line"><span class="type">RoutineMain</span>.undo ();</span><br><span class="line"><span class="comment">// è¿Ÿç–‘ï¼Œæ»¤é•œä¹Ÿä¸è¦äº†ï¼Ÿ</span></span><br><span class="line"><span class="type">RoutineMain</span>.undo ();</span><br><span class="line"><span class="comment">// æ€è€ƒä¸­ã€‚ã€‚ã€‚</span></span><br><span class="line"><span class="comment">//... ä¸è¡Œï¼Œè¿˜æ˜¯éƒ½åŠ å›æ¥å§ </span></span><br><span class="line"><span class="type">RoutineMain</span>.redo ().redo ();</span><br><span class="line"><span class="comment">// ç«¯è¯¦ 5 åˆ†é’Ÿã€‚ã€‚ã€‚å®Œç¾ï½</span></span><br><span class="line">save (); <span class="comment">// æ”¶å·¥ï¼Œå‡†å¤‡å‘æœ‹å‹åœˆ </span></span><br></pre></td></tr></tbody></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å…³äº â€œç®¡é“â€ çš„è®¾è®¡æ€è·¯å’Œå®ç°æ–¹æ¡ˆä»‹ç»åˆ°æ­¤ã€‚æˆ‘ä»¬å¯ä»¥å›é¡¾ä¸€ä¸‹ï¼Œæœ¬æ–‡å¼€å§‹æ‰€æåˆ° â€œé»‘ç›’å­â€ è®¾è®¡çš„ç¬¬äºŒä¸ªé—®é¢˜ï¼šâ€œå›¾åƒ <strong><em>ç®¡ç†</em></strong>  å’Œå›¾åƒ <strong><em>æ•ˆæœå¤„ç†</em></strong>  è¢«ç»‘å®šåœ¨ä¸€èµ·ã€‚â€ï¼Œåœ¨ç®¡é“æ–¹æ¡ˆä¸­æ˜¯ä¸æ˜¯å·²ç»è§£å†³äº†å‘¢ï¼Ÿ</p><blockquote><p>â€œç®¡é“â€ è®¾è®¡çš„åŸºçŸ³æ˜¯ <strong>æ— å·®åˆ«åœ°ç®¡ç†å›¾åƒ</strong> ï¼Œè¢«ç®¡ç†çš„æ¯ä¸€ä¸ªå›¾åƒï¼Œç”±æœ€åˆå°†å…¶æŠ•å…¥ç®¡é“çš„åˆ›å»ºè€…ä¸ºå…¶å®šä¹‰æ ‡ç­¾ã€‚æœ€åˆçš„åˆ›å»ºè€…å’Œåæ¥çš„ååŒè€…ï¼Œåªéœ€è¦å¯¹è¿™ä¸ªæ ‡ç­¾çš„å«ä¹‰è¾¾æˆ <strong>å…±è¯†</strong> ä¾¿å¯ä»¥è¿›è¡Œåä½œã€‚â€œç®¡é“â€ çš„æ€æƒ³æ˜¯æ¨¡æ‹Ÿ â€œ<strong>æµä½“</strong>â€ çš„è¿è¡Œæ–¹å¼æ¥å®ç°å›¾åƒå¤„ç†è¿‡ç¨‹ï¼Œé€šè¿‡ â€œ<strong>èŠ‚ç‚¹</strong>â€ çš„è®¾å®šæ¥ <strong>åˆ†è§£</strong> å¤„ç†æ­¥éª¤ï¼Œé€šè¿‡ â€œ<strong>é”‹é¢</strong>â€ çš„æ“æ§æ¥ <strong>èšç„¦</strong> æ¯ä¸ªå•æ­¥çš„æ“ä½œï¼Œé€šè¿‡ <strong>è¿é€šæ€§</strong> æ¥å°† <strong>åˆ†æ²»</strong> çš„é€»è¾‘é‡æ–° <strong>ä¸²è”</strong> èµ·æ¥å®Œæˆå¤æ‚çš„åŠŸèƒ½ã€‚</p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å»ºè®®æ¨ªå±é˜…è¯»ä»£ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡çš„ä¸»è¦ä»·å€¼ï¼šæä¾›ä¸€ç§æŠ½è±¡å¤æ‚é€»è¾‘ï¼Œè¾¾æˆåŠŸèƒ½å¤ç”¨çš„æ€è·¯&lt;/li&gt;
&lt;li&gt;å…³é”®è¯ï¼šè¯­ä¹‰æç‚¼ã€åŠ¨æ€å…·å&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡çº¦ 4000 å­—ï¼Œå»ºè®®é˜…è¯»æ—¶é—´ 12 åˆ†é’Ÿã€‚&lt;/l
      
    
    </summary>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/categories/development/"/>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/tags/development/"/>
    
      <category term="programming" scheme="https://theinfinitegame.tech/tags/programming/"/>
    
  </entry>
  
  <entry>
    <title>SwiftUI ç¬”è®° | MVVM In SwiftUI</title>
    <link href="https://theinfinitegame.tech/development/note-swiftui-mvvm/"/>
    <id>https://theinfinitegame.tech/development/note-swiftui-mvvm/</id>
    <published>2020-03-02T02:51:18.000Z</published>
    <updated>2020-03-02T06:40:55.145Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¯‘è‡ª <a href="https://augmentedcode.io/2020/01/05/mvvm-in-swiftui/" target="_blank" rel="noopener">MVVM in SwiftUI</a></p></blockquote><p>è®©æˆ‘ä»¬ç”¨ MVVM (model-view-view model) æ¥æ„å»ºä¸€ä¸ªåº”ç”¨ï¼Œå…¶ä¸­çš„æ¯ä¸ª SwiftUI è§†å›¾éƒ½æœ‰è‡ªå·±çš„ model ã€‚è¿™ä¼šæ˜¯ä¸€ä¸ªæ‹¥æœ‰ä¸¤ä¸ªè§†å›¾çš„ app : ä¸€ä¸ªç”µå½±åˆ—è¡¨ä»¥åŠä¸€ä¸ªç”¨äºæ·»åŠ ç”µå½±çš„è¡¨å•ã€‚æ–°å¢çš„ç”µå½±å­˜åœ¨åœ¨ <code>MovieStore</code> ï¼Œå®ƒç”±ä¸¤ä¸ª view models å…±äº«ã€‚æˆ‘ä»¬å°†é€šè¿‡ environment æ¥å…±äº« MovieStore ï¼Œä¹Ÿå°±è¯´ï¼Œå½“æˆ‘ä»¬éœ€è¦æ—¶ï¼Œä¼šä» environment ä¸­è¯»å–ã€‚</p><h2 id="ç”¨-Movie-å’Œ-MovieStore-æ¥è¡¨ç¤ºæ•°æ®"><a href="#ç”¨-Movie-å’Œ-MovieStore-æ¥è¡¨ç¤ºæ•°æ®" class="headerlink" title="ç”¨ Movie å’Œ MovieStore æ¥è¡¨ç¤ºæ•°æ®"></a>ç”¨ Movie å’Œ MovieStore æ¥è¡¨ç¤ºæ•°æ®</h2><p>Movie æ˜¯ä¸€ä¸ªå¾ˆå°çš„ç»“æ„ä½“ï¼Œåªå­˜å‚¨äº†æ ‡é¢˜å’Œè¯„åˆ†ã€‚æ ‡é¢˜å’Œè¯„åˆ†éƒ½æ˜¯å¯å˜çš„ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ AddMovieView é‡Œæ›´æ–°å®ƒä»¬ã€‚è¿™ä¸ªç»“æ„ä½“ä¹Ÿéµå¾ª <code>Identifiable</code> åè®®ï¼Œå› ä¸ºæˆ‘ä»¬å°†ç”¨ List è§†å›¾æ¥å±•ç¤ºæ‰€æœ‰çš„ç”µå½±ã€‚List éœ€è¦èƒ½å¤Ÿæ ‡è¯†å†…å®¹ä¸­çš„æ¯ä¸€é¡¹ï¼Œè€Œéµå¾ªè¿™ä¸ªåè®®æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Movie</span>: <span class="title">Equatable</span>, <span class="title">Identifiable</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> id = <span class="type">UUID</span>()</span><br><span class="line">    <span class="keyword">var</span> fullTitle: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> givenRating: <span class="type">Rating</span> = .notSeen</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Movie</span> </span>{</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Rating</span>: <span class="title">Int</span>, <span class="title">CaseIterable</span> </span>{</span><br><span class="line">        <span class="keyword">case</span> notSeen, terrible, poor, decent, good, excellent</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>MovieStore ä¹Ÿå¾ˆç®€å•ï¼Œä¸è¿‡å®é™…çš„ app ä¼šåŒ…å«æ›´å¤šçš„é€»è¾‘ï¼šæŒä¹…åŒ–ï¼Œåˆ é™¤ç­‰ç­‰ã€‚æˆ‘ä»¬ç”¨ <code>Published</code> å±æ€§åŒ…è£…å™¨æ¥ä¸ºè®¢é˜…è€…è‡ªåŠ¨æä¾›å‘å¸ƒã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">MovieStore</span> </span>{</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> allMovies = [<span class="type">Movie</span>]()</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(<span class="number">_</span> movie: Movie)</span></span> {</span><br><span class="line">        allMovies.append (movie)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸ºäº†å°†å…±äº«çš„ <code>MovieStore</code> æ’å…¥ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰çš„ EnvironmentKey ã€‚è‡ªå®šä¹‰ key ä»…ä»…åªæ˜¯ä¸€ä¸ªéµå¾ª  <code>EnvironmentKey</code> åè®®çš„è‡ªå®šä¹‰ key ã€‚æˆ‘ä»¬éœ€è¦æä¾›ç±»å‹å’Œé»˜è®¤å€¼ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MovieStoreKey</span>: <span class="title">EnvironmentKey</span> </span>{</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Value</span> = <span class="type">MovieStore</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue = <span class="type">MovieStore</span>()</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">EnvironmentValues</span> </span>{</span><br><span class="line">    <span class="keyword">var</span> movieStore: <span class="type">MovieStore</span> {</span><br><span class="line">        <span class="keyword">get</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>[<span class="type">MovieStoreKey</span>]</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span> {</span><br><span class="line">            <span class="keyword">self</span>[<span class="type">MovieStoreKey</span>] = newValue</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœæˆ‘ä»¬ä¸æ’å…¥è‡ªå·±çš„ <code>MovieStore</code> å®ä¾‹åˆ° environment ï¼Œé‚£å°±ä¼šä½¿ç”¨ defaultValue é»˜è®¤å€¼ã€‚å…¸å‹æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨è§†å›¾ä½“ç³»ä¹‹å¤–åˆå§‹åŒ–è¿™ä¸ªç‰¹å®šå®ä¾‹ã€‚</p><h2 id="SceneDelegate-å’Œ-MovieScene-å‘ˆç°"><a href="#SceneDelegate-å’Œ-MovieScene-å‘ˆç°" class="headerlink" title="SceneDelegate å’Œ MovieScene å‘ˆç°"></a>SceneDelegate å’Œ MovieScene å‘ˆç°</h2><p>MovieStore ä½œä¸ºä¾èµ–é¡¹ï¼Œåœ¨æ„é€ å‡½æ•°è¢«ä¼ ç»™ view model ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å­˜å‚¨åœ¨ SceneDelegate çš„å®ä¾‹ã€‚å†æ¬¡ç”³æ˜ï¼Œåœ¨å®é™…çš„ app ä¸­ï¼Œè¿™ç§ä¾èµ–é¡¹å¾ˆå¯èƒ½æ˜¯å¤„äºä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨æˆ–è€…åˆ«çš„ç±»ä¼¼çš„ä¸œè¥¿ã€‚ MovieListView æ˜¯æˆ‘ä»¬è¦å‘ˆç°çš„ç¬¬ä¸€ä¸ªè§†å›¾ï¼Œå› æ­¤æˆ‘ä»¬ä¼šåˆå§‹åŒ– view model ï¼Œ view ï¼Œå¹¶ä¸”æ’å…¥ MovieStore å®ä¾‹åˆ° environment ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚ (movieStore keypath æ˜¯é€šè¿‡ EnvironmentValues çš„ extension æ¥å®šä¹‰çš„)ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">SceneDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIWindowSceneDelegate</span> </span>{</span><br><span class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow?</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> movieStore = <span class="type">MovieStore</span>()</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">scene</span><span class="params">(<span class="number">_</span> scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions)</span></span> {</span><br><span class="line">        <span class="keyword">let</span> viewModel = <span class="type">MovieListView</span>.<span class="type">ViewModel</span>(movieStore: movieStore)</span><br><span class="line">        <span class="keyword">let</span> contentView = <span class="type">MovieListView</span>(viewModel: viewModel).environment (\.movieStore, movieStore)</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> windowScene = scene <span class="keyword">as</span>? <span class="type">UIWindowScene</span> <span class="keyword">else</span> { <span class="keyword">return</span> }</span><br><span class="line">        <span class="keyword">let</span> window = <span class="type">UIWindow</span>(windowScene: windowScene)</span><br><span class="line">        window.rootViewController = <span class="type">UIHostingController</span>(rootView: contentView)</span><br><span class="line">        <span class="keyword">self</span>.window = window</span><br><span class="line">        window.makeKeyAndVisible ()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="MovieListView-å’Œå¯¹åº”çš„-ViewModel"><a href="#MovieListView-å’Œå¯¹åº”çš„-ViewModel" class="headerlink" title="MovieListView å’Œå¯¹åº”çš„ ViewModel"></a>MovieListView å’Œå¯¹åº”çš„ ViewModel</h2><p>åœ¨ SwiftUI ä¸­ï¼Œview model éµå¾ª <code>ObservableObject</code> åè®®ï¼Œä½¿ç”¨ @Published å±æ€§åŒ…è£…å™¨ã€‚ ObservableObject çš„é»˜è®¤å®ç°æä¾›äº† <code>objectWillChange</code> publisher ã€‚ @Published å±æ€§åŒ…è£…å™¨èƒ½åœ¨å±æ€§å°†è¦æ”¹å˜æ—¶è‡ªåŠ¨å‘å°„è¿™ä¸ª publisher ã€‚åœ¨ MovieListView ä¸­ï¼Œæˆ‘ä»¬ç”¨ @ObservedObject å±æ€§åŒ…è£…å™¨å£°æ˜ view model å±æ€§ã€‚è¿™ä¼šä½¿å¾—è¯¥è§†å›¾è®¢é˜… objectWillChange publisher ï¼Œå¹¶ä¸”åœ¨ objectWillChange å‘åŠ¨æ—¶è‡ªåŠ¨åˆ·æ–°è§†å›¾ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MovieListView</span> </span>{</span><br><span class="line">    <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewModel</span>: <span class="title">ObservableObject</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">let</span> movieStore: <span class="type">MovieStore</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">var</span> cancellables = [<span class="type">AnyCancellable</span>]()</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">init</span>(movieStore: <span class="type">MovieStore</span>) {</span><br><span class="line">            <span class="keyword">self</span>.movieStore = movieStore</span><br><span class="line">            cancellables.append (movieStore.$allMovies.assign (to: \.movies, on: <span class="keyword">self</span>))</span><br><span class="line">        }</span><br><span class="line">         </span><br><span class="line">        @<span class="type">Published</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> movies = [<span class="type">Movie</span>]()</span><br><span class="line">        @<span class="type">Published</span> <span class="keyword">var</span> isPresentingAddMovie = <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MovieListView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">Environment</span>(\.<span class="keyword">self</span>) <span class="keyword">var</span> environment</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">ViewModel</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">NavigationView</span> {</span><br><span class="line">            <span class="type">List</span>(<span class="keyword">self</span>.viewModel.movies) { movie <span class="keyword">in</span></span><br><span class="line">                <span class="type">Text</span>(movie.fullTitle)</span><br><span class="line">            }.navigationBarTitle (<span class="string">"Movies"</span>)</span><br><span class="line">                .navigationBarItems (trailing: navigationBarTrailingItem)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> navigationBarTrailingItem: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span>(action: {</span><br><span class="line">            <span class="keyword">self</span>.viewModel.isPresentingAddMovie = <span class="literal">true</span></span><br><span class="line">        }, label: {</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"plus"</span>).frame (minWidth: <span class="number">32</span>, minHeight: <span class="number">32</span>)</span><br><span class="line">        }).sheet (isPresented: <span class="keyword">self</span>.$viewModel.isPresentingAddMovie) {</span><br><span class="line">            <span class="keyword">self</span>.makeAddMovieView ()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">makeAddMovieView</span><span class="params">()</span></span> -&gt; <span class="type">AddMovieView</span> {</span><br><span class="line">        <span class="keyword">let</span> movieStore = environment [<span class="type">MovieStoreKey</span>]</span><br><span class="line">        <span class="keyword">let</span> viewModel = <span class="type">AddMovieView</span>.<span class="type">ViewModel</span>(movieStore: movieStore)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">AddMovieView</span>(viewModel: viewModel)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä½ ä¼šæ³¨æ„åˆ°ï¼ŒMovieStore æ—¶ç”¨äº†ä¸¤ä»½ï¼Œä¸€ä»½åœ¨ view model ä¸­ï¼Œä¸€ä»½æ”¾åœ¨ç¯å¢ƒä¸­ã€‚</p><p><code>AddMovieView</code> å’Œå®ƒçš„ view model æ˜¯åœ¨ç”¨æˆ·ç‚¹å‡»å¯¼èˆªæ ä¸Šçš„åŠ å·æŒ‰é’®æ—¶è¢«åˆ›å»ºçš„ã€‚ç¯å¢ƒå±æ€§åŒ…è£…å™¨å¯ä»¥è¢«ç”¨äºè·å–æ•´ä¸ªç¯å¢ƒæˆ–è€…å€ŸåŠ©ç‰¹å®šé”®è·å–æŸä¸ªå€¼ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­æˆ‘ä»¬è®¿é—®äº†æ•´ä¸ªç¯å¢ƒå¯¹è±¡ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™å€ŸåŠ© MovieStoreKey è®¿é—® MovieStore ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ @Environment (.movieStore) var movieStore æ¥ä»£æ›¿ã€‚</p><h2 id="AddMovieView-å’Œå¯¹åº”çš„-ViewModel"><a href="#AddMovieView-å’Œå¯¹åº”çš„-ViewModel" class="headerlink" title="AddMovieView å’Œå¯¹åº”çš„ ViewModel"></a>AddMovieView å’Œå¯¹åº”çš„ ViewModel</h2><p><code>AddMovieView</code> çš„ view model æ˜¯éšç€ MovieStore ä¸€åŒè¢«åˆå§‹åŒ–çš„ï¼Œå®ƒå†…éƒ¨å‘ˆç°äº†ä¸€ä¸ª Movie å®ä¾‹ã€‚ Published å±æ€§åŒ…è£…å™¨å’Œ MovieListView çš„ view model é‡Œçš„ç”¨æ³•ç›¸ä¼¼ã€‚ å†…éƒ¨çš„ movie å¯¹è±¡æ˜¯ä¸€ä¸ªç§æœ‰çš„å±æ€§ï¼Œ TextField å’Œ Picker éƒ½é‡‡ç”¨åŒå‘ Binding ã€‚ Binding æ˜¯ä¸€ç§ view å’Œ model é—´çš„åŒå‘è¿æ¥æ–¹å¼ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>canSave</code> å±æ€§ï¼Œå®ƒæ˜¯ç”¨æ¥æ§åˆ¶å¯¼èˆªæ ä¸Šçš„ä¿å­˜æŒ‰é’®æ˜¯å¦å¯ç”¨ã€‚ä¿æŒæŒ‰é’®åªæœ‰åœ¨æ ‡é¢˜æœ‰å¡«å……çš„æ—¶æ‰å¯ç”¨ã€‚</p><p>ç®€å•å¤ä¹ ä¸€ä¸‹è§†å›¾æ›´æ–°çš„æµç¨‹ï¼šTextField æˆ–è€… Picker ä¼šåˆ©ç”¨ Binding æ¥æ›´æ–°ç§æœ‰å±æ€§ <code>newMovie</code> ã€‚ å› ä¸º newMovie å±æ€§ä½¿ç”¨äº† @Published å±æ€§åŒ…è£…å™¨ï¼Œå®ƒä¼šå‘å°„ ObservableObject çš„ objectWillChange publisher ã€‚ SwiftUI è‡ªåŠ¨è®¢é˜… objectWillChange ï¼Œå› ä¸º view model çš„å±æ€§ç”¨äº† @ObservedObject ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">AddMovieView</span> </span>{</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ViewModel</span>: <span class="title">ObservableObject</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">let</span> movieStore: <span class="type">MovieStore</span></span><br><span class="line">         </span><br><span class="line">        <span class="keyword">init</span>(movieStore: <span class="type">MovieStore</span>) {</span><br><span class="line">            <span class="keyword">self</span>.movieStore = movieStore</span><br><span class="line">        }</span><br><span class="line">         </span><br><span class="line">        @<span class="type">Published</span> <span class="keyword">private</span> <span class="keyword">var</span> newMovie = <span class="type">Movie</span>(fullTitle: <span class="string">""</span>)</span><br><span class="line">         </span><br><span class="line">        <span class="built_in">lazy</span> <span class="keyword">var</span> title = <span class="type">Binding</span>&lt;<span class="type">String</span>&gt;(<span class="keyword">get</span>: {</span><br><span class="line">            <span class="keyword">self</span>.newMovie.fullTitle</span><br><span class="line">        }, <span class="keyword">set</span>: {</span><br><span class="line">            <span class="keyword">self</span>.newMovie.fullTitle = $<span class="number">0</span></span><br><span class="line">        })</span><br><span class="line">         </span><br><span class="line">        <span class="built_in">lazy</span> <span class="keyword">var</span> rating = <span class="type">Binding</span>&lt;<span class="type">Movie</span>.<span class="type">Rating</span>&gt;(<span class="keyword">get</span>: {</span><br><span class="line">            <span class="keyword">self</span>.newMovie.givenRating</span><br><span class="line">        }, <span class="keyword">set</span>: {</span><br><span class="line">            <span class="keyword">self</span>.newMovie.givenRating = $<span class="number">0</span></span><br><span class="line">        })</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">var</span> canSave: <span class="type">Bool</span> {</span><br><span class="line">            <span class="keyword">return</span> !newMovie.fullTitle.isEmpty</span><br><span class="line">        }</span><br><span class="line">         </span><br><span class="line">        <span class="function"><span class="keyword">func</span> <span class="title">save</span><span class="params">()</span></span> {</span><br><span class="line">            movieStore.add (newMovie)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AddMovieView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">Environment</span>(\.presentationMode) <span class="keyword">private</span> <span class="keyword">var</span> presentationMode</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">ViewModel</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">NavigationView</span> {</span><br><span class="line">            <span class="type">Form</span> {</span><br><span class="line">                titleSection</span><br><span class="line">                ratingSection</span><br><span class="line">            }.navigationBarTitle (<span class="string">"Add Movie"</span>, displayMode: .inline)</span><br><span class="line">                .navigationBarItems (leading: leadingBarItem, trailing: trailingBarItem)</span><br><span class="line">                .navigationViewStyle (<span class="type">StackNavigationViewStyle</span>())</span><br><span class="line">             </span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> titleSection: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Section</span>() {</span><br><span class="line">            <span class="type">TextField</span>(<span class="string">"Title"</span>, text: viewModel.title)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> ratingSection: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Section</span>() {</span><br><span class="line">            <span class="type">Picker</span>(<span class="type">LocalizedStringKey</span>(<span class="string">"Rating"</span>), selection: viewModel.rating) {</span><br><span class="line">                <span class="type">ForEach</span>(<span class="type">Movie</span>.<span class="type">Rating</span>.allCases, id: \.rawValue) {</span><br><span class="line">                    <span class="type">Text</span>($<span class="number">0</span>.localizedName).tag ($<span class="number">0</span>)</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> leadingBarItem: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span>(action: { <span class="keyword">self</span>.presentationMode.wrappedValue.dismiss () }, label: {</span><br><span class="line">            <span class="type">Text</span>(<span class="string">"Cancel"</span>)</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> trailingBarItem: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">Button</span>(action: {</span><br><span class="line">            <span class="keyword">self</span>.viewModel.save ()</span><br><span class="line">            <span class="keyword">self</span>.presentationMode.wrappedValue.dismiss ()</span><br><span class="line">        }, label: {</span><br><span class="line">            <span class="type">Text</span>(<span class="string">"Save"</span>).disabled (!<span class="keyword">self</span>.viewModel.canSave)</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåªæœ‰ä¸¤ä¸ªè§†å›¾çš„ç®€å• app ã€‚ä¸¤ä¸ªè§†å›¾éƒ½æœ‰å„è‡ªçš„ view model ï¼Œå¹¶ä¸”éƒ½ä¾èµ– MovieStore ã€‚ä¸€ä¸ª view model ä¸­è§¦å‘äº† MovieStore çš„æ”¹å˜ï¼Œè¿™äº›æ”¹å˜ä¼šè¢«å¦ä¸€ä¸ª view model è§‚å¯Ÿåˆ°ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜äº†è§£äº† SwiftUI çš„ environment ä»¥åŠå¦‚ä½•ä» view model ä¸­è§¦å‘ view æ›´æ–°ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è¯‘è‡ª &lt;a href=&quot;https://augmentedcode.io/2020/01/05/mvvm-in-swiftui/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MVVM in SwiftUI&lt;/a&gt;&lt;/p&gt;
&lt;/b
      
    
    </summary>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/categories/development/"/>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/tags/development/"/>
    
      <category term="swiftui" scheme="https://theinfinitegame.tech/tags/swiftui/"/>
    
  </entry>
  
  <entry>
    <title>note-swiftui-dynamic-user-notification-on-apple-watch</title>
    <link href="https://theinfinitegame.tech/uncategorized/note-swiftui-dynamic-user-notification-on-apple-watch/"/>
    <id>https://theinfinitegame.tech/uncategorized/note-swiftui-dynamic-user-notification-on-apple-watch/</id>
    <published>2020-03-01T09:08:42.112Z</published>
    <updated>2020-03-02T02:52:09.193Z</updated>
    
    <content type="html"><![CDATA[<hr><p>title: SwiftUI åº”ç”¨ | æµ‡æ°´æé†’ app<br>top: false<br>date: 2020-03-01 17:08:42<br>tags:</p><ul><li>watchOS</li><li>development</li><li>swiftui<br>categories: development<br>description:</li></ul><hr><h1 id="ç”¨-SwiftUI-åœ¨-Apple-Watch-ä¸Šæ„å»ºåŠ¨æ€é€šçŸ¥"><a href="#ç”¨-SwiftUI-åœ¨-Apple-Watch-ä¸Šæ„å»ºåŠ¨æ€é€šçŸ¥" class="headerlink" title="ç”¨ SwiftUI åœ¨ Apple Watch ä¸Šæ„å»ºåŠ¨æ€é€šçŸ¥"></a>ç”¨ SwiftUI åœ¨ Apple Watch ä¸Šæ„å»ºåŠ¨æ€é€šçŸ¥</h1><blockquote><p>è¯‘è‡ª <a href="https://augmentedcode.io/2020/02/02/dynamic-user-notification-on-apple-watch-with-swiftui/" target="_blank" rel="noopener">Dynamic user notification on Apple Watch with SwiftUI</a><br>æºç åœ°å€ï¼š<a href="https://github.com/laevandus/WaterMyPlants" target="_blank" rel="noopener">WaterMyPlants</a></p></blockquote><p>é›†æˆäº†æ¨é€æˆ–è€…æœ¬åœ°é€šçŸ¥çš„ app å¯ä»¥å®šåˆ¶ apple watch ä¸Šçš„é€šçŸ¥ã€‚æœ¬æ–‡æ˜¯å…³äºå¦‚ä½•åœ¨ apple watch ä¸Šå®ç°åŠ¨æ€é€šçŸ¥çš„ç¬”è®°ã€‚æ ·ä¾‹å·¥ç¨‹å®ç°ä¸€ä¸ªæé†’ç»™æ¤ç‰©æµ‡æ°´çš„åŠŸèƒ½ã€‚æˆ‘ä»¬ä¼šèšç„¦åœ¨æ·»åŠ é€šçŸ¥è§†å›¾ï¼Œçœç•¥ä» iOS app å‘é€é€šçŸ¥çš„æ­¥éª¤ã€‚</p><h2 id="ä¸º-Apple-Watch-æ·»åŠ å¯Œæ–‡æœ¬é€šçŸ¥æ·»åŠ æ„å»ºç›®æ ‡"><a href="#ä¸º-Apple-Watch-æ·»åŠ å¯Œæ–‡æœ¬é€šçŸ¥æ·»åŠ æ„å»ºç›®æ ‡" class="headerlink" title="ä¸º Apple Watch æ·»åŠ å¯Œæ–‡æœ¬é€šçŸ¥æ·»åŠ æ„å»ºç›®æ ‡"></a>ä¸º Apple Watch æ·»åŠ å¯Œæ–‡æœ¬é€šçŸ¥æ·»åŠ æ„å»ºç›®æ ‡</h2><p>å¦‚æœå·¥ç¨‹é‡Œæ²¡æœ‰ App Watch app ï¼Œä½ éœ€è¦æ·»åŠ å®ƒã€‚åœ¨ Xcode ä¸­ï¼Œæˆ‘ä»¬æ–°å¢ä¸€ä¸ªæ„å»ºç›®æ ‡ï¼Œå¹¶é…ç½®æˆåŒ…å«é€šçŸ¥åœºæ™¯ã€‚æ‰“å¼€ New -&gt; Target:</p><p><img src="/images/watch_app_target.png" width="80%" height="80%" style="margin: 10 auto;"></p><p>ç¡®ä¿ User Interface é€‰æ‹©ï¼Œå¹¶ä¸” â€œInclude Notification Sceneâ€ é€‰ä¸­ã€‚æˆ‘ä»¬å°†ä¼šæŠŠå®ƒåµŒå…¥å½“å‰çš„ iOS app ï¼Œæ‰€ä»¥ â€œEmbed in Companion Appâ€ è¦é€‰æ‹©å½“å‰ app ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä» iOS 13 å’Œ WatchOS 6 å¼€å§‹ï¼ŒApple Watch app å·²ç»å¯ä»¥ç‹¬ç«‹å­˜åœ¨äº†ã€‚</p><p><img src="/images/watch_app_target_2.png" width="80%" height="80%" style="margin: 10 auto;"></p><p>ç‚¹å‡»å®Œæˆï¼ŒXcode ä¼šè¯¢é—®æ¿€æ´»æ–°çš„ scheme ï¼Œç‚¹å‡»æ¿€æ´»ï¼Œå®ƒä¼šè‡ªåŠ¨é€‰æ‹©æ–°å»ºçš„ç›®æ ‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å¼€å§‹å†™ä»£ç äº†ã€‚å…ˆæ£€æŸ¥å·¥ç¨‹ï¼Œä¼šå‘ç° Xcode åŠ äº†ä¸¤ä¸ªç›®æ ‡ï¼šwatch app å’Œ extensionã€‚App åŒ…å«äº† storyboard ï¼Œè€Œ extension åŒ…å«äº†æ‰€æœ‰çš„ä»£ç ã€‚ storyboard æ˜¯æä¾›åŸºäº <code>WKHostingController</code> çš„å­ç±»çš„ HostingController æ¼”ç¤ºç”¨çš„åœºæ™¯ã€‚è¿™ä¸ªç±»è´Ÿè´£æ‰¿è½½ä½ çš„ Apple Watch app çš„ SwiftUI è§†å›¾ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªåœºæ™¯ï¼Œåˆ†åˆ«æ˜¯é™æ€å’ŒåŠ¨æ€é€šçŸ¥ã€‚æˆ‘ä»¬å¯¹åŠ¨æ€é€šçŸ¥æ„Ÿå…´è¶£ï¼Œåœ¨ storyboard é‡Œå¯ä»¥çœ‹è§åŠ¨æ€è§†å›¾æ˜¯ç”± <code>NotificationController</code> æä¾›çš„ï¼Œå®ƒæ˜¯ <code>WKUserNotificationHostingController</code> çš„å­ç±»ï¼Œæ‰¿è½½é€šçŸ¥çš„ SwiftUI è§†å›¾ã€‚è¿™é‡Œå°±æ˜¯æˆ‘ä»¬ç»™é€šçŸ¥æä¾›è‡ªå®šä¹‰ç•Œé¢çš„åœ°æ–¹ã€‚å¦‚æœé€šçŸ¥çš„åˆ†ç±»å’Œ storyboard é‡Œé¢„å…ˆå®šä¹‰çš„åŒ¹é…ï¼Œå°±ä¼šé€‰æ‹©åŠ¨æ€é€šçŸ¥è§†å›¾ã€‚</p><h2 id="è§£æé€šçŸ¥çš„-payload-å¹¶è®¾ç½®åŠ¨æ€é€šçŸ¥è§†å›¾"><a href="#è§£æé€šçŸ¥çš„-payload-å¹¶è®¾ç½®åŠ¨æ€é€šçŸ¥è§†å›¾" class="headerlink" title="è§£æé€šçŸ¥çš„ payload å¹¶è®¾ç½®åŠ¨æ€é€šçŸ¥è§†å›¾"></a>è§£æé€šçŸ¥çš„ payload å¹¶è®¾ç½®åŠ¨æ€é€šçŸ¥è§†å›¾</h2><p>NotificationController çš„èŒè´£æ˜¯æ¶ˆè´¹ç”¨æˆ·é€šçŸ¥çš„ payload ï¼Œå¹¶ç”Ÿæˆ SwiftUI è§†å›¾æ¥å±•ç¤ºå®ƒä»¬ã€‚ç”¨æˆ·é€šçŸ¥æ˜¯ä» <code>didReceive</code> å‡½æ•°æ¥æ”¶çš„ï¼Œæˆ‘ä»¬éœ€è¦é‡Šæ”¾ä¿¡æ¯ï¼Œç”¨äºè§†å›¾ã€‚åœ¨æœ¬åœ°æµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæµ‹è¯•æ•°æ®å†™åœ¨ <code>PushNotificationPayload.apns</code> æ–‡ä»¶é‡Œã€‚å› ä¸ºæˆ‘ä»¬è¦å±•ç¤ºçš„æ˜¯å…³äºæ¤ç‰©çš„ä¿¡æ¯ï¼Œæ‰€æœ‰æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ¤ç‰©å¯¹è±¡åˆ°æ–‡ä»¶ä¸­ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠé€šçŸ¥åˆ†ç±»ä¿®æ”¹æˆæŸä¸ªæœ‰å«ä¹‰çš„å­—ç¬¦ä¸²ã€‚ç¡®ä¿ä½ è®¾ç½®æ–°çš„åˆ†ç±»æ—¶æ­£ç¡®æ›´æ–° storyboard ã€‚</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    <span class="attr">"aps"</span>: {</span><br><span class="line">        <span class="attr">"alert"</span>: {</span><br><span class="line">            <span class="attr">"body"</span>: <span class="string">"Test message"</span>,</span><br><span class="line">            <span class="attr">"title"</span>: <span class="string">"Optional title"</span>,</span><br><span class="line">            <span class="attr">"subtitle"</span>: <span class="string">"Optional subtitle"</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">"category"</span>: <span class="string">"WATERING_REMINDER"</span>,</span><br><span class="line">        <span class="attr">"thread-id"</span>: <span class="string">"plantid123"</span></span><br><span class="line">    },</span><br><span class="line">     </span><br><span class="line">    <span class="attr">"plant"</span>: {</span><br><span class="line">        <span class="attr">"id"</span>: <span class="string">"plantid123"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"Aloe"</span>,</span><br><span class="line">        <span class="attr">"lastDate"</span>: <span class="number">1579937802</span>,</span><br><span class="line">        <span class="attr">"nextDate"</span>: <span class="number">1580515200</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/watch_app_target_3.png" width="50%" height="50%" style="margin: 10 auto;"></p><p>å½“æˆ‘ä»¬è®¿é—® <code>UNNotification.request.content.userInfo</code> æ‹¿åˆ°æ¤ç‰©çš„ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>Decodable</code> å’Œ <code>JSONDecoder</code> å°†ä»£è¡¨æ¤ç‰©çš„å­—å…¸è½¬æ¢æˆå€¼ç±»å‹ã€‚ <code>JSONDecoder</code> æ¥æ”¶ <code>JSON</code> æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆç”¨ <code>JSONSerialization</code> åŒ…è£…æ•°æ®ï¼Œç„¶åæŠŠåŒ…è£…çš„ç»“æœä¼ ç»™ <code>JSONDecoder</code> ã€‚ æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä» <code>userInfo</code> å­—å…¸é‡Œè¯»å–æ‰€æœ‰çš„å€¼ï¼Œç„¶ååˆ›å»ºå‡ºæ¤ç‰©ç±»å‹ã€‚ç•™æ„ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ view model æ¥æä¾›æ•°æ®ç»™ SwiftUI ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ <code>Plant</code> ç±»å‹ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Plant</span>: <span class="title">Decodable</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> lastDate: <span class="type">Date</span></span><br><span class="line">    <span class="keyword">let</span> nextDate: <span class="type">Date</span></span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">do</span> {</span><br><span class="line">        <span class="keyword">let</span> plantInfo = notification.request.content.userInfo [<span class="string">"plant"</span>] <span class="keyword">as</span>! [<span class="type">String</span>: <span class="type">Any</span>]</span><br><span class="line">        <span class="keyword">let</span> data = <span class="keyword">try</span> <span class="type">JSONSerialization</span>.data (withJSONObject: plantInfo, options: [])</span><br><span class="line">        <span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line">        decoder.dateDecodingStrategy = .secondsSince1970</span><br><span class="line">        <span class="keyword">let</span> plant = <span class="keyword">try</span> decoder.decode (<span class="type">Plant</span>.<span class="keyword">self</span>, from: data)</span><br><span class="line">        viewModel = <span class="type">NotificationViewModel</span>(plant: plant)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">catch</span> <span class="keyword">let</span> nsError <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">        <span class="built_in">print</span>(nsError.localizedDescription)</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>å¦å¤–ï¼Œæˆ‘ä»¬æƒ³è¦æ·»åŠ ä¸‰ä¸ªç”¨æˆ·å¯ä»¥æ‰§è¡Œçš„åŠ¨ä½œï¼šæ ‡è®°æ¤ç‰©å·²ç»æµ‡æ°´ï¼Œæ¨åæé†’ï¼Œæˆ–è€…å®‰æ’æ˜å¤©å†æé†’ã€‚è¿™äº›åŠ¨ä½œæ˜¯ç”¨ <code>UNNotificationAction</code> å®ä¾‹è¡¨ç¤ºã€‚å½“ç”¨æˆ·ç‚¹å‡»ä»»æ„å…¶ä¸­ä¸€ä¸ªæ—¶ï¼Œ<code>UNUserNotificationCenter</code> çš„å§”æ‰˜æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¸¦æœ‰è¯¥åŠ¨ä½œçš„ <code>identifier</code> ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> doneTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Done"</span>, comment: <span class="string">"Done button title in notification."</span>)</span><br><span class="line"><span class="keyword">let</span> laterTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Later"</span>, comment: <span class="string">"Later button title in notification."</span>)</span><br><span class="line"><span class="keyword">let</span> tomorrowTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Tomorrow"</span>, comment: <span class="string">"Tomorrow button title in notification."</span>)</span><br><span class="line">notificationActions = [</span><br><span class="line">    <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_done"</span>, title: doneTitle, options: []),</span><br><span class="line">    <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_later"</span>, title: laterTitle, options: []),</span><br><span class="line">    <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_tomorrow"</span>, title: tomorrowTitle, options: [])</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure><p><code>NotificationController</code> çš„å®Œæ•´å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">NotificationController</span>: <span class="title">WKUserNotificationHostingController</span>&lt;<span class="title">NotificationView</span>&gt; </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> viewModel: <span class="type">NotificationViewModel?</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> body: <span class="type">NotificationView</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="type">NotificationView</span>(viewModel: viewModel!)</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceive</span><span class="params">(<span class="number">_</span> notification: UNNotification)</span></span> {</span><br><span class="line">        <span class="keyword">do</span> {</span><br><span class="line">            <span class="keyword">let</span> plantInfo = notification.request.content.userInfo [<span class="string">"plant"</span>] <span class="keyword">as</span>! [<span class="type">String</span>: <span class="type">Any</span>]</span><br><span class="line">            <span class="keyword">let</span> data = <span class="keyword">try</span> <span class="type">JSONSerialization</span>.data (withJSONObject: plantInfo, options: [])</span><br><span class="line">            <span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line">            decoder.dateDecodingStrategy = .secondsSince1970</span><br><span class="line">            <span class="keyword">let</span> plant = <span class="keyword">try</span> decoder.decode (<span class="type">Plant</span>.<span class="keyword">self</span>, from: data)</span><br><span class="line">            viewModel = <span class="type">NotificationViewModel</span>(plant: plant)</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">catch</span> <span class="keyword">let</span> nsError <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">            <span class="built_in">print</span>(nsError.localizedDescription)</span><br><span class="line">        }</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">let</span> doneTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Done"</span>, comment: <span class="string">"Done button title in notification."</span>)</span><br><span class="line">        <span class="keyword">let</span> laterTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Later"</span>, comment: <span class="string">"Later button title in notification."</span>)</span><br><span class="line">        <span class="keyword">let</span> tomorrowTitle = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationAction_Tomorrow"</span>, comment: <span class="string">"Tomorrow button title in notification."</span>)</span><br><span class="line">        notificationActions = [</span><br><span class="line">            <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_done"</span>, title: doneTitle, options: []),</span><br><span class="line">            <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_later"</span>, title: laterTitle, options: []),</span><br><span class="line">            <span class="type">UNNotificationAction</span>(identifier: <span class="string">"water_tomorrow"</span>, title: tomorrowTitle, options: [])</span><br><span class="line">        ]</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å‘ˆç°é€šçŸ¥çš„-NotificationView"><a href="#å‘ˆç°é€šçŸ¥çš„-NotificationView" class="headerlink" title="å‘ˆç°é€šçŸ¥çš„ NotificationView"></a>å‘ˆç°é€šçŸ¥çš„ NotificationView</h2><p>ä¸Šé¢æåˆ° view model <code>NotificationViewModel</code> ä¸º NotificationView æä¾›æ–‡æœ¬ï¼Œå®ƒä¸»è¦å¤„ç†æ—¥æœŸçš„æ ¼å¼åŒ–å­—ç¬¦ã€‚ </p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NotificationViewModel</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> plant: <span class="type">Plant</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">init</span>(plant: <span class="type">Plant</span>) {</span><br><span class="line">        <span class="keyword">self</span>.plant = plant</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">return</span> plant.name</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> subtitle: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="type">NSLocalizedString</span>(<span class="string">"NotificationView_Subtitle"</span>, comment: <span class="string">"Notification suggestion text"</span>)</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> dateFormatter: <span class="type">DateFormatter</span> = {</span><br><span class="line">        <span class="keyword">let</span> formatter = <span class="type">DateFormatter</span>()</span><br><span class="line">        formatter.dateFormat = <span class="type">DateFormatter</span>.dateFormat (fromTemplate: <span class="string">"dMMMM"</span>, options: <span class="number">0</span>, locale: .current)</span><br><span class="line">        <span class="keyword">return</span> formatter</span><br><span class="line">    }()</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> lastWatering: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">let</span> format = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationView_LastWatering"</span>, comment: <span class="string">"Last watering date."</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(format: format, dateFormatter.string (from: plant.lastDate))</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> nextWatering: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">let</span> format = <span class="type">NSLocalizedString</span>(<span class="string">"NotificationView_NextWatering"</span>, comment: <span class="string">"Next watering date."</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(format: format, dateFormatter.string (from: plant.nextDate))</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>SwiftUI è§†å›¾å¾ˆç®€å•ï¼Œ4 ä¸ªæ–‡æœ¬ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NotificationView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> viewModel: <span class="type">NotificationViewModel</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">VStack</span> {</span><br><span class="line">            <span class="type">Text</span>(viewModel.title).font (.title)</span><br><span class="line">            <span class="type">Text</span>(viewModel.subtitle).font (.subheadline)</span><br><span class="line">            <span class="type">Divider</span>()</span><br><span class="line">            <span class="type">Text</span>(viewModel.lastWatering).font (.body).multilineTextAlignment (.center)</span><br><span class="line">            <span class="type">Text</span>(viewModel.nextWatering).font (.body).multilineTextAlignment (.center)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/watch_notification_1.png" width="30%" height="30%" style="margin: 10 auto;"></p><p><img src="/images/watch_notification_2.png" width="30%" height="30%" style="margin: 10 auto;"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æˆ‘ä»¬å¾€ä¸€ä¸ª iOS app ä¸­æ·»åŠ äº† watch app ï¼Œå®ç°ä¸€ä¸ªé€šçŸ¥åˆ†ç±»çš„åŠ¨æ€é€šçŸ¥è§†å›¾ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è§£æé€šçŸ¥æ•°æ®ï¼Œæ·»åŠ åŠ¨ä½œæŒ‰é’®ã€‚ä¸‹ä¸€æ­¥æ˜¯åœ¨ companion iOS app é‡ŒåŸºäºæŒ‰é’®çš„ identifier å¤„ç†å¯¹åº”é€šçŸ¥åŠ¨ä½œã€‚</p><hr><h1 id="æ‹‰å–å’Œæ˜¾ç¤ºæ•°æ®"><a href="#æ‹‰å–å’Œæ˜¾ç¤ºæ•°æ®" class="headerlink" title="æ‹‰å–å’Œæ˜¾ç¤ºæ•°æ®"></a>æ‹‰å–å’Œæ˜¾ç¤ºæ•°æ®</h1><p> è¿™ä¸€èŠ‚çš„ä¸»é¢˜æ˜¯ä» compasion iOS app çš„ CoreData å­˜å‚¨ä¸­è·å–æ•°æ®ï¼Œéœ€è¦å€ŸåŠ© WatchConnectivity framework ã€‚</p><h2 id="iOS-å’Œ-WatchOS-app-ä¹‹é—´çš„-session"><a href="#iOS-å’Œ-WatchOS-app-ä¹‹é—´çš„-session" class="headerlink" title="iOS å’Œ WatchOS app ä¹‹é—´çš„ session"></a>iOS å’Œ WatchOS app ä¹‹é—´çš„ session</h2><p> iOS app ç”¨ CoreData æ¥å­˜å‚¨æ¤ç‰©åˆ—è¡¨ï¼Œè®°å½•äº†æ¯æ ªæ¤ç‰©ä¸Šä¸€æ¬¡å’Œä¸‹ä¸€æ¬¡æµ‡æ°´çš„æ—¥æœŸã€‚åœ¨è¿™é‡Œï¼Œæ²¡æœ‰ web æœåŠ¡ï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½å­˜åœ¨è®¾å¤‡ä¸Šã€‚é‚£ä¹ˆå¦‚ä½•æŠŠæŒä¹…åŒ–å­˜å‚¨ä¸­çš„æ•°æ®æ‹¿ç»™ WatchOS app ä½¿ç”¨å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¼šç”¨åˆ° WatchConnectivity framework æ¥åš iOS å’Œ WatchOS app ä¹‹é—´çš„äº¤äº’ã€‚è¿æ¥æ˜¯åœ¨ iOS å’Œ WatchOS app ä¸Šéƒ½æ¿€æ´» <code>WCSession</code> æ¥å®ç°çš„ã€‚å› æ­¤ï¼Œç¬¬ä¸€æ­¥æ˜¯æ·»åŠ ä¸€ä¸ªç®¡ç† <code>WCSession</code> çš„ç±»åˆ° iOS å·¥ç¨‹ï¼Œæˆ‘ä»¬ä¸å¦¨ç§°å®ƒä¸º WatchConnectivityProvider (ç¨åä¹Ÿä¼šæ·»åŠ ä¸€ä¸ªç›¸ä¼¼çš„ç±»åˆ° WatchOS app)ã€‚å®ƒçš„ä¸»è¦èŒèƒ½æ˜¯å»ºç«‹ <code>WCSession</code> ï¼Œå¤„ç† <code>WCSessionDelegate</code> ï¼Œå…¶ä¸­åŒ…å«ä» CoreData å­˜å‚¨æ‹‰å–æ•°æ®ã€‚å› æ­¤ï¼Œæœ‰ä¸€ä¸ªå« <code>NSPersistentContainer</code> çš„å‚æ•°ä¼šæä¾›å¯¹ <code>CoreData</code> æ ˆçš„è®¿é—® (å€Ÿç”±è®¿é—® performBackgroundTask å‡½æ•°)ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">WatchConnectivityProvider</span>: <span class="title">NSObject</span>, <span class="title">WCSessionDelegate</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> persistentContainer: <span class="type">NSPersistentContainer</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> session: <span class="type">WCSession</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">init</span>(session: <span class="type">WCSession</span> = .<span class="keyword">default</span>, persistentContainer: <span class="type">NSPersistentContainer</span>) {</span><br><span class="line">        <span class="keyword">self</span>.persistentContainer = persistentContainer</span><br><span class="line">        <span class="keyword">self</span>.session = session</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">        session.delegate = <span class="keyword">self</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p><code>WCSession</code> æ˜¯é€šè¿‡è°ƒç”¨ activate () æ¥æ¿€æ´»ï¼Œæ¿€æ´»è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ã€‚æ¿€æ´»çš„å“åº”é€šè¿‡ <code>session (_:activationDidCompleteWith:error:)</code> å§”æ‰˜è®¿é—®è¿”å›ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">connect</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">guard</span> <span class="type">WCSession</span>.isSupported () <span class="keyword">else</span> {</span><br><span class="line">        os_log (.debug, log: .watch, <span class="string">"watch session is not supported"</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    }</span><br><span class="line">    os_log (.debug, log: .watch, <span class="string">"activating watch session"</span>)</span><br><span class="line">    session.activate ()</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">session</span><span class="params">(<span class="number">_</span> session: WCSession, </span></span></span><br><span class="line"><span class="function"><span class="params">             activationDidCompleteWith activationState: WCSessionActivationState, </span></span></span><br><span class="line"><span class="function"><span class="params">             error: Error?)</span></span> {</span><br><span class="line">    os_log (.debug, </span><br><span class="line">               log: .watch, </span><br><span class="line">               <span class="string">"did finish activating session % lu (error: % s)"</span>, </span><br><span class="line">               activationState == .activated, </span><br><span class="line">               error?.localizedDescription ?? <span class="string">"none"</span>) </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åœ¨ watchOS extension target é‚£è¾¹ï¼Œæˆ‘ä»¬ä¼šæ·»åŠ ç›¸ä¼¼çš„ä»£ç ï¼Œä¸è¿‡åå­—ä¸ä¸€æ ·ï¼Œå« â€œPhoneConnectivityProviderâ€ ã€‚å½“ä¸¤ä¸ªç±»éƒ½åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–å¹¶è°ƒç”¨ connect ï¼Œåˆ†åˆ«åœ¨ <code>SceneDelegate</code> (iOS) å’Œ <code>ExtensionDelegate</code> (watchOS) ä¸­å®Œæˆã€‚æ³¨æ„ï¼Œåœ¨ iOS app è¿™è¾¹ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸¤ä¸ªå§”æ‰˜æ–¹é¢ï¼Œä¸è¿‡ç›®å‰æˆ‘ä»¬ç®€å•æ‰“å°å°±å¯ä»¥äº†ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sessionDidBecomeInactive</span><span class="params">(<span class="number">_</span> session: WCSession)</span></span> {</span><br><span class="line">    os_log (.debug, log: .watch, <span class="string">"session became inactive"</span>)</span><br><span class="line">}</span><br><span class="line">     </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sessionDidDeactivate</span><span class="params">(<span class="number">_</span> session: WCSession)</span></span> {</span><br><span class="line">    os_log (.debug, log: .watch, <span class="string">"session deactivated"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸ºäº†æµ‹è¯• session ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç¼–è¯‘å¹¶è¿è¡Œï¼Œç„¶ååœ¨ç¼–è¯‘è¿è¡Œ watchOS app ã€‚å¦‚æœä¸€åˆ‡å·¥ä½œæ­£å¸¸ï¼Œ Xcode è°ƒè¯•çª—å£ä¼šæ‰“å°å‡ºæ¶ˆæ¯ï¼š â€œdid finish activating session 1 (error: none)â€. è¿™è¡¨æ˜ session å·²ç»å»ºç«‹å¹¶ä¸”æ­£åœ¨è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä¸¤ä¸ª app é—´å‘é€æ¶ˆæ¯äº†ã€‚</p><h2 id="Fetching-plants-from-iOS-app"><a href="#Fetching-plants-from-iOS-app" class="headerlink" title="Fetching plants from iOS app"></a>Fetching plants from iOS app</h2><p>å› ä¸º iOS å’Œ watchOS app ä¹‹é—´çš„é€šä¿¡ä¾èµ–å­—å…¸ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å®šä¹‰ä¸€ç»„ä¸¤ä¸ª app å…±äº«ä½¿ç”¨çš„ key ã€‚è¿™æ ·å¯ä»¥å‡å°‘è¯¯æ‹¼å†™çš„é£é™©ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ·»åŠ æ–°æ–‡ä»¶ï¼Œå¹¶ä¸”åŒæ—¶åŒ…å«åˆ° iOS app target å’Œ watchOS extension target ä¸­å»ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">WatchCommunication</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> requestKey = <span class="string">"request"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> responseKey = <span class="string">"response"</span></span><br><span class="line">     </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Content</span>: <span class="title">String</span> </span>{</span><br><span class="line">        <span class="keyword">case</span> allPlants</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬äºŒæ­¥æ˜¯åœ¨ <code>PhoneConnectivityProvider</code> (watchOS app extension target) ä¸­å®ç°ä¸€ä¸ª <code>refreshAllPlants (completionHandler)</code> å‡½æ•°ï¼Œç”¨æ¥å‘é€æ¶ˆæ¯ç»™ iOS app ï¼Œå¹¶ä¸”ç­‰å¾…æ¤ç‰©æ•°æ®çš„æ•°ç»„è¿”å›ã€‚ <code>WCSession</code> æœ‰ä¸€ä¸ªå«  <code>sendMessage (_:replyHandler:errorHandler:)</code> çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å‘é€ä¸€ä¸ªå­—å…¸ç»™ iOS app ï¼Œç„¶åç­‰å¾… reply handler ã€‚æˆ‘ä»¬ä¼šç”¨ WatchCommunication.requestKey å’Œ WatchCommunication.Content.allPlants æšä¸¾çš„ rawValue æ¥æ„å»ºæ¶ˆæ¯ã€‚è¿™ç§æ¨¡å¼ä¾¿äºåç»­æ‰©å±•ï¼Œä½ åªè¦æ·»åŠ æ›´åˆ° case åˆ°æšä¸¾å°±å¯ä»¥äº†ã€‚åœ¨ reply handler ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›å¾—åˆ°ä¸€ä¸ªå­—å…¸çš„æ•°ç»„ï¼Œæè¿°æ‰€æœ‰çš„æ¤ç‰©ã€‚è®©æˆ‘ä»¬å…ˆçœ‹ä¸€çœ¼å®Œæ•´çš„å®ç°ï¼Œç„¶åå†è®¨è®ºå­—å…¸æ˜¯å¦‚ä½•è¢«è½¬æ¢æˆ <code>Plant</code> å€¼ç±»å‹çš„ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">refreshAllPlants</span><span class="params">(withCompletionHandler completionHandler: @escaping <span class="params">([Plant]?)</span></span></span> -&gt; <span class="type">Void</span>) {</span><br><span class="line">    <span class="keyword">guard</span> session.activationState == .activated <span class="keyword">else</span> {</span><br><span class="line">        os_log (.debug, log: .phone, <span class="string">"session is not active"</span>)</span><br><span class="line">        completionHandler (<span class="literal">nil</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> message = [<span class="type">WatchCommunication</span>.requestKey: <span class="type">WatchCommunication</span>.<span class="type">Content</span>.allPlants.rawValue]</span><br><span class="line">    session.sendMessage (message, replyHandler: { (payload) <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">let</span> plantDictionaries = payload [<span class="type">WatchCommunication</span>.requestKey] <span class="keyword">as</span>? [[<span class="type">String</span>: <span class="type">Any</span>]]</span><br><span class="line">        os_log (.debug, log: .phone, <span class="string">"received % lu plants"</span>, plantDictionaries?.<span class="built_in">count</span> ?? <span class="number">0</span>)</span><br><span class="line">             </span><br><span class="line">        <span class="keyword">let</span> decoder = <span class="type">JSONDecoder</span>()</span><br><span class="line">        decoder.dateDecodingStrategy = .secondsSince1970</span><br><span class="line">        <span class="keyword">let</span> plants = plantDictionaries?.compactMap ({ <span class="type">Plant</span>(dictionary: $<span class="number">0</span>, decoder: decoder) })</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.async {</span><br><span class="line">            completionHandler (plants)</span><br><span class="line">        }</span><br><span class="line">    }, errorHandler: { error <span class="keyword">in</span></span><br><span class="line">        os_log (.debug, log: .phone, <span class="string">"sending message failed: % s"</span>, error.localizedDescription)</span><br><span class="line">    })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>iOS app ä¸Šå¤„ç† CoreData å’Œ Plant ç±»å‹çš„æ˜¯ä¸€ä¸ª NSManagedObject å­ç±»çš„å¯¹è±¡ã€‚watchOS app extension å®šä¹‰äº†å®ƒè‡ªå·±çš„ <code>Plant</code> å€¼ç±»å‹ï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰ CoreData æ ˆã€‚ä¸ºäº†å°†å­—å…¸è½¬æ¢æˆå€¼ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ â€œStoring struct in UserDefaultâ€ ä¸­æè¿°çš„æ–¹æ³•ï¼Œåªéœ€è¦é¢å¤–é…ç½® <code>JSONDecoder</code> ä½¿ç”¨çš„ <code>dateDecodingStrategy</code>  ä¸º <code>secondsSince1970</code> ã€‚ç†ç”±æ˜¯æˆ‘ä»¬å¸Œæœ›ä»¥è‡ª 1970 å¹´ä¹‹åçš„ç§’æ•°æ¥å­˜å‚¨æ—¥æœŸã€‚è½¬æ¢å­—å…¸åˆ°å€¼ç±»å‹çš„è¿‡ç¨‹ç”¨åˆ°äº† <code>JSONSerialization</code> ï¼Œå®ƒåªæ”¯æŒ <code>NSString</code> ï¼Œ <code>NSNumber</code> ï¼Œ <code>NSArray</code> ï¼Œ <code>NSDictionary</code> ï¼Œ æˆ–è€… <code>NSNull</code> ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Plant value type in WatchOS app extension</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Plant</span>: <span class="title">Identifiable</span>, <span class="title">Decodable</span>, <span class="title">DictionaryDecodable</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> lastWateringDate: <span class="type">Date</span></span><br><span class="line">    <span class="keyword">let</span> nextWateringDate: <span class="type">Date</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// Plant class in iOS app</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Plant</span>: <span class="title">NSManagedObject</span>, <span class="title">Identifiable</span> </span>{</span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">     </span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> lastWateringDate: <span class="type">Date</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> nextWateringDate: <span class="type">Date</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬ä¸‰æ­¥æ˜¯åœ¨ iOS app ç«¯å¤„ç†æ¶ˆæ¯ï¼Œå¹¶ä¸”æä¾›æ•°æ®ç»™ watchOS app ã€‚æˆ‘ä»¬éœ€è¦åšçš„æ˜¯å®ç° session çš„å§”æ‰˜ï¼Œä» CoreData æ ˆä¸­è·å–å­—å…¸æ•°æ®ã€‚ å…ˆçœ‹ä¸‹å®Œæ•´å®ç°ï¼Œç„¶åé€ä¸€æ‹†è§£ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">session</span><span class="params">(<span class="number">_</span> session: WCSession, didReceiveMessage message: [String: <span class="keyword">Any</span>], replyHandler: @escaping <span class="params">([String: <span class="keyword">Any</span>])</span></span></span> -&gt; <span class="type">Void</span>) {</span><br><span class="line">    os_log (.debug, log: .watch, <span class="string">"did receive message: % s"</span>, message [<span class="type">WatchCommunication</span>.requestKey] <span class="keyword">as</span>? <span class="type">String</span> ?? <span class="string">"unknown"</span>)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> contentString = message [<span class="type">WatchCommunication</span>.requestKey] <span class="keyword">as</span>? <span class="type">String</span> , <span class="keyword">let</span> content = <span class="type">WatchCommunication</span>.<span class="type">Content</span>(rawValue: contentString) <span class="keyword">else</span> {</span><br><span class="line">        replyHandler ([:])</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">switch</span> content {</span><br><span class="line">    <span class="keyword">case</span> .allPlants:</span><br><span class="line">        persistentContainer.performBackgroundTask { (managedObjectContext) <span class="keyword">in</span>            </span><br><span class="line">            <span class="keyword">let</span> all = <span class="type">Plant</span>.allPlantsDictionaryRepresentation () <span class="keyword">as</span>! [[<span class="type">String</span>: <span class="type">Any</span>]]</span><br><span class="line">            <span class="comment">// Replace Date with Double</span></span><br><span class="line">            <span class="keyword">let</span> converted = all.<span class="built_in">map</span> { (plantDictionary) -&gt; [<span class="type">String</span>: <span class="type">Any</span>] <span class="keyword">in</span></span><br><span class="line">                plantDictionary.mapValues { (value) -&gt; <span class="type">Any</span> <span class="keyword">in</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> date = value <span class="keyword">as</span>? <span class="type">Date</span> {</span><br><span class="line">                        <span class="keyword">return</span> date.timeIntervalSince1970</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">else</span> {</span><br><span class="line">                        <span class="keyword">return</span> value</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }                </span><br><span class="line">            <span class="keyword">let</span> response = [<span class="type">WatchCommunication</span>.responseKey: converted]</span><br><span class="line">            replyHandler (response)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬ä¸€æ­¥æ˜¯æŸ¥çœ‹æ¥æ”¶åˆ°çš„å­—å…¸ï¼Œçœ‹çœ‹ watchOS app è¯·æ±‚çš„æ˜¯å“ªäº›å†…å®¹ã€‚ç„¶åæˆ‘ä»¬è®¿é—®æŒä¹…åŒ–å­˜å‚¨ï¼Œè·å–è¡¨ç¤º Plant çš„å­—å…¸ï¼ŒæŠŠå…¶ä»–çš„æ—¥æœŸè½¬æ¢æˆ 1970 å¹´åç§’æ•°çš„å½¢å¼ (ä»¥ä¾¿ watchOS app èƒ½å¤Ÿåœ¨å­—å…¸ä¸Šä½¿ç”¨ <code>JSONSerialization</code>)ï¼Œç„¶åæŠŠæ•°æ®å‘é€å› watchOS app ã€‚æ³¨æ„ï¼Œä» CoreData ä¸­è·å–å­—å…¸å½¢å¼çš„ Plant å¾ˆå®¹æ˜“ï¼šæˆ‘ä»¬é¦–å…ˆæ˜¯è¯·æ±‚ <code>NSDictionary</code> ç±»å‹çš„æ•°æ®ï¼Œå¹¶ä¸”å°†ç»“æœç±»å‹å±æ€§è®¾ç½®ä¸º <code>.dictionaryResultType</code> ã€‚å¯¹äºå„åºå¤§çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜ä¼šç”¨åˆ°å±æ€§é›†åˆ (propertiesToFetch) ã€‚ä¸è¿‡ç›®å‰ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½è¢«æ·»åŠ åˆ°å­—å…¸ä¸­äº†ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Plant</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> entityName = <span class="string">"Plant"</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">makeDictionaryRequest</span><span class="params">()</span></span> -&gt; <span class="type">NSFetchRequest</span>&lt;<span class="type">NSDictionary</span>&gt; {</span><br><span class="line">        <span class="keyword">return</span> <span class="type">NSFetchRequest</span>&lt;<span class="type">NSDictionary</span>&gt;(entityName: entityName)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">allPlantsDictionaryRepresentation</span><span class="params">()</span></span> -&gt; [<span class="type">NSDictionary</span>] {</span><br><span class="line">        <span class="keyword">let</span> request = makeDictionaryRequest ()</span><br><span class="line">        request.resultType = .dictionaryResultType</span><br><span class="line">        <span class="keyword">do</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">try</span> request.execute ()</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">catch</span> <span class="keyword">let</span> nsError <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">            os_log (.debug, log: .plants, <span class="string">"failed fetching all plants with error % s % s"</span>, nsError, nsError.userInfo)</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ç”¨-SwiftUI-åœ¨-watchOS-app-ä¸­æ„å»º-UI"><a href="#ç”¨-SwiftUI-åœ¨-watchOS-app-ä¸­æ„å»º-UI" class="headerlink" title="ç”¨ SwiftUI åœ¨ watchOS app ä¸­æ„å»º UI"></a>ç”¨ SwiftUI åœ¨ watchOS app ä¸­æ„å»º UI</h2><p>Xcode ä¸­ watchOS app çš„æ¨¡æ¿æ˜¯å€ŸåŠ© storyboard åˆå§‹åŒ– <code>HostingController</code>ï¼Œ è¿™ä¸ªæ§åˆ¶å™¨è´Ÿè´£æä¾›åˆå§‹çš„ SwiftUI è§†å›¾ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HostingController</span>: <span class="title">WKHostingController</span>&lt;<span class="title">PlantListView</span>&gt; </span>{</span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> connectivityProvider: <span class="type">PhoneConnectivityProvider</span> = {</span><br><span class="line">        <span class="keyword">let</span> provider = <span class="type">PhoneConnectivityProvider</span>()</span><br><span class="line">        provider.connect ()</span><br><span class="line">        <span class="keyword">return</span> provider</span><br><span class="line">    }()</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> listViewModel = <span class="type">PlantListViewModel</span>(connectivityProvider: connectivityProvider)</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> body: <span class="type">PlantListView</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="type">PlantListView</span>(viewModel: listViewModel)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>PlantListView</code> æ˜¯ä¸€ä¸ªæ˜¾ç¤ºæ¤ç‰©åˆ—è¡¨çš„ç®€å•è§†å›¾ï¼Œå®ƒç”¨ <code>PhoneConnectivityProvider</code> çš„ <code>refreshAllPlants (withCompletionHandler:)</code> æ¥å¤„ç†åˆ·æ–°æ¤ç‰©çš„é€»è¾‘ã€‚ SwiftUI è§†å›¾ä¼šåœ¨ view model æ”¹å˜æ—¶è‡ªåŠ¨æ›´æ–°ã€‚è¿™æ˜¯å› ä¸º view model çš„ <code>plants</code> å±æ€§ä½¿ç”¨äº† <code>@Published</code> å±æ€§åŒ…è£…å™¨ï¼Œè€Œ view model æœ¬èº«æ˜¯ <code>ObservableObject</code> ï¼Œè¿™æ˜¯ SwiftUI è§†å›¾ä¸­ä¸º view model é‡‡ç”¨çš„å±æ€§åŒ…è£…å™¨ (æ›´å¤šä¿¡æ¯å¯ä»¥é˜…è¯» refreshing SwiftUI view in MVVM in SwiftUI) ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„ view model æ˜¯ SwiftUI è§†å›¾æ˜¾ç°æ—¶åˆ·æ–°å†…å®¹çš„ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">PlantListViewModel</span>: <span class="title">ObservableObject</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> connectivityProvider: <span class="type">PhoneConnectivityProvider</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">init</span>(plants: [<span class="type">Plant</span>] = [], connectivityProvider: <span class="type">PhoneConnectivityProvider</span>) {</span><br><span class="line">        <span class="keyword">self</span>.plants = plants</span><br><span class="line">        <span class="keyword">self</span>.connectivityProvider = connectivityProvider</span><br><span class="line">        refresh ()</span><br><span class="line">    }</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> plants: [<span class="type">Plant</span>]</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">refresh</span><span class="params">()</span></span> {</span><br><span class="line">        connectivityProvider.refreshAllPlants { [<span class="keyword">weak</span> <span class="keyword">self</span>] (plants) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> plants = plants <span class="keyword">else</span> { <span class="keyword">return</span> }</span><br><span class="line">            <span class="keyword">self</span>?.plants = plants</span><br><span class="line">        }</span><br><span class="line">    }    </span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PlantListView</span>: <span class="title">View</span> </span>{</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">PlantListViewModel</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">VStack</span> {</span><br><span class="line">            <span class="type">List</span>(<span class="keyword">self</span>.viewModel.plants) { plant <span class="keyword">in</span></span><br><span class="line">                <span class="type">PlantCell</span>(viewModel: <span class="type">PlantCellViewModel</span>(plant: plant))</span><br><span class="line">            }</span><br><span class="line">        }.onAppear {</span><br><span class="line">            <span class="keyword">self</span>.viewModel.refresh ()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>PlantListView</code> ç”¨ <code>PlantCell</code> æ¥æ˜¾ç¤ºç‹¬ç«‹çš„è§†å›¾ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PlantCell</span>: <span class="title">View</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> viewModel: <span class="type">PlantCellViewModel</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> {</span><br><span class="line">        <span class="type">VStack</span>(spacing: <span class="number">4</span>) {</span><br><span class="line">            <span class="type">Text</span>(viewModel.title).font (.headline).multilineTextAlignment (.center)</span><br><span class="line">            <span class="type">Text</span>(viewModel.subtitle).font (.footnote).multilineTextAlignment (.center)</span><br><span class="line">        }.padding (<span class="number">8</span>)</span><br><span class="line">            .frame (minWidth: <span class="number">0</span>, maxWidth: .greatestFiniteMagnitude)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PlantCellViewModel</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> plant: <span class="type">Plant</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">return</span> plant.name</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">let</span> dateFormatter: <span class="type">DateFormatter</span> = {</span><br><span class="line">        <span class="keyword">let</span> formatter = <span class="type">DateFormatter</span>()</span><br><span class="line">        formatter.dateFormat = <span class="type">DateFormatter</span>.dateFormat (fromTemplate: <span class="string">"dMMMM"</span>, options: <span class="number">0</span>, locale: .current)</span><br><span class="line">        <span class="keyword">return</span> formatter</span><br><span class="line">    }()</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> subtitle: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">let</span> format = <span class="type">NSLocalizedString</span>(<span class="string">"PlantCellView_NextWatering"</span>, comment: <span class="string">"Next watering date."</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(format: format, <span class="type">Self</span>.dateFormatter.string (from: plant.nextWateringDate))</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æˆ‘ä»¬åœ¨ iOS å’Œ watchOS app ä¸Šéƒ½æ·»åŠ  <code>WCSessions</code> ï¼Œå®ç°ç›¸å…³çš„å§”æ‰˜æ–¹æ³•ä»¥å¤„ç† session å’Œæ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç®€å•çš„é€šä¿¡æ¨¡å¼ï¼Œå¹¶åœ¨ watchOS app ç«¯å®ç°åˆ·æ–°æ¤ç‰©çš„æ–¹æ³•ï¼Œåœ¨ iOS ç«¯å®ç° CoreData é›†æˆã€‚å½“æ•°æ®è®¿é—®åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬åœ¨ watchOS app ä¸Šç”¨ SwiftUI è§†å›¾æ˜¾ç¤ºæ¤ç‰©çš„åˆ—è¡¨ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;p&gt;title: SwiftUI åº”ç”¨ | æµ‡æ°´æé†’ app&lt;br&gt;top: false&lt;br&gt;date: 2020-03-01 17:08:42&lt;br&gt;tags:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;watchOS&lt;/li&gt;
&lt;li&gt;development&lt;/li&gt;
&lt;li&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å¤§çº² | SwiftUI æ•™ç¨‹</title>
    <link href="https://theinfinitegame.tech/uncategorized/outline-swiftui-tutorials/"/>
    <id>https://theinfinitegame.tech/uncategorized/outline-swiftui-tutorials/</id>
    <published>2020-02-27T02:25:01.000Z</published>
    <updated>2020-03-01T08:01:41.893Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/tutorials/swiftui/creating-and-combining-views" target="_blank" rel="noopener">æº</a></p><h1 id="ç¬¬ä¸€ç« -åŸºç¡€"><a href="#ç¬¬ä¸€ç« -åŸºç¡€" class="headerlink" title="ç¬¬ä¸€ç«  åŸºç¡€"></a>ç¬¬ä¸€ç«  åŸºç¡€</h1><h2 id="åˆ›å»ºå’Œç»‘å®šè§†å›¾"><a href="#åˆ›å»ºå’Œç»‘å®šè§†å›¾" class="headerlink" title="åˆ›å»ºå’Œç»‘å®šè§†å›¾"></a>åˆ›å»ºå’Œç»‘å®šè§†å›¾</h2><h3 id="1-åˆ›å»ºé¡¹ç›®å’Œæ¢ç´¢-Canvas"><a href="#1-åˆ›å»ºé¡¹ç›®å’Œæ¢ç´¢-Canvas" class="headerlink" title="1 åˆ›å»ºé¡¹ç›®å’Œæ¢ç´¢ Canvas"></a>1 <strong>åˆ›å»ºé¡¹ç›®å’Œæ¢ç´¢ Canvas</strong></h3><p>è¦ç‚¹ï¼š</p><ol><li>åˆ›å»ºé¡¹ç›®æ—¶ User Interface é€‰æ‹© â€œSwiftUIâ€</li><li>åŸºç¡€æ‰©å±•ï¼šæ¼”ç¤º Xcode ç•Œé¢å¸ƒå±€ï¼Œèœå•</li><li>SwiftUI æ–‡ä»¶çš„ä¸¤éƒ¨åˆ†ï¼šæè¿°è§†å›¾å†…å®¹å’Œå¸ƒå±€çš„ä¸»ç»“æ„ä½“ï¼Œé¢„è§ˆ</li><li>æ˜¾ç¤ºéšè— Canvas é¢æ¿å¿«æ·é”®</li><li>æ¼”ç¤ºå®æ—¶é¢„è§ˆ ï¼ˆæ”¹å˜ body é‡Œçš„ä»£ç ï¼‰ SwiftUI å¼€å‘ä½“éªŒçš„æ ¸å¿ƒå–ç‚¹ä¹‹ä¸€<br>è¿›é˜¶èµ„æºï¼šå£°æ˜å¼ UI ã€Flutter å’Œ SwiftUI çš„æ¯”è¾ƒï¼Œæ‹–å°¾é—­åŒ…è¯­æ³•</li></ol><h3 id="2-è‡ªå®šä¹‰æ–‡æœ¬è§†å›¾"><a href="#2-è‡ªå®šä¹‰æ–‡æœ¬è§†å›¾" class="headerlink" title="2 è‡ªå®šä¹‰æ–‡æœ¬è§†å›¾"></a>2 è‡ªå®šä¹‰æ–‡æœ¬è§†å›¾</h3><p>è¦ç‚¹ï¼š</p><ol><li>æ¼”ç¤ºä»é¢„è§ˆä¸­çš„æ£€è§† UI å…ƒç´ ï¼Œé¡ºä¾¿æä¸€ä¸‹ modifier ï¼Œæ¼”ç¤º Font modifier</li><li>ä»£ç å’Œè§†å›¾çš„å…³ç³»ï¼šsource of truth (çœŸç†ä¹‹æº)</li><li>æ¼”ç¤ºé¢„è§ˆã€æ£€è§†å™¨å’Œä»£ç çš„è‡ªåŠ¨åŒæ­¥</li></ol><h3 id="3-é€šè¿‡å †å ç»„åˆè§†å›¾"><a href="#3-é€šè¿‡å †å ç»„åˆè§†å›¾" class="headerlink" title="3 é€šè¿‡å †å ç»„åˆè§†å›¾"></a>3 é€šè¿‡å †å ç»„åˆè§†å›¾</h3><p>è¦ç‚¹</p><ol><li>body å±æ€§åªè¿”å›ä¸€ä¸ªè§†å›¾<br>è¿›é˜¶èµ„æºï¼šå…³äº body å±æ€§çš„æ–‡ç« </li><li>ä»‹ç»ä¸‰ç±» stacks ï¼ŒHStack, VStackï¼ŒZStack</li><li>ä»‹ç» Xcode çš„ç»“æ„åŒ–ç¼–è¾‘ï¼šåµŒå¥—ã€æ£€è§†ã€æå–ç­‰ã€‚é€šç”¨çš„ â€ å³é”®èœå• â€œ ï¼ŒSwiftUI ä¸“æœ‰çš„ Cmd + ç‚¹å‡»<br>è¿›é˜¶èµ„æºï¼šFlutter</li><li>æ¼”ç¤º embed in vstack</li><li>æ¼”ç¤ºæ·»åŠ æ§ä»¶ï¼š + æŒ‰é’®ï¼Œå¿«æ·é”®</li><li>æ¼”ç¤ºä¸¤å±‚ Stack åµŒå¥—ï¼Œæ¼”ç¤º Spacer çš„ä½¿ç”¨ã€‚<br>è¿›é˜¶èµ„æºï¼šSpacer çš„ç‰¹æ€§</li><li>æ¼”ç¤º padding<br>è¿›é˜¶èµ„æºï¼špadding çš„å„ç§ç‰ˆæœ¬</li></ol><h3 id="4-åˆ›å»ºè‡ªå®šä¹‰å›¾åƒè§†å›¾"><a href="#4-åˆ›å»ºè‡ªå®šä¹‰å›¾åƒè§†å›¾" class="headerlink" title="4 åˆ›å»ºè‡ªå®šä¹‰å›¾åƒè§†å›¾"></a>4 åˆ›å»ºè‡ªå®šä¹‰å›¾åƒè§†å›¾</h3><p>è¦ç‚¹</p><ol><li>ç®€ä»‹ image view ï¼Œå¸¸è§å›¾ç‰‡ç›¸å…³æ¦‚å¿µï¼šmaskï¼Œè¾¹ç¼˜ (border)ï¼ŒæŠ•å½± (drop shadow)</li><li>åŸºç¡€æ‰©å±•ï¼š æ·»åŠ èµ„æºåˆ° asset catalog</li><li>æ¼”ç¤ºåˆ›å»ºæ–°çš„ SwiftUI æ–‡ä»¶ï¼ŒCircleImage</li><li>æ¼”ç¤º Image () æ„é€ å™¨ï¼Œæ¼”ç¤º clipShaper modifier, Circle mask<br>è¿›é˜¶ï¼šmask é®è”½</li><li>æ¼”ç¤º overlayï¼Œ shadow</li></ol><h3 id="5-è®©-UIKit-å’Œ-SwiftUI-ä¸€èµ·å·¥ä½œ"><a href="#5-è®©-UIKit-å’Œ-SwiftUI-ä¸€èµ·å·¥ä½œ" class="headerlink" title="5 è®© UIKit å’Œ SwiftUI ä¸€èµ·å·¥ä½œ"></a>5 è®© UIKit å’Œ SwiftUI ä¸€èµ·å·¥ä½œ</h3><ol><li>å¦‚ä½•åœ¨ SwiftUI ä¸­ä½¿ç”¨ UIKit é‡Œçš„è§†å›¾ï¼Ÿå…³é”®è¯ï¼šwrap, UIViewRepresentable åè®®<br>è¿›é˜¶èµ„æºï¼šwrapï¼Œåè®®</li><li>[å­¦ä¹ æ›²çº¿] è·³è¿‡ï¼Œåç»­å†æ¥è¯´æ˜ã€‚<br>MapKit ç›¸å…³çŸ¥è¯†ç‚¹</li></ol><h3 id="6-æ„æˆè§†å›¾-Compose-Views-â€”â€”-éœ€è¦ç»ƒä¹ "><a href="#6-æ„æˆè§†å›¾-Compose-Views-â€”â€”-éœ€è¦ç»ƒä¹ " class="headerlink" title="6 æ„æˆè§†å›¾ (Compose Views) â€”â€” (éœ€è¦ç»ƒä¹ )"></a>6 æ„æˆè§†å›¾ (Compose Views) â€”â€” (éœ€è¦ç»ƒä¹ )</h3><p>è¦ç‚¹ï¼š</p><ol><li>é€‰æ‹©å®¹å™¨ â€”â€” stacksï¼Œæ–‡å­—ã€å›¾åƒã€Spacerã€è‡ªå®šä¹‰è§†å›¾</li><li>è°ƒæ•´è§†å›¾ â€”â€” modifierï¼Œå±æ€§</li><li>æ‰“å¼€æºé“¾æ¥ï¼Œæ¼”ç¤ºæ ·ä¾‹ app ç•Œé¢å˜åŒ–è¿‡ç¨‹ã€‚</li></ol><p>æ£€æŸ¥ç†è§£çš„æµ‹éªŒã€‚</p><hr><h2 id="æ„å»º-List-å’Œå¯¼èˆª"><a href="#æ„å»º-List-å’Œå¯¼èˆª" class="headerlink" title="æ„å»º List å’Œå¯¼èˆª"></a>æ„å»º List å’Œå¯¼èˆª</h2><h3 id="1-äº†è§£æ ·æœ¬æ•°æ®"><a href="#1-äº†è§£æ ·æœ¬æ•°æ®" class="headerlink" title="1 äº†è§£æ ·æœ¬æ•°æ®"></a>1 äº†è§£æ ·æœ¬æ•°æ®</h3><p>è¦ç‚¹ï¼š</p><ol><li>ç†è§£ Model ï¼Œç²—æµ…ç†è§£ä¸ºæ•°æ®ï¼Œç›¸å¯¹äºè§†å›¾<br>è¿›é˜¶èµ„æºï¼šMVC è®¾è®¡æ¨¡å¼ï¼Œç»“æ„ä½“å’Œç±»çš„åŒºåˆ«ï¼Œæ•°æ®æ ¼å¼ï¼Œjson</li><li>å¸¦ä¸€äº›æ–°çš„å…³é”®å­—ï¼Œåè®®</li><li>è¿›é˜¶æ‰©å±•ï¼šä¸ºä»€ä¹ˆè¦ç”¨æ‰©å±• Landmark çš„ image å±æ€§</li><li>json æ•°æ®æ ¼å¼</li></ol><h3 id="2-åˆ›å»º-â€œè¡Œâ€-è§†å›¾"><a href="#2-åˆ›å»º-â€œè¡Œâ€-è§†å›¾" class="headerlink" title="2 åˆ›å»º â€œè¡Œâ€ è§†å›¾"></a>2 åˆ›å»º â€œè¡Œâ€ è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>åˆ›å»ºæ–° SwiftUI æ–‡ä»¶ï¼Œèµ·å LandmarkRow.swift</li><li>è¿›é˜¶æ‰©å±•ï¼šå­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§</li><li>ä»‹ç» Image resizable modifier</li></ol><h3 id="3-è‡ªå®šä¹‰é¢„è§ˆ"><a href="#3-è‡ªå®šä¹‰é¢„è§ˆ" class="headerlink" title="3 è‡ªå®šä¹‰é¢„è§ˆ"></a>3 è‡ªå®šä¹‰é¢„è§ˆ</h3><p>è¦ç‚¹</p><ol><li>previewLayout<br>è¿›é˜¶èµ„æºï¼špreviewDevice</li></ol><h3 id="4-åˆ›å»ºåˆ—è¡¨"><a href="#4-åˆ›å»ºåˆ—è¡¨" class="headerlink" title="4 åˆ›å»ºåˆ—è¡¨"></a>4 åˆ›å»ºåˆ—è¡¨</h3><p>è¦ç‚¹</p><ol><li>List çš„å…ƒç´ å¯ä»¥æ˜¯åŠ¨æ€çš„ã€é™æ€çš„æˆ–è€…æ··åˆçš„<br>è¿›é˜¶èµ„æºï¼šSwiftUI çš„ List</li><li>ä½¿ç”¨ List<br>è¿›é˜¶èµ„æºï¼š</li></ol><h3 id="5-åˆ›å»ºåŠ¨æ€åˆ—è¡¨"><a href="#5-åˆ›å»ºåŠ¨æ€åˆ—è¡¨" class="headerlink" title="5 åˆ›å»ºåŠ¨æ€åˆ—è¡¨"></a>5 åˆ›å»ºåŠ¨æ€åˆ—è¡¨</h3><p>è¦ç‚¹</p><ol><li>List æ¥æ”¶ <code>identifiable</code> çš„æ•°æ®<br>è¿›é˜¶èµ„æºï¼šSwift keypath è¯­æ³•ï¼ŒSwiftUI çš„ Listã€ForEach<br>è¿›é˜¶èµ„æºï¼šé—­åŒ…ã€æ‹–å°¾é—­åŒ…è¯­æ³•</li><li>Identifiable åè®®ï¼šid å±æ€§çš„çº¦å®š</li></ol><h3 id="6-åœ¨-List-ä¹‹é—´å»ºç«‹å¯¼èˆª"><a href="#6-åœ¨-List-ä¹‹é—´å»ºç«‹å¯¼èˆª" class="headerlink" title="6 åœ¨ List ä¹‹é—´å»ºç«‹å¯¼èˆª"></a>6 åœ¨ List ä¹‹é—´å»ºç«‹å¯¼èˆª</h3><p>è¦ç‚¹</p><ol><li>NavigationView<br>è¿›é˜¶èµ„æºï¼šSwiftUI ç»™è§†å›¾ â€œèµ‹èƒ½â€ çš„æ–¹å¼</li><li>æ ‡é¢˜ã€å¯¼èˆªæŒ‰é’®<br>è¿›é˜¶èµ„æºï¼šæ ‡å‡†åŒ– UI</li><li>NavigationLink</li></ol><h3 id="7-æ•°æ®ä¼ é€’"><a href="#7-æ•°æ®ä¼ é€’" class="headerlink" title="7 æ•°æ®ä¼ é€’"></a>7 <strong>æ•°æ®ä¼ é€’</strong></h3><p>è¦ç‚¹</p><ol><li>æ¼”ç¤ºæ”¹åŠ¨</li></ol><h3 id="8-ç”ŸæˆåŠ¨æ€é¢„è§ˆ"><a href="#8-ç”ŸæˆåŠ¨æ€é¢„è§ˆ" class="headerlink" title="8 ç”ŸæˆåŠ¨æ€é¢„è§ˆ"></a>8 ç”ŸæˆåŠ¨æ€é¢„è§ˆ</h3><p>è¦ç‚¹</p><ol><li>æ¼”ç¤ºå®ç°æ–¹å¼<br>è¿›é˜¶ï¼šå¯¹ç§»åŠ¨å¼€å‘çš„æ„ä¹‰</li></ol><hr><h2 id="å¤„ç†ç”¨æˆ·è¾“å…¥"><a href="#å¤„ç†ç”¨æˆ·è¾“å…¥" class="headerlink" title="å¤„ç†ç”¨æˆ·è¾“å…¥"></a>å¤„ç†ç”¨æˆ·è¾“å…¥</h2><h3 id="1-æ ‡è®°æœ€çˆ±çš„åœ°æ ‡"><a href="#1-æ ‡è®°æœ€çˆ±çš„åœ°æ ‡" class="headerlink" title="1. æ ‡è®°æœ€çˆ±çš„åœ°æ ‡"></a>1. æ ‡è®°æœ€çˆ±çš„åœ°æ ‡</h3><p>è¦ç‚¹</p><ol><li>æ·»åŠ ä¸€ä¸ªå›¾æ ‡ï¼šç³»ç»Ÿå›¾æ ‡ã€ç¼©æ”¾ã€ç€è‰²<br>è¿›é˜¶ï¼šSF Symbolsï¼Œç€è‰²</li></ol><h3 id="2-è¿‡æ»¤åˆ—è¡¨è§†å›¾"><a href="#2-è¿‡æ»¤åˆ—è¡¨è§†å›¾" class="headerlink" title="2 è¿‡æ»¤åˆ—è¡¨è§†å›¾"></a>2 è¿‡æ»¤åˆ—è¡¨è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>@State å±æ€§</li></ol><h3 id="3-æ·»åŠ æ§ä»¶ä»¥è§¦å‘-State"><a href="#3-æ·»åŠ æ§ä»¶ä»¥è§¦å‘-State" class="headerlink" title="3 æ·»åŠ æ§ä»¶ä»¥è§¦å‘ State"></a>3 æ·»åŠ æ§ä»¶ä»¥è§¦å‘ State</h3><p>è¦ç‚¹</p><ol><li>ç»‘å®šï¼š$ è¯­æ³•</li></ol><h3 id="4-ç”¨-Observable-Object-å­˜å‚¨"><a href="#4-ç”¨-Observable-Object-å­˜å‚¨" class="headerlink" title="4 ç”¨ Observable Object å­˜å‚¨"></a>4 ç”¨ Observable Object å­˜å‚¨</h3><p>è¦ç‚¹</p><ol><li>ObservableObject åè®®</li><li>@Published å±æ€§</li></ol><h3 id="5-åœ¨è§†å›¾ä¸­æ¥æ”¶æ¨¡å‹å¯¹è±¡"><a href="#5-åœ¨è§†å›¾ä¸­æ¥æ”¶æ¨¡å‹å¯¹è±¡" class="headerlink" title="5 åœ¨è§†å›¾ä¸­æ¥æ”¶æ¨¡å‹å¯¹è±¡"></a>5 åœ¨è§†å›¾ä¸­æ¥æ”¶æ¨¡å‹å¯¹è±¡</h3><p>è¦ç‚¹ï¼š</p><ol><li>ç¯å¢ƒå˜é‡: EnvironmentOjbect å±æ€§å£°æ˜ï¼ŒenvironmentObject ä¼ å…¥</li><li>where è¯­å¥</li></ol><h3 id="6-ä¸ºæ¯ä¸ªåœ°æ ‡åˆ›å»ºæŒ‰é’®"><a href="#6-ä¸ºæ¯ä¸ªåœ°æ ‡åˆ›å»ºæŒ‰é’®" class="headerlink" title="6 ä¸ºæ¯ä¸ªåœ°æ ‡åˆ›å»ºæŒ‰é’®"></a>6 ä¸ºæ¯ä¸ªåœ°æ ‡åˆ›å»ºæŒ‰é’®</h3><p>è¦ç‚¹ï¼šæ¼”ç¤º</p><hr><h1 id="ç¬¬äºŒç« -ç»˜åˆ¶å’ŒåŠ¨ç”»"><a href="#ç¬¬äºŒç« -ç»˜åˆ¶å’ŒåŠ¨ç”»" class="headerlink" title="ç¬¬äºŒç«  ç»˜åˆ¶å’ŒåŠ¨ç”»"></a>ç¬¬äºŒç«  ç»˜åˆ¶å’ŒåŠ¨ç”»</h1><hr><h1 id="ç¬¬ä¸‰ç« -App-è®¾è®¡å’Œå¸ƒå±€"><a href="#ç¬¬ä¸‰ç« -App-è®¾è®¡å’Œå¸ƒå±€" class="headerlink" title="ç¬¬ä¸‰ç«  App è®¾è®¡å’Œå¸ƒå±€"></a>ç¬¬ä¸‰ç«  App è®¾è®¡å’Œå¸ƒå±€</h1><h1 id="æ„æˆå¤æ‚ç•Œé¢"><a href="#æ„æˆå¤æ‚ç•Œé¢" class="headerlink" title="æ„æˆå¤æ‚ç•Œé¢"></a>æ„æˆå¤æ‚ç•Œé¢</h1><h2 id="1-Home-è§†å›¾"><a href="#1-Home-è§†å›¾" class="headerlink" title="1 Home è§†å›¾"></a>1 Home è§†å›¾</h2><p>è¦ç‚¹</p><p>Home ç•Œé¢<br>   è¿›é˜¶ï¼šå¿ƒæ™ºæ¨¡å¼ï¼šå¹²æ‰°å’Œä¸“æ³¨ï¼Œç®€å•å’Œå¤æ‚ ï¼ˆé€šçŸ¥ï¼‰</p><h2 id="2-åˆ†ç±»åˆ—è¡¨"><a href="#2-åˆ†ç±»åˆ—è¡¨" class="headerlink" title="2 åˆ†ç±»åˆ—è¡¨"></a>2 åˆ†ç±»åˆ—è¡¨</h2><p>è¦ç‚¹</p><ol><li>åˆ†ç±» =&gt; å»ºç«‹å±‚çº§ ï¼ˆâ€œæŠ½å±‰â€ã€å®¹å™¨ï¼‰=&gt; å¯»æ‰¾</li><li>ç”¨å­—å…¸å°†åœ°æ ‡åˆ†ç»„</li><li>é‡æ¸© Listã€ForEachã€keypath çš„ç”¨æ³•</li></ol><h2 id="3-å¢åŠ åœ°æ ‡åˆ†ç±»çš„å†…å®¹"><a href="#3-å¢åŠ åœ°æ ‡åˆ†ç±»çš„å†…å®¹" class="headerlink" title="3 å¢åŠ åœ°æ ‡åˆ†ç±»çš„å†…å®¹"></a>3 å¢åŠ åœ°æ ‡åˆ†ç±»çš„å†…å®¹</h2><p>è¦ç‚¹</p><ol><li>é‡æ¸© Stack</li><li>ScrollView (.horizontal), ForEach</li></ol><h2 id="4-æ„æˆ-Home-è§†å›¾"><a href="#4-æ„æˆ-Home-è§†å›¾" class="headerlink" title="4 æ„æˆ Home è§†å›¾"></a>4 æ„æˆ Home è§†å›¾</h2><p>è¦ç‚¹</p><ol><li>æ”¹é€  CategoryRow</li><li>listRowInsetsã€EdgeInsets</li></ol><h2 id="5-æ·»åŠ å¯¼èˆª"><a href="#5-æ·»åŠ å¯¼èˆª" class="headerlink" title="5 æ·»åŠ å¯¼èˆª"></a>5 æ·»åŠ å¯¼èˆª</h2><p>è¦ç‚¹</p><ol><li>é‡æ¸© NavigationLink</li><li>Image .renderingMode , Text .foregroundColor</li><li>é‡æ¸© @Stateï¼Œ é‡ç‚¹: sheet<br>è¿›é˜¶ï¼šalert, å†…å»ºçš„ç¯å¢ƒå˜é‡ .presentationMode</li><li>å¯¼èˆªæ æŒ‰é’® navigationBarItems</li></ol><hr><h2 id="å’Œ-UI-æ§ä»¶åˆä½œ"><a href="#å’Œ-UI-æ§ä»¶åˆä½œ" class="headerlink" title="å’Œ UI æ§ä»¶åˆä½œ"></a>å’Œ UI æ§ä»¶åˆä½œ</h2><h3 id="1-æ˜¾ç¤ºç”¨æˆ·èµ„æ–™"><a href="#1-æ˜¾ç¤ºç”¨æˆ·èµ„æ–™" class="headerlink" title="1 æ˜¾ç¤ºç”¨æˆ·èµ„æ–™"></a>1 æ˜¾ç¤ºç”¨æˆ·èµ„æ–™</h3><h3 id="2-ç¼–è¾‘æ¨¡å¼"><a href="#2-ç¼–è¾‘æ¨¡å¼" class="headerlink" title="2 ç¼–è¾‘æ¨¡å¼"></a>2 ç¼–è¾‘æ¨¡å¼</h3><p>è¦ç‚¹</p><ol><li>editMode</li><li>æ¡ä»¶è§†å›¾ï¼ŒwrappedValue</li></ol><h3 id="3-å®šä¹‰èµ„æ–™ç¼–è¾‘å™¨"><a href="#3-å®šä¹‰èµ„æ–™ç¼–è¾‘å™¨" class="headerlink" title="3 å®šä¹‰èµ„æ–™ç¼–è¾‘å™¨"></a>3 å®šä¹‰èµ„æ–™ç¼–è¾‘å™¨</h3><p>è¦ç‚¹</p><ol><li>Divider</li><li>Toggle</li><li>Picker</li><li>DatePicker</li></ol><h3 id="4-å»¶åç¼–è¾‘çš„ç”Ÿæ•ˆ"><a href="#4-å»¶åç¼–è¾‘çš„ç”Ÿæ•ˆ" class="headerlink" title="4 å»¶åç¼–è¾‘çš„ç”Ÿæ•ˆ"></a>4 å»¶åç¼–è¾‘çš„ç”Ÿæ•ˆ</h3><p>è¦ç‚¹</p><ol><li>ç¼–è¾‘è‰ç¨¿</li><li>å¯å–æ¶ˆçš„ç¼–è¾‘</li><li>onAppear, onDisappear</li></ol><hr><h1 id="ç¬¬å››ç« -Framework-é›†æˆ"><a href="#ç¬¬å››ç« -Framework-é›†æˆ" class="headerlink" title="ç¬¬å››ç«  Framework é›†æˆ"></a>ç¬¬å››ç«  Framework é›†æˆ</h1><h2 id="ä¸-UIKit-å¯¹æ¥"><a href="#ä¸-UIKit-å¯¹æ¥" class="headerlink" title="ä¸ UIKit å¯¹æ¥"></a>ä¸ UIKit å¯¹æ¥</h2><h3 id="1-åˆ›å»ºè§†å›¾æ¥è¡¨ç¤º-UIPageViewController"><a href="#1-åˆ›å»ºè§†å›¾æ¥è¡¨ç¤º-UIPageViewController" class="headerlink" title="1 åˆ›å»ºè§†å›¾æ¥è¡¨ç¤º UIPageViewController"></a>1 åˆ›å»ºè§†å›¾æ¥è¡¨ç¤º UIPageViewController</h3><p>è¦ç‚¹</p><ol><li>UIViewControllerRepresentable, #makeUIViewController, #updateUIViewController<br>è¿›é˜¶èµ„æºï¼šå›è°ƒ</li><li>ç”¨ SwiftUI çš„ view æ¥æ„å»º UIPageViewController ä¸­çš„ controller</li><li>map</li></ol><h3 id="2-åˆ›å»º-ViewController-çš„æ•°æ®æº"><a href="#2-åˆ›å»º-ViewController-çš„æ•°æ®æº" class="headerlink" title="2 åˆ›å»º ViewController çš„æ•°æ®æº"></a>2 åˆ›å»º ViewController çš„æ•°æ®æº</h3><p>è¦ç‚¹</p><ol><li>ä½¿ç”¨ Coordinator, UIPageViewControllerDataSource</li></ol><h3 id="3-ç”¨-SwiftUI-ä¸­çš„è§†å›¾çŠ¶æ€è·Ÿè¸ª-Page"><a href="#3-ç”¨-SwiftUI-ä¸­çš„è§†å›¾çŠ¶æ€è·Ÿè¸ª-Page" class="headerlink" title="3 ç”¨ SwiftUI ä¸­çš„è§†å›¾çŠ¶æ€è·Ÿè¸ª Page"></a>3 ç”¨ SwiftUI ä¸­çš„è§†å›¾çŠ¶æ€è·Ÿè¸ª Page</h3><p>è¦ç‚¹</p><ol><li>@State, @Binding çš„ä¼ é€’</li><li>UIPageViewControllerDelegate</li></ol><h3 id="4-æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰é¡µé¢æ§åˆ¶"><a href="#4-æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰é¡µé¢æ§åˆ¶" class="headerlink" title="4 æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰é¡µé¢æ§åˆ¶"></a>4 æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰é¡µé¢æ§åˆ¶</h3><p>è¦ç‚¹</p><ol><li>UIViewRepresentable</li><li>UIPageControl, UIControl<br>è¿›é˜¶èµ„æºï¼šâ€œæ§ä»¶â€</li><li><strong>target-action pattern</strong> , <strong>*delegate</strong>ï¼Œ <strong>#selector</strong></li><li><strong>@objc å…³é”®å­— </strong></li><li>å¯é€‰è¿›é˜¶ï¼šèµ·åå­—ï¼Œä¸€ä¸ªåå­—åœ¨å¤šä¸ªå±‚æ¬¡ä¸­ä½¿ç”¨<br>PageControl, UIPageControl</li><li>å¯é€‰è¿›é˜¶ï¼šPageViewController å’Œ PageControl ä¹‹é—´å¦‚ä½•è”åŠ¨</li></ol><hr><h2 id="åˆ›å»º-watchOS-App"><a href="#åˆ›å»º-watchOS-App" class="headerlink" title="åˆ›å»º watchOS App"></a>åˆ›å»º watchOS App</h2><h3 id="1-æ·»åŠ -watchOS-ç›®æ ‡"><a href="#1-æ·»åŠ -watchOS-ç›®æ ‡" class="headerlink" title="1 æ·»åŠ  watchOS ç›®æ ‡"></a>1 æ·»åŠ  watchOS ç›®æ ‡</h3><p>è¦ç‚¹</p><ol><li>æ¿€æ´» watch app çš„ scheme</li><li>Supports Running Without iOS App Installation<br>è¿›é˜¶å†…å®¹ï¼šwatchOS 6.0, watch app å’Œ iOS app çš„å…³ç³»</li></ol><h3 id="2-åœ¨ç›®æ ‡é—´å…±äº«æ–‡ä»¶"><a href="#2-åœ¨ç›®æ ‡é—´å…±äº«æ–‡ä»¶" class="headerlink" title="2 åœ¨ç›®æ ‡é—´å…±äº«æ–‡ä»¶"></a>2 åœ¨ç›®æ ‡é—´å…±äº«æ–‡ä»¶</h3><p>è¦ç‚¹</p><ol><li>æ–‡ä»¶ inspector, Target membership æ®µ</li><li>watchkit app å’Œ watchkit extension çš„åŒºåˆ«<br>è¿›é˜¶å†…å®¹ï¼šwatch app çš„ç»“æ„</li></ol><h3 id="3-åˆ›å»ºç»†èŠ‚è§†å›¾"><a href="#3-åˆ›å»ºç»†èŠ‚è§†å›¾" class="headerlink" title="3 åˆ›å»ºç»†èŠ‚è§†å›¾"></a>3 åˆ›å»ºç»†èŠ‚è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>é€‚é…ä¸åŒå°ºå¯¸çš„å±å¹•</li><li><strong>where è¯­å¥ </strong></li><li>scaleToFill, scaleToFit</li></ol><h3 id="4-æ·»åŠ -watchOS-çš„åœ°å›¾è§†å›¾"><a href="#4-æ·»åŠ -watchOS-çš„åœ°å›¾è§†å›¾" class="headerlink" title="4 æ·»åŠ  watchOS çš„åœ°å›¾è§†å›¾"></a>4 æ·»åŠ  watchOS çš„åœ°å›¾è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>WKInterfaceObjectRepresentable<br>è¿›é˜¶ï¼šä¸ºä»€ä¹ˆä¸èƒ½åƒå¤ç”¨ CircleImage é‚£æ ·ç›´æ¥å¤ç”¨ iOS é‡Œå†™å¥½çš„åœ°å›¾è§†å›¾ï¼ŸSwiftUI çš„å®šä½ï¼ˆlearn once, apply everywhereï¼‰</li><li>æ·»åŠ åˆ° detail ç•Œé¢</li></ol><h3 id="5-åˆ›å»ºè·¨å¹³å°çš„åˆ—è¡¨è§†å›¾"><a href="#5-åˆ›å»ºè·¨å¹³å°çš„åˆ—è¡¨è§†å›¾" class="headerlink" title="5 åˆ›å»ºè·¨å¹³å°çš„åˆ—è¡¨è§†å›¾"></a>5 åˆ›å»ºè·¨å¹³å°çš„åˆ—è¡¨è§†å›¾</h3><p>è¦ç‚¹</p><ol><li><strong> æ³›å‹ </strong>ï¼Œ<strong> ç±»å‹æ¨æ–­ </strong></li><li>å¯¹åº”ä¿®æ”¹ iOS scheme çš„ Home è§†å›¾ï¼ŒLandmarkList çš„åˆå§‹åŒ–ï¼Œé‡æ¸©æ‹–å°¾é—­åŒ…ã€‚</li><li>LandmarkList é¢„è§ˆæ€ä¹ˆè§£å†³ï¼Ÿ #if, #else, #endif, typealias</li></ol><h3 id="6-åœ¨-watch-app-ä¸­ï¼‰æ·»åŠ -Landmarks-List"><a href="#6-åœ¨-watch-app-ä¸­ï¼‰æ·»åŠ -Landmarks-List" class="headerlink" title="6 (åœ¨ watch app ä¸­ï¼‰æ·»åŠ  Landmarks List"></a>6 (åœ¨ watch app ä¸­ï¼‰æ·»åŠ  Landmarks List</h3><p>è¦ç‚¹</p><ol><li>åˆ‡æ¢ scheme</li><li>æ€è€ƒé¢˜ï¼šwatch app ä¸ºä»€ä¹ˆæ²¡æœ‰ Home ?</li></ol><h3 id="7-åˆ›å»ºè‡ªå®šä¹‰çš„é€šçŸ¥æ¥å£"><a href="#7-åˆ›å»ºè‡ªå®šä¹‰çš„é€šçŸ¥æ¥å£" class="headerlink" title="7 åˆ›å»ºè‡ªå®šä¹‰çš„é€šçŸ¥æ¥å£"></a>7 åˆ›å»ºè‡ªå®šä¹‰çš„é€šçŸ¥æ¥å£</h3><p>è¦ç‚¹</p><ol><li><strong> å¦‚ä½•æ­£ç¡®åœ°ä½¿ç”¨é€šçŸ¥ï¼Ÿ</strong></li><li>æ„å»ºé€šçŸ¥è§†å›¾ï¼šswift çš„ init æ¨¡å¼</li><li>é€šçŸ¥æ§åˆ¶ï¼šWKUserNotificationHostingController, #didReceive, </li><li>UNNotification</li><li>é€šçŸ¥é…ç½®ï¼šNotification Category, apns æ–‡ä»¶æ¨¡æ‹Ÿè¿œç¨‹é€šçŸ¥</li><li>åˆ‡æ¢åˆ° Notification scheme</li></ol><hr><h2 id="åˆ›å»º-macOS-app"><a href="#åˆ›å»º-macOS-app" class="headerlink" title="åˆ›å»º macOS app"></a>åˆ›å»º macOS app</h2><h3 id="1-åˆ›å»º-macOS-ç›®æ ‡"><a href="#1-åˆ›å»º-macOS-ç›®æ ‡" class="headerlink" title="1 åˆ›å»º macOS ç›®æ ‡"></a>1 åˆ›å»º macOS ç›®æ ‡</h3><p>è¦ç‚¹</p><ol><li>Deployment Target<br>è¿›é˜¶èµ„æºï¼š<strong> è½¯ä»¶å…¼å®¹ï¼ˆå‘å‰å…¼å®¹ï¼‰</strong>ï¼Œ<strong> ç‰ˆæœ¬å· </strong></li></ol><h3 id="2-å…±äº«æ•°æ®å’Œ-Assets"><a href="#2-å…±äº«æ•°æ®å’Œ-Assets" class="headerlink" title="2 å…±äº«æ•°æ®å’Œ Assets"></a>2 å…±äº«æ•°æ®å’Œ Assets</h3><p>è¦ç‚¹</p><ol><li>Membership</li></ol><h3 id="3-Row-è§†å›¾"><a href="#3-Row-è§†å›¾" class="headerlink" title="3 Row è§†å›¾"></a>3 Row è§†å›¾</h3><h3 id="4-ç»„è£…è§†å›¾"><a href="#4-ç»„è£…è§†å›¾" class="headerlink" title="4 ç»„è£…è§†å›¾"></a>4 ç»„è£…è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>List (selection: Binding<set<selectionvalue>)</set<selectionvalue></li></ol><h3 id="5-è¿‡æ»¤å™¨è§†å›¾"><a href="#5-è¿‡æ»¤å™¨è§†å›¾" class="headerlink" title="5 è¿‡æ»¤å™¨è§†å›¾"></a>5 è¿‡æ»¤å™¨è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>ç›¸åŒæ§ä»¶åœ¨ä¸åŒå¹³å°ä¸Šçš„å¤–è§‚</li><li>preview ä¸­æ ·ä¾‹çš„ .constant ç”¨æ³•</li><li>æ•°ç»„ç›¸åŠ </li><li>é€šç”¨è§„èŒƒï¼šå¤æ‚æ¡ä»¶ï¼Œæ³¨æ„ä½¿ç”¨æ‹¬å·</li></ol><h3 id="6-ç»„åˆåˆ—è¡¨å’Œè¿‡æ»¤å™¨è§†å›¾"><a href="#6-ç»„åˆåˆ—è¡¨å’Œè¿‡æ»¤å™¨è§†å›¾" class="headerlink" title="6 ç»„åˆåˆ—è¡¨å’Œè¿‡æ»¤å™¨è§†å›¾"></a>6 ç»„åˆåˆ—è¡¨å’Œè¿‡æ»¤å™¨è§†å›¾</h3><h3 id="7-å¤ç”¨-CircleImage"><a href="#7-å¤ç”¨-CircleImage" class="headerlink" title="7 å¤ç”¨ CircleImage"></a>7 å¤ç”¨ CircleImage</h3><p>è¦ç‚¹</p><ol><li>å±æ€§é»˜è®¤å€¼</li></ol><h3 id="8-macOS-ä¸Šçš„åœ°å›¾è§†å›¾"><a href="#8-macOS-ä¸Šçš„åœ°å›¾è§†å›¾" class="headerlink" title="8 macOS ä¸Šçš„åœ°å›¾è§†å›¾"></a>8 macOS ä¸Šçš„åœ°å›¾è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>å–„ç”¨ extension åˆ†æ²»ä»£ç </li></ol><h3 id="9-æ„å»ºç»†èŠ‚è§†å›¾"><a href="#9-æ„å»ºç»†èŠ‚è§†å›¾" class="headerlink" title="9 æ„å»ºç»†èŠ‚è§†å›¾"></a>9 æ„å»ºç»†èŠ‚è§†å›¾</h3><h3 id="10-Master-Detail-è§†å›¾"><a href="#10-Master-Detail-è§†å›¾" class="headerlink" title="10 Master Detail è§†å›¾"></a>10 Master Detail è§†å›¾</h3><p>è¦ç‚¹</p><ol><li>mac (iPad) ä¸Šçš„åº”ç”¨å¸ƒå±€ï¼ŒNavigationView</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/tutorials/swiftui/creating-and-combining-views&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æº&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ç¬¬ä¸€ç« 
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>è®¡ç®—æ–¹æ³• 03 | ç§‘å­¦å“²å­¦</title>
    <link href="https://theinfinitegame.tech/social-science/quantitative-method-philosophy-of-science/"/>
    <id>https://theinfinitegame.tech/social-science/quantitative-method-philosophy-of-science/</id>
    <published>2020-02-26T10:13:30.000Z</published>
    <updated>2020-02-26T12:42:35.817Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è®¤è¯†è®º-Epistemology"><a href="#è®¤è¯†è®º-Epistemology" class="headerlink" title="è®¤è¯†è®º (Epistemology)"></a>è®¤è¯†è®º (Epistemology)</h1><p>åœ¨æŠŠå‡è¯´ - æ¼”ç»æ³•ä½œä¸ºè·å–ä¸–ç•ŒçŸ¥è¯†çš„æœ€ä½³é€”å¾„ä¹‹å‰ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šç°å®çš„æœ¬æ€§ï¼Ÿä»€ä¹ˆæ˜¯ç°å®ï¼Ÿä»€ä¹ˆå­˜åœ¨ï¼Ÿå› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆè¦é—®ï¼Œè·å¾—çš„çŸ¥è¯†åˆ°åº•æ˜¯å…³äºä»€ä¹ˆçš„çŸ¥è¯†ã€‚è§£å†³è¿™ç±»é—®é¢˜çš„å“²å­¦é¢†åŸŸå«åš <strong>æœ¬ä½“è®º (ontology)</strong> â€”â€” å¯¹å­˜åœ¨çš„ç ”ç©¶ã€‚ç¬¬äºŒä¸ªé—®é¢˜æ¶‰åŠè·å–çŸ¥è¯†çš„æ–¹æ³•ã€‚å‡è®¾çš„ç¡®æœ‰ä¸€ä¸ªç°å®ï¼šåŸåˆ™ä¸Šæ˜¯å¯çŸ¥çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½è·å–å“ªäº›ç°å®çš„çŸ¥è¯†ï¼Ÿæ€ä¹ˆè·å–ï¼Ÿå“²å­¦é¢†åŸŸä¸­è€ƒè™‘è¿™ç±»é—®é¢˜çš„å« <strong>è®¤è¯†è®º (epistemology)</strong> â€”â€” è®¤è¯†çš„ç ”ç©¶æˆ–ç†è®ºã€‚</p><p>æˆ‘ä»¬ä»åä¸€ä¸ªé—®é¢˜å¼€å§‹è®²ã€‚å‡è®¾æœ‰ä¸€ä¸ªå¯çŸ¥çš„ç°å®ï¼Œæˆ‘ä»¬å¦‚ä½•æ¥è·å–çŸ¥è¯†ã€‚æœ‰å¾ˆå¤šä¸åŒçš„è®¤è¯†è®ºè§‚ç‚¹ï¼Œæˆ‘ä»¬è¿™é‡Œè®¨è®ºä¸¤ä¸ªæœ€é‡è¦çš„è§‚ç‚¹ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯ <strong>ç†æ€§ä¸»ä¹‰ (rationalism)</strong> ã€‚ç†æ€§ä¸»ä¹‰è€…è®¤ä¸ºçŸ¥è¯†é€šè¿‡ç†æ€§è·å¾—ï¼Œç”¨æˆ‘ä»¬å¤§è„‘çš„é€»è¾‘å’Œç†æ€§æ€ç»´èƒ½åŠ›ï¼Œå¯ä»¥æ¨æ–­ä¸–ç•Œçš„çœŸç†ï¼Œè€Œæ— éœ€å€ŸåŠ©ç»éªŒã€‚</p><p>å“²å­¦å®¶æŸæ‹‰å›¾å’Œç¬›å¡å°”ç»“åˆäº†ç†æ€§ä¸»ä¹‰å’Œå…¶ä»–è§‚ç‚¹ï¼Œè®¤ä¸ºè‡³å°‘æŸäº›è‡ªç„¶ç»“æ„çš„æŠ½è±¡æ¦‚å¿µæ˜¯å¤©ç”Ÿçš„ï¼Œæ˜¯æˆ‘ä»¬ä¸ç”Ÿä¿±æ¥çš„ã€‚å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„å¤§è„‘èƒ½è½»æ˜“ç†è§£è¿™äº›æ¦‚å¿µï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œåªè¦ç”¨æ¨ç†å›å¿†æˆ–è¾¨è¯†å³å¯ã€‚</p><p><strong>ç»éªŒä¸»ä¹‰ (Empiricism)</strong> åå¯¹è¿™ä¸€è§‚ç‚¹ï¼Œç»éªŒä¸»ä¹‰è€…è®¤ä¸ºæ„Ÿå®˜ç»éªŒæ‰æ˜¯æœ€ä¸»è¦æ–¹å¼ã€‚ä¸€äº›ç»å¯¹ç»éªŒä¸»ä¹‰è€…ç”šè‡³è®¤ä¸ºï¼Œè¿™æ˜¯è·å–ä¸–ç•ŒçŸ¥è¯†çš„å”¯ä¸€æ–¹å¼ã€‚</p><p>äºšé‡Œå£«å¤šå¾·è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä¸ªç»éªŒä¸»ä¹‰è€…ï¼Œä»–è®¤ä¸ºå…³äºè‡ªç„¶çš„åŸºæœ¬çœŸç†æ¥è‡ªæ„Ÿå®˜ç»éªŒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¼”ç»æ¨ç†è·å–æ›´å¤šçŸ¥è¯†ï¼Œä½†è§‚å¯Ÿæ˜¯æ‰€æœ‰çŸ¥è¯†çš„åŸºç¡€ã€‚äºšé‡Œå£«å¤šå¾·ä¸ç›¸ä¿¡å¤©èµ‹è§‚å¿µ (innate ideas) ã€‚å…¶å®ï¼Œä»–åˆ›é€ äº† â€œç™½æ¿â€ è¿™ä¸ªè¯ï¼ŒæŒ‡å‡ºæ¯ä¸ªäººç”Ÿä¸‹æ¥å°±æ˜¯ä¸€å—ç™½æ¿ã€‚æˆ‘ä»¬çš„çŸ¥è¯†å¹¶ä¸æ˜¯é¢„å…ˆç¡®å®šçš„ï¼Œå¤§è„‘å¯ä»¥æ¥å—ä»»ä½•æ¦‚å¿µã€‚</p><p>å½“ç„¶ï¼Œäºšé‡Œå£«å¤šå¾·ä¸æ˜¯æ¿€è¿›çš„ç»éªŒä¸»ä¹‰è€…ã€‚ä»–ä¸åå¯¹ç†æ€§æ€ç»´åŠ å…¥è¿›æ¥ï¼Œä»–ä¹Ÿä¸åå¯¹ç”¨ä¸€äº›æŠ½è±¡çš„ã€ä¸èƒ½ç›´æ¥è§‚å¯Ÿçš„æ¦‚å¿µã€‚</p><p>æˆ‘è§‰å¾—ä¼½åˆ©ç•¥ç®—æ˜¯æ¸©å’Œçš„ç»éªŒä¸»ä¹‰è€…ã€‚ä»–å¾ˆæ³¨é‡è§‚å¯Ÿæ³•å’Œå®éªŒæ³•ï¼Œä½†ä»–ä¹Ÿæåº¦ä¾èµ–é€»è¾‘æ¨ç†ã€‚ä¼½åˆ©ç•¥æœ‰å¥åè¨€ â€œè‡ªç„¶ä¹‹ä¹¦ä»¥æ•°å­¦è¯­è¨€å†™å°±â€ã€‚ä»–å®Œå…¨ä¸æ’æ–¥è¿ç”¨æ€æƒ³å®éªŒï¼Œä¹Ÿåœ¨ä»–çš„å‡è¯´ä¸­å¼•å…¥ä¸å¯è§‚æµ‹çš„æ€§è´¨ã€‚</p><img src="/images/sci-phil_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åæ¥çš„ç»éªŒä¸»ä¹‰è€…å¦‚åŸ¹æ ¹ï¼Œå°¤å…¶æ˜¯ä¼‘è°Ÿå’Œé€»è¾‘å®è¯ä¸»ä¹‰è€…ï¼Œéƒ½æ˜¯ç»å¯¹ç»éªŒä¸»ä¹‰è€…ï¼Œåšä¿¡åªæœ‰æ„Ÿå®˜ç»éªŒæ‰èƒ½è·å¾—ä¸–ç•Œçš„çœŸçŸ¥ã€‚ä»–ä»¬è®¤ä¸ºå»ºç«‹åœ¨æ— æ³•è¢«ç›´æ¥è§‚æµ‹çš„å…±ç›¸ä¸Šçš„è®ºæ–­æ²¡æœ‰æ„ä¹‰ã€‚</p><p>ç°ä»£çš„ç»éªŒä¸»ä¹‰å°±æ˜¯èŒƒå¼—æ‹‰æ£®çš„å»ºæ„ç»éªŒä¸»ä¹‰ã€‚å®ƒå¼ºè°ƒæ„Ÿå®˜ç»éªŒåœ¨å½’çº³æ³•å’Œæ¼”ç»æ³•ä¸­éƒ½æœ‰ä½œç”¨ï¼Œä½†å®ƒä¹Ÿå…è®¸ç†è®ºæœ¯è¯­å­˜åœ¨ï¼Œå¯¹åº”ä¸èƒ½ç›´æ¥è§‚æµ‹çš„å®ä½“ã€‚å»ºæ„ç»éªŒä¸»ä¹‰çš„ç›®æ ‡æ˜¯æå‡ºå®è¯ä¸Šæ°å½“çš„è§£é‡Šï¼Œåªè¦å®ƒè¡¨è¿°çš„ä¸–ç•Œä¸è§‚æµ‹åˆ°çš„ä¸€è‡´ï¼Œå³å¯è¢«æ¥å—ã€‚å»ºæ„ç»éªŒä¸»ä¹‰è€…ä¼šè¯´å› ä¸ºå­˜åœ¨ä¸å¯è§‚æµ‹çš„æ€§è´¨ï¼ŒçœŸå‡æ— æ³•åˆ¤æ–­ã€‚è¿™æ‰¿è®¤äº†çŸ¥è¯†æ˜¯æš‚æ—¶çš„ï¼Œå› ä¸ºæœªæ¥æ€»å­˜åœ¨å‘ç°æ–°çš„åä¾‹çš„å¯èƒ½ã€‚</p><hr><h1 id="æœ¬ä½“è®º-Ontology"><a href="#æœ¬ä½“è®º-Ontology" class="headerlink" title="æœ¬ä½“è®º (Ontology)"></a>æœ¬ä½“è®º (Ontology)</h1><p>æˆ‘ä»¬æ¥è¯´è¯´æœ¬ä½“è®º (ontology) å³ç°å®çš„æœ¬è´¨æ˜¯ä»€ä¹ˆã€‚</p><p>æœ‰å¾ˆå¤šå¯¹ç«‹çš„è§‚ç‚¹ã€‚åœ¨æ·±å…¥å„ç§å“²å­¦è§‚ç‚¹ä¹‹å‰ï¼Œæˆ‘å…ˆæ¥è§£é‡Šè¿™äº›è§‚ç‚¹é‡Œä¸¤ä¸ªä¸»è¦åŒºåˆ«ã€‚ç¬¬ä¸€ç‚¹ï¼Œç°å®æ˜¯å¦ç‹¬ç«‹å­˜åœ¨äºäººç±»æ€æƒ³ä¹‹å¤–ã€‚å½“æˆ‘ä»¬æ„ŸçŸ¥ä¸–é—´ä¸‡ç‰©ï¼Œå®ƒä»¬çœŸçš„è„±ç¦»æˆ‘ä»¬è€ŒçœŸå®å­˜åœ¨å—ï¼Ÿæˆ–è€…åªæ˜¯æˆ‘ä»¬æ€æƒ³æ„å»ºçš„å¿ƒç†è¡¨å¾ï¼Œåªèƒ½è¯´å­˜åœ¨äºæˆ‘ä»¬çš„æ€æƒ³ã€‚ç¬¬äºŒç‚¹æ˜¯å…³äºæœ¬ä½“çŠ¶æ€çš„æ®Šç›¸ (particular) å’Œå…±ç›¸ (universal)ã€‚æ®Šç›¸æ˜¯æŒ‡å…·ä½“å®ä¾‹æˆ–èƒ½è§‚å¯Ÿåˆ°å±æ€§çš„äº‹ä»¶ï¼›å…±ç›¸æˆ–è€…è¯´ä¸å¯è§‚å¯Ÿçš„æ€§è´¨ï¼Œå°±æ˜¯æŒ‡é‚£äº›æ— æ³•ç›´æ¥è§‚å¯Ÿåˆ°çš„æ™®éæ€§è´¨ã€‚</p><p>æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œçˆ±æ˜¯æˆ‘ä»¬æ— æ³•ç›´æ¥è§‚å¯Ÿåˆ°çš„æ™®éæ€§è´¨ï¼Œä½†èƒ½é€šè¿‡è¡Œä¸ºè¡¨è¾¾æˆ–å…·ç°ã€‚å› æ­¤å½“æˆ‘å®¶çŒ«çˆ¬ä¸Šæˆ‘çš„è†ç›–æ‰“ä¸ªå°ç›¹ï¼Œè¿™å°±æ˜¯çˆ±è¿™ä¸ªå…±ç›¸çš„å…·ä½“å®ä¾‹ã€‚é‡åŠ›æ˜¯å¦ä¸€ä¸ªä¸å¯è§‚å¯Ÿçš„å…±ç›¸ï¼Œé‡åŠ›å¯ç”¨å…·ä½“å®ä¾‹æ¥è¡¨ç°ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘æ‰“ç¿»çŒ«é£Ÿç›†ï¼Œå®ƒå°±ä¼šæ‰åœ¨åœ°ä¸Šã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸åŒçš„æœ¬ä½“è®ºè§‚ç‚¹ï¼Œçœ‹çœ‹ä»–ä»¬å¯¹æ®Šç›¸å’Œå…±ç›¸é—®é¢˜ï¼Œä»¥åŠå¯¹ç°å®æ˜¯å¤–éƒ¨å­˜åœ¨è¿˜æ˜¯ä»…å­˜äºæ€æƒ³å†…çš„çœ‹æ³•ã€‚</p><p>å”¯å¿ƒä¸»ä¹‰ (Idealism) å“²å­¦è§‚è®¤ä¸ºæˆ‘ä»¬æ„ŸçŸ¥çš„ç°å®å®Œå…¨å­˜åœ¨äºè„‘å†…ã€‚åœ¨æˆ‘ä»¬ç²¾ç¥ä¸–ç•Œæ„ŸçŸ¥åˆ°ä¹‹å‰ï¼Œå¤–éƒ¨ç‰©è´¨ä¸–ç•Œçš„å­˜åœ¨ä¸æˆ‘ä»¬æ— å…³ã€‚ç°å®å…¶å®æ˜¯ç²¾ç¥ä¸–ç•Œçš„æ˜ å°„ï¼Œé‡åŠ›å’Œçˆ±æ˜¯å­˜åœ¨çš„ï¼Œä½†ä»…åœ¨æˆ‘ä»¬çš„æ€æƒ³é‡Œï¼Œä¸ä¹‹ç›¸å…³çš„å…·ä½“å®ä¾‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å”¯å¿ƒä¸»ä¹‰è€…ä¼šè¯´ï¼šçŒ«ç¡åœ¨æˆ‘è†ä¸Šï¼Œä»¥åŠç¢—æ‰åœ¨åœ°ä¸Šï¼Œè¿™éƒ½æ˜¯ä½ æƒ³å‡ºæ¥çš„ã€‚</p><p>å¯¹å”¯å¿ƒä¸»ä¹‰è€Œè¨€ï¼Œå…±ç›¸æˆ–ä¸å¯è§‚å¯Ÿçš„æ€§è´¨ï¼Œå®ƒä»¬æ˜¯å¦çœŸçš„åœ¨å¤–éƒ¨ç‹¬ç«‹å­˜åœ¨æ— å…³ç´§è¦ã€‚å› ä¸ºä»–ä»¬è®¤ä¸ºæ®Šç›¸å’Œå…±ç›¸éƒ½æ˜¯å­˜åœ¨çš„ï¼Œä½†éƒ½æ˜¯ç²¾ç¥ä¸–ç•Œçš„æ˜ å°„ã€‚</p><p>å’Œå”¯å¿ƒä¸»ä¹‰ç›¸å¯¹çš„æ˜¯å”¯ç‰©ä¸»ä¹‰ (Materialism) ã€‚å”¯ç‰©ä¸»ä¹‰è®¤ä¸ºæ€æƒ³ä¸–ç•Œå¤–æœ‰ç‹¬ç«‹å­˜åœ¨çš„ä¸–ç•Œï¼Œå”¯ç‰©ä¸»ä¹‰è¿˜è®¤ä¸ºä¸€åˆ‡ç”±ç‹¬ç«‹çš„ç‰©è´¨ä¸–ç•Œæ„æˆã€‚è¿™å°±æ˜¯è¯´ä¸€åˆ‡éƒ½æ˜¯å®ç‰©ç›¸äº’ä½œç”¨çš„ç»“æœï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„æ„è¯†ã€æƒ…ç»ªå’Œæ€æƒ³ï¼Œè¿™äº›æ˜¯æˆ‘ä»¬å¤§è„‘å’Œç‰©è´¨ä¸–ç•Œç›¸äº’ä½œç”¨çš„å‰¯äº§å“ã€‚</p><p>å’Œå”¯å¿ƒä¸»ä¹‰åˆšå¥½ç›¸åï¼Œè¿™æ˜¯ç‰©è´¨å¯¹ç²¾ç¥ã€‚å”¯ç‰©ä¸»ä¹‰åªå…³æ³¨ä¸–ç•Œçš„ç‰©è´¨ç»„æˆï¼Œå’Œå”¯å¿ƒä¸»ä¹‰ç±»ä¼¼ï¼Œå®ƒå¹¶ä¸å…³å¿ƒå¦‚ä½•åŒºåˆ†æ®Šç›¸å’Œå…±ç›¸ã€‚</p><p>ç°å®ä¸»ä¹‰ (Realism) åˆæœ‰æ‰€ä¸åŒï¼Œå°±åƒå”¯ç‰©ä¸»ä¹‰è€…ï¼Œç°å®ä¸»ä¹‰è€…åšæŒå¤–éƒ¨ç°å®ä¸–ç•Œç‹¬ç«‹äºäººç±»æ€æƒ³å­˜åœ¨ï¼Œä½†ç°å®ä¸»ä¹‰è€…è¿˜åšæŒï¼Œåƒçˆ±å’Œé‡åŠ›è¿™ç§å…±ç›¸æ˜¯çœŸå®çš„ï¼Œå…¶å­˜åœ¨å½¢å¼å–å†³äºç°å®ä¸»ä¹‰çš„ç±»å‹ã€‚æŸæ‹‰å›¾å¼çš„ç°å®ä¸»ä¹‰è®¤ä¸ºåƒé‡åŠ›ã€çˆ±è¿™ç§å…±ç›¸ï¼ŒçœŸçš„å­˜åœ¨ä½†æˆ‘ä»¬è§‚å¯Ÿä¸åˆ°ï¼Œå…¶ä½äºä¸€ä¸ªç‹¬ç«‹çš„æŠ½è±¡ä½é¢ã€‚ç§‘å­¦ç°å®ä¸»ä¹‰åˆ™æ›´æ¸©å’Œï¼Œå®ƒè®¤ä¸ºæŠŠå…±ç›¸ç”¨äºç°è±¡è§‚å¯Ÿèƒ½å¾—åˆ°åšå®å¯é çš„ä¸»å¼ ã€‚</p><p>åœ¨ç§‘å­¦ç°å®ä¸»ä¹‰ä¸­ï¼Œåƒçˆ±å’Œé‡åŠ›è¿™ç§å…±ç›¸ï¼Œå’Œå¯è§‚å¯Ÿçš„æ®Šç›¸ä½äºåŒæ ·çš„æœ¬ä½“çŠ¶æ€ã€‚ä¹‹æ‰€ä»¥èƒ½å‡è®¾ä¸å¯æµ‹æ€§çš„å­˜åœ¨ï¼Œæ˜¯å› ä¸ºå…¶å¯¹æ„é€ æˆåŠŸçš„ç§‘å­¦ä¸»å¼ æœ‰ç”¨ä¸”ç»å¸¸å¾ˆå¿…éœ€ã€‚</p><p>æœ€åæ˜¯å”¯åè®º (åä¹‰ä¸»ä¹‰ï¼ŒNominalism) ã€‚è¿™ä¸ªè§‚ç‚¹åœ¨å…±ç›¸æ–¹é¢ä¸ç°å®ä¸»ä¹‰å®Œå…¨å¯¹ç«‹ï¼Œå®ƒæ‰¿è®¤ç°å®ç‹¬ç«‹äºäººç±»æ€æƒ³å­˜åœ¨ï¼Œä½†å¦è®¤å…±ç›¸çš„å­˜åœ¨ã€‚å”¯åè®ºè®¤ä¸ºæ²¡æœ‰é‡åŠ›æˆ–çˆ±è¿™å›äº‹å„¿ï¼Œåªæœ‰æ‰è½çš„ç‰©å“ä»¥åŠç»å¸¸åœ¨ä½ è†ç›–æ‰“å‘¼å™œçš„çŒ«ã€‚æ ¹æ®å”¯åè®ºï¼Œæˆ‘ä»¬ç”¨é‡åŠ›å’Œçˆ±è¿™äº›æœ¯è¯­ï¼Œåªå› ä¸ºèƒ½å¸®åŠ©ç†è§£ä¸–ç•Œï¼Œä½†å…±ç›¸ä¸æ˜¯çœŸå®å­˜åœ¨çš„ã€‚</p><hr><h1 id="æ–¹æ³•-Approaches"><a href="#æ–¹æ³•-Approaches" class="headerlink" title="æ–¹æ³• (Approaches)"></a>æ–¹æ³• (Approaches)</h1><p>è‡³ä»Šä¸ºæ­¢æˆ‘è®²åˆ°çš„ç§‘å­¦æ–¹æ³•çš„å‘å±•ï¼Œä¸»è¦åœ¨è‡ªç„¶ç§‘å­¦é¢†åŸŸã€‚ç‰©ç†å­¦ physicsã€å¤©æ–‡å­¦ astronomyã€ç”Ÿç‰©å­¦ biologyï¼Œä½†åœ¨ 19 ä¸–çºªä¸‹åŠå¶ï¼Œ <strong>ç¤¾ä¼šç§‘å­¦ (social sciences)</strong> å¼€å§‹ç™»ä¸Šå†å²èˆå°ã€‚</p><p>è¿™æ®µæ—¶æœŸï¼Œäººä»¬åˆé‡æ‹¾äº†ç°å®ä¸»ä¹‰çš„æœ¬ä½“è®ºè§‚ç‚¹ï¼Œå³å‡è®¾ç‰©è´¨ä¸–ç•Œæ˜¯çœŸå®çš„ï¼Œæˆ‘ä»¬æ„ŸçŸ¥çš„æ˜¯å¤–éƒ¨ä¸–ç•Œï¼Œæ˜¯ç‹¬ç«‹äºæˆ‘ä»¬æ€æƒ³å­˜åœ¨çš„ã€‚</p><p>è®¤è¯†è®ºçš„è§‚ç‚¹è¶Šæ¥è¶Šå®è¯ä¸»ä¹‰ (positivistic) ï¼Œè¿™æ„å‘³ç€ç§‘å­¦å®¶è®¤ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡è§‚å¯Ÿå’Œå®éªŒæ¥è·å–æœ‰å…³ä¸–ç•Œæœ¬è´¨çš„çŸ¥è¯†ã€‚è¿™ç§ç°å®å®è¯è§‚ç‚¹å¤§å¤šåº”ç”¨äºè‡ªç„¶ç°è±¡æ–¹é¢ï¼Œä½†éšç€ç¤¾ä¼šç§‘å­¦å‘å±•å¹¶æˆä¸ºç‹¬ç‰¹çš„ç§‘å­¦é¢†åŸŸï¼Œé—®é¢˜æ¥äº†ï¼šç°å®ä¸»ä¹‰è§‚ç‚¹æ˜¯å¦é€‚ç”¨äºç¤¾ä¼šå­¦å’Œå¿ƒç†å­¦ç°è±¡å‘¢ï¼Ÿ</p><p>æ ¹æ® <strong>å®¢è§‚ä¸»ä¹‰ (objectivism)</strong> çš„è§‚ç‚¹ï¼Œç°å®ä¸»ä¹‰æœ¬ä½“è®ºç«‹åœºç¡®å®é€‚ç”¨äºå¿ƒç†å­¦å’Œç¤¾ä¼šå­¦ç°è±¡ï¼Œæ¯”å¦‚æ™ºåŠ›å’Œç¤¾ä¼šå‡èšåŠ›æ˜¯å¤–éƒ¨çš„ã€ç‹¬ç«‹çš„æ€§è´¨ï¼Œæ˜¯ç‹¬ç«‹äºæˆ‘ä»¬çš„å¿ƒç†è¡¨å¾çš„ã€‚</p><p>å®¢è§‚ä¸»ä¹‰å¯ä»¥å»ºæ„ä¸»ä¹‰ (constructivism) åšå¯¹æ¯”ã€‚</p><img src="/images/sci-phil_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æ ¹æ®å»ºæ„ä¸»ä¹‰ï¼Œç¤¾ä¼šç°è±¡çš„æœ¬è´¨å–å†³äºæ‰€æ¶‰åŠçš„ç¤¾ä¼šè§’è‰²ã€‚è¿™æ„å‘³ç€ç°å®ä¸æ˜¯ç‹¬ç«‹å’Œå¤–åœ¨çš„ï¼Œè€Œè¢«è®¤ä¸ºæ˜¯åŸºäºè§‚å¯Ÿè€…å’Œæƒ…å¢ƒçš„å¿ƒç†å»ºæ„ã€‚æ¯”å¦‚ï¼Œå¿«ä¹æˆ–å¥³æ€§æ°”è´¨è¿™äº›å±æ€§ä¸æ˜¯å¤–åœ¨çš„ï¼Œä¸æ˜¯æ°¸æ’çš„ï¼Œä¹Ÿä¸èƒ½è¢«å®¢è§‚å®šä¹‰ã€‚è¦å¦‚ä½•çœ‹å¾…è¿™äº›å±æ€§ä»¥åŠå®ƒä»¬çš„æ„ä¹‰ï¼Œå–å†³äºè§‚å¯Ÿè€…çš„æ–‡åŒ–èƒŒæ™¯ã€ç¤¾ä¼šæ—ç¾¤åŠç‰¹å®šçš„å†å²æ—¶æœŸã€‚é‚£ä¹ˆï¼Œå¦‚æœå¿ƒç†ç°å®å’Œç¤¾ä¼šç°å®æ˜¯å»ºæ„çš„ã€ä¸»è§‚çš„ã€éš¾ä»¥æ‰æ‘¸çš„ï¼Œæˆ‘ä»¬å¦‚ä½•äº†è§£å®ƒå‘¢ï¼Ÿæ€æ ·çš„è®¤è¯†è®ºç«‹åœºé€‚åˆå»ºæ„ä¸»ä¹‰çš„æœ¬ä½“è®ºç«‹åœºï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œæœ‰ä¸€ç»„äº’ç›¸è”ç³»çš„è§‚å¿µï¼Œç»Ÿç§°ä¸º <strong>è§£é‡Šä¸»ä¹‰ (interpretivism)</strong> ã€‚è§£é‡Šä¸»ä¹‰çš„è§‚ç‚¹éƒ½å‡è®¾ç ”ç©¶è€…å…³äºç¤¾ä¼šç°è±¡çš„ç»å†æˆ–è§‚å¯Ÿï¼Œå¯èƒ½ä¸è¿™äº›ç¤¾ä¼šç°è±¡äº²å†è€…çš„ç»å†å¤§ç›¸å¾„åº­ã€‚æ‰€ä»¥é‡ç‚¹åº”è¯¥æ”¾åœ¨å‚ä¸è€…çš„è§’åº¦æ¥è§£è¯»ç°è±¡ã€‚</p><p>æˆ‘æƒ³è®²çš„ä¸‰ä¸ªè§£é‡Šä¸»ä¹‰è§‚ç‚¹æ˜¯ <strong>è§£é‡Šå­¦ (hermeneutics)</strong> ã€ <strong>ç°è±¡å­¦ (phenomenology)</strong> å’Œ <strong>è¯ é‡Šç¤¾ä¼šå­¦ (verstehen)</strong> ï¼Œå®ƒä»¬åœ¨å¦‚ä½•è·å¾—å¿ƒç†å­¦å’Œç¤¾ä¼šç°å®çš„ç†è§£ä¸Šæœ‰äº›å¾®å·®åˆ«ã€‚</p><p>å…ˆæ¥çœ‹çœ‹è§£é‡Šå­¦ã€‚è¿™ä¸ªæœ¯è¯­æ¥è‡ªç¥å­¦ï¼Œæ˜¯å…³äºè§£è¯»ç»æ–‡ã€‚è§£é‡Šå­¦æ—¨åœ¨é€šè¿‡è§£è¯»äººä»¬åœ¨ç¤¾ä¼šæƒ…å¢ƒä¸‹çš„è¡Œä¸º æ¥è§£é‡Šç¤¾ä¼šç°è±¡ã€‚ç ”ç©¶è€…éœ€è¦å°†æƒ…å¢ƒçº³å…¥è€ƒé‡ï¼Œå¹¶è¯•ç€ç†è§£äººä»¬å¦‚ä½•çœ‹å¾…è¿™ä¸–ç•Œï¼Œä»¥æ­¤æ¥ç†è§£ä»–ä»¬çš„è¡Œä¸ºã€‚</p><p>ç°è±¡å­¦ä¸è§£é‡Šå­¦å¯†åˆ‡ç›¸å…³ã€‚å®ƒçš„é¦–è¦å‰ææ˜¯äººä¸æ˜¯æ— ç”Ÿå‘½çš„å¯¹è±¡ï¼Œä»–ä»¬ä¼šæ€è€ƒå’Œæ„ŸçŸ¥å‘¨é­çš„ä¸–ç•Œï¼Œè€Œè¿™ä¼šå½±å“ä»–ä»¬çš„è¡Œä¸ºã€‚ä¸ºäº†ç†è§£ä»–ä»¬çš„è¡Œä¸ºï¼Œå°±éœ€è¦è°ƒæŸ¥ä»–ä»¬ç»™è‡ªå·±æ‰€ç»å†çš„ç°è±¡èµ‹äºˆçš„æ„ä¹‰ã€‚è¿™æ„å‘³ç€è°ƒæŸ¥äººä»¬å¦‚ä½•ä»è‡ªèº«çš„è§’åº¦æ¢ç©¶ä¸–ç•Œã€‚è¦åˆ‡èº«äº†è§£ä»–äººå¯¹è‡ªå·±ç»å†çš„ç†è§£ï¼Œç ”ç©¶è€…éœ€è¦å°½å¯èƒ½åœ°æ¶ˆé™¤è‡ªå·±å…ˆå…¥ä¸ºä¸»çš„è§‚å¿µã€‚</p><p>è¯ é‡Šç¤¾ä¼šå­¦æ˜¯ç¬¬ä¸‰ç§è§£é‡Šä¸»ä¹‰è§‚ç‚¹ï¼Œå®ƒä¸è§£é‡Šå­¦å’Œç°è±¡å­¦æœ‰ç´§å¯†è”ç³»ã€‚è¯ é‡Šç¤¾ä¼šå­¦ä¸»è¦ä¸ç¤¾ä¼šå­¦å®¶é©¬å…‹æ–¯ãƒ»éŸ¦ä¼¯ (Max Weber) ç›¸å…³ã€‚è¯ é‡Šç¤¾ä¼šå­¦æ˜¯æŒ‡å¯¹ç¤¾ä¼šç°è±¡çš„ç§»æƒ…ç†è§£ã€‚ç ”ç©¶è€…éœ€è¦ç«™åœ¨ç ”ç©¶å¯¹è±¡çš„ç«‹åœºï¼Œæ¥è§£è¯»ä»–ä»¬å¦‚ä½•çœ‹å¾…ä¸–ç•Œï¼Œåªæœ‰è¿™æ ·ç ”ç©¶è€…æ‰èƒ½è§£é‡Šä»–ä»¬çš„è¡Œä¸ºã€‚æ¯”å¦‚ï¼Œå¦‚æœæ¬§æ´²ç ”ç©¶è€…æƒ³åœ¨ä¸€ä¸ªä¸ä¸–éš”ç»çš„äºšé©¬é€Šéƒ¨è½ä¸­æ¢ç©¶å¿«ä¹ã€‚ä»–ä»¬éœ€è¦ç«™åœ¨éƒ¨è½çš„è§’åº¦ï¼Œè€ƒè™‘åˆ°éƒ¨è½çš„ç¤¾ä¼šæƒ…å¢ƒã€‚å¯¹éƒ¨è½æ¥è¯´ï¼Œæˆ–è®¸é›†ä½“æ¯”ä¸ªäººæ›´é‡è¦ï¼Œè¿™å¯èƒ½æ„å‘³ç€å¿«ä¹è¢«è®¤ä¸ºæ˜¯ä¸€ç§é›†ä½“å±æ€§ï¼Œç”šè‡³æ ¹æœ¬ä¸é€‚ç”¨äºä¸ªäººã€‚ç°åœ¨ï¼Œä¸ºäº†ç†è§£è¿™ç§å®Œå…¨ä¸åŒçš„ä¸–ç•Œè§‚ï¼Œç ”ç©¶è€…éœ€è¦å°†è‡ªå·±æ²‰æµ¸åœ¨ä»–ä»¬ç ”ç©¶çš„äººæˆ–æ—ç¾¤çš„æ–‡åŒ–ä¸­ã€‚</p><p>å½“ç„¶ï¼Œå»ºæ„è§£é‡Šä¸»ä¹‰çš„è§‚ç‚¹å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚é¦–å…ˆï¼Œæœ‰åˆ†å±‚è§£è¯»çš„é—®é¢˜ â€”â€” ç ”ç©¶è€…çš„è§£è¯»ï¼›ç ”ç©¶å¯¹è±¡çš„è§£è¯»ï¼›è€Œå°†å‘ç°æ”¾è¿›ä¸€ä¸ªæ¡†æ¶æˆ–å…³è”ä¸€ä¸ªç†è®ºæ—¶ï¼Œåˆè¿›è¡Œäº†è§£è¯»ã€‚æ¯å¤šä¸€å±‚è§£è¯»ï¼Œå°±å¢å¤§äº†è¯¯è§£çš„æœºä¼šã€‚ç¬¬äºŒä¸ªæ›´ä¸¥é‡çš„é—®é¢˜æ˜¯ç»“æœç¼ºä¹å¯æ¯”æ€§ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¿«ä¹æ˜¯ä¸»è§‚çš„ï¼Œåœ¨ä¸åŒçš„æ–‡åŒ–ä¸­æ„ä¹‰ä¸åŒã€‚æˆ‘ä»¬ä¸èƒ½å°±è¿™ä¹ˆè¿›è¡Œæ¯”è¾ƒã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æ°¸è¿œæ— æ³•æå‡ºæ™®é€‚è§£é‡Šæˆ–ç†è®ºï¼Œè€Œä»…ä»…é€‚ç”¨äºç‰¹å®šäººç¾¤æˆ–ç‰¹å®šæ—¶æ®µã€‚ç¬¬ä¸‰ä¸ªé—®é¢˜æ˜¯å‚è€ƒç³»çš„ä¸åŒã€‚å¦‚æœå‚è€ƒç³»ä¸ç ”ç©¶è€…ç›¸å»ç”šè¿œï¼Œç ”ç©¶è€…å°±å¾ˆéš¾ç«™åœ¨ç ”ç©¶å¯¹è±¡çš„ç«‹åœºä¸Šï¼Œä»è€Œç”šè‡³éš¾ä»¥å‘ç°ç¤¾ä¼šæƒ…å¢ƒä¸­çš„ç›¸å…³æ–¹é¢ã€‚</p><p>å»ºæ„ - è§£é‡Šä¸»ä¹‰çš„è§‚ç‚¹å¸¸ä¸ç§‘å­¦çš„å®šæ€§æ–¹æ³•æœ‰å…³ã€‚æ¢è¨€ä¹‹ï¼Œè§‚å¯Ÿæ˜¯é€šè¿‡éç»“æ„åŒ–è®¿è°ˆæˆ–å‚ä¸æ€§è§‚å¯Ÿè¿›è¡Œçš„ï¼Œè€Œç ”ç©¶è€…æ˜¯ä»–ä»¬ä¸­çš„ä¸€ä»½å­ã€‚æ•°æ®æ¥æºäºä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªç ”ç©¶å¯¹è±¡ï¼Œé€šè¿‡è§£è¯»æ–‡æœ¬æˆ–å½•åˆ¶çš„ç´ æå¯¹æ•°æ®è¿›è¡Œå®šæ€§åˆ†æã€‚åä¹‹ï¼Œå®¢è§‚ - å®è¯è§‚ç‚¹äºå®šé‡ç ”ç©¶æ–¹æ³•ç›¸å…³ã€‚å¾—åˆ°çš„è§‚å¯Ÿç»“æœå¯ä»¥è¢«è®¡æ•°æˆ–æµ‹é‡ï¼Œæ‰€ä»¥å¤šä¸ªç ”ç©¶å¯¹è±¡çš„æ•°æ®å¯ä»¥æ•´åˆåœ¨ä¸€èµ·ï¼Œé€‰å–çš„ç ”ç©¶å¯¹è±¡ä»£è¡¨æ›´å¤§çš„äººç¾¤ï¼Œæˆ–è®¸å¯ä»¥æ”¯æŒä¸€ä¸ªæ™®é€‚è§£é‡Šã€‚è€Œä¸”æ•°æ®ç”¨é‡åŒ–ç»Ÿè®¡æ‰‹æ®µæ¥åˆ†æã€‚</p><p>å°½ç®¡å®šæ€§æ–¹æ³•é€šå¸¸ä¸å»ºæ„ä¸»ä¹‰çš„ç§‘å­¦è§‚ç‚¹ç›¸å…³ï¼Œè€Œå®šé‡æ–¹æ³•ä¸å®¢è§‚ä¸»ä¹‰è§‚ç‚¹ç›¸å…³ï¼Œè¿™å¹¶ä¸æ˜¯é™åˆ¶æˆ‘ä»¬ä»…ä½¿ç”¨å®šæ€§æˆ–å®šé‡æ–¹æ³•çš„ç†ç”±ã€‚ä¸¤ç§æ–¹æ³•éƒ½å„æœ‰ä¼˜åŠ£ã€‚å¯¹æœ‰äº›ç ”ç©¶é—®é¢˜æ¥è¯´ï¼Œå®šæ€§æ–¹æ³•æ›´å¥½ï¼›å…¶ä»–æƒ…å†µä¸‹ å®šé‡æ–¹æ³•å¯èƒ½æ›´åˆé€‚ã€‚äº‹å®ä¸Šï¼Œå°†ä¸¤ç§æ–¹æ³•äº’è¡¥ç»“åˆåœ¨ä¸€èµ·çš„æ–¹æ³•ï¼Œè¶Šæ¥è¶Šå—åˆ°æ¬¢è¿ã€‚</p><hr><h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><p>å½“ç„¶æœ€åï¼Œç§‘å­¦çš„æ€»ä½“ç›®æ ‡æ˜¯è·å¾—çŸ¥è¯†ï¼Œä½†å¯ä»¥åˆ†ä¸ºæ›´å¤šå…·ä½“çš„ç›®æ ‡ï¼ŒåŒºåˆ†ç›®æ ‡çš„æ–¹å¼æœ‰è·å–çŸ¥è¯†çš„ç±»å‹ä»¥åŠè·å–çŸ¥è¯†çš„ç›®çš„ã€‚</p><p><strong>æ™®éæ€§ç ”ç©¶ (universalistic research)</strong> è¯•å›¾æä¾›èƒ½å¹¿æ³›ä½¿ç”¨çš„è§£é‡Šã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾ç©æš´åŠ›ç”µè„‘æ¸¸æˆä¼šå¯¼è‡´æ”»å‡»è¡Œä¸ºã€‚è¿™ä¸å…·ä½“æ¸¸æˆæˆ–ç‰¹å®šç©å®¶æ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬å‡å®šçš„æ˜¯ç©æš´åŠ›æ¸¸æˆå’Œæ”»å‡»æ€§é—´çš„ç›¸å…³æ€§ï¼Œè¿™é€‚ç”¨äºä»»ä½•æš´åŠ›æ¸¸æˆï¼Œå¦‚ GTA ã€ä½¿å‘½å¬å”¤ç­‰ç­‰ï¼›æˆ‘ä»¬è¿˜å‡è®¾ç›¸å…³æ€§é€‚ç”¨äºç”·æ€§å’Œå¥³æ€§ï¼Œä»»ä½•å¹´é¾„ã€ä»»ä½•æ–‡åŒ–èƒŒæ™¯çš„äººã€‚</p><p>æ™®éæ€§ç ”ç©¶è‡´åŠ›æè¿°æˆ–è§£é‡Šçš„ç°è±¡ï¼Œèƒ½ç”¨äºæ‰€æœ‰äººã€æ‰€æœ‰ç¾¤ä½“æˆ–ç¤¾ä¼šã€‚</p><p>ç§‘å­¦æ–¹æ³•ä¹Ÿèƒ½ç”¨äºç‰¹æ®Šæ€§ç ”ç©¶ã€‚ç‰¹æ®Šæ€§ç ”ç©¶è‡´åŠ›æè¿°æˆ–è§£é‡Šå‘ç”Ÿåœ¨ç‰¹å®šç¯å¢ƒä¸‹çš„ç°è±¡ï¼Œæˆ–è€…æ¶‰åŠç‰¹å®šç¾¤ä½“ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨è·å…°å°†æ³•å®šé¥®é…’å¹´é¾„ä» 16 å²å‡è‡³ 18 å²åï¼Œæˆ‘ä»¬èƒ½è°ƒæŸ¥è·å…°é’å¹´é…’ç²¾ä¸­æ¯’ä½é™¢äººæ•°çš„å˜åŒ–ã€‚å…³é”®æ˜¯åœ¨ç‰¹å®šçš„æ—¶é—´ã€åœ°ç‚¹ã€ç¾¤ä½“å†…è°ƒæŸ¥å½±å“çš„å¤§å°ã€‚ä¸è¦æŒ‡æœ›åœ¨ä¸åŒå›½å®¶æˆ–åå¹´é‡Œå†æ¬¡æ”¹å˜é¥®é…’å¹´é¾„ä¼šæœ‰åŒæ ·ç»“æœã€‚æ‰€ä»¥ç ”ç©¶ç›®çš„æ—¢å¯ä»¥æ˜¯æ™®éæ€§çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰¹æ®Šæ€§çš„ã€‚è¯´å¾—ç®€çŸ­äº›å°±æ˜¯ï¼šå¯è·å¾—æ™®éæ€§æˆ–ç‰¹å®šçš„çŸ¥è¯†ã€‚</p><p><strong>åŸºç¡€ç ”ç©¶ (fundamental research)</strong> å’Œ <strong>åº”ç”¨ç ”ç©¶ (applied research)</strong> é—´å…³ç³»å¾ˆè¿‘ï¼Œé‡å åº¦å¾ˆé«˜ã€‚</p><p>åº”ç”¨ç ”ç©¶ä¸ºäº†ç›´æ¥è§£å†³é—®é¢˜ï¼Œå…¶å¼€å‘å’Œåº”ç”¨çŸ¥è¯†æ˜¯ä¸ºäº†æé«˜äººç±»ç¦ç¥‰ã€‚å‡è®¾æˆ‘ä»¬æƒ³å¸®åŠ©æŠ‘éƒäººç¾¤ï¼Œæˆ‘ä»¬è®¤ä¸ºæŠ‘éƒæ˜¯å­¤ç‹¬é€ æˆçš„ã€‚æˆ‘ä»¬å°±å¯ä»¥å»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼Œç›®çš„æ˜¯å‡å°‘å­¤ç‹¬æ„Ÿä»¥é™ä½æŠ‘éƒç¨‹åº¦ã€‚æˆ‘ä»¬è®©å­¤ç‹¬æŠ‘éƒçš„äººå»å…»åªçŒ«ï¼Œæ¥è§‚å¯Ÿæ˜¯å¦çœŸçš„ç”±äºä¸å†å­¤ç‹¬é™ä½äº†æŠ‘éƒç¨‹åº¦ã€‚</p><p>åŸºç¡€ç ”ç©¶ç›¸è¾ƒäºåº”ç”¨ç ”ç©¶æ—¨åœ¨è·å–çŸ¥è¯†ï¼Œå°±æ˜¯ä¸ºäº†å¢è¿›äº†è§£ã€‚åŸºç¡€ç ”ç©¶çš„å”¯ä¸€ç›®çš„æ˜¯åŠ æ·±äº†è§£èº«è¾¹çš„ä¸–ç•Œï¼Œä¸éœ€è¦èƒ½ç«‹å³åº”ç”¨å’Œæ¥è§£å†³é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œè°ƒæŸ¥å­¤ç‹¬å’ŒæŠ‘éƒé—´çš„ç›¸å…³æ€§ï¼Œç”¨å¤§è§„æ¨¡è°ƒæŸ¥æ¥çœ‹æ˜¯å¦è¶Šæ„Ÿè§‰å­¤ç‹¬çš„äººè¶ŠæŠ‘éƒï¼Œåä¹‹äº¦ç„¶ã€‚è¿™é‡Œæ˜¯ä¸ºäº†æ­ç¤ºå­¤ç‹¬å’ŒæŠ‘éƒé—´çš„ç›¸å…³æ€§ã€‚ä¹Ÿè®¸æˆ‘ä»¬æƒ³çœ‹çœ‹æ˜¯å¦ç”·æ€§å¥³æ€§éƒ½æœ‰è¿™ç§ç›¸å…³æ€§ï¼Œä¸åŒæ–‡åŒ–å’Œå¹´é¾„ä¹Ÿæœ‰è¿™ç§ç›¸å…³æ€§ã€‚ä½†æ³¨æ„ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå¦‚ä½•æ²»ç–—æŠ‘éƒï¼Œè¿™é‡Œçš„ç›®çš„æ›´å¤šçš„æ˜¯äº†è§£ç›¸å…³æ€§ï¼Œä¸æ˜¯å¸®åŠ©æŠ‘éƒäººç¾¤ã€‚</p><p>å¤§å¤šæ•°åŸºç¡€ç ”ç©¶æ˜¯æ™®éæ€§ç ”ç©¶ï¼Œä½†æœ‰æ—¶å€™åŸºç¡€ç ”ç©¶ä¹Ÿä¼šæ˜¯ç‰¹æ®Šæ€§ç ”ç©¶ã€‚ä¾‹å¦‚ï¼Œåœ¨éå¸¸ç‰¹å®šçš„æƒ…å½¢ä¸‹çš„ç ”ç©¶ã€‚å¥½æ¯”æˆ‘ä»¬è°ƒæŸ¥ç©æš´åŠ›æ¸¸æˆå’Œæ”»å‡»è¡Œä¸ºçš„ç›¸å…³æ€§ï¼Œå°±åœ¨é˜¿å§†æ–¯ç‰¹ä¸¹ç‰¹å®šçš„åˆçŠ¯å°‘å¹´çŠ¯ç¾¤ä½“ä¸­ï¼Œä»–ä»¬éƒ½æ¥è‡ªæƒè´µé˜¶çº§ã€‚åœ¨ç©æš´åŠ›æ¸¸æˆå’Œæ”»å‡»è¡Œä¸ºç›¸å…³æ€§æ–¹é¢ï¼Œè¿™ä¸ªéå¸¸ç‰¹å®šçš„é—®é¢˜ç¾¤ä½“èƒ½æä¾›æœ‰è¶£çš„æ–°è§è§£ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬ä¸è§‚å¯Ÿè¯¥ç¾¤ä½“å¦‚ä½•æ”¹é€ æˆ–ä¸å†çŠ¯ç½ªã€‚</p><p>åº”ç”¨ç ”ç©¶å¸¸æ˜¯ç‰¹æ®Šæ€§ç ”ç©¶ï¼Œæ—¨åœ¨ç‰¹å®šç¯å¢ƒã€ç‰¹å®šç¾¤ä½“ä¸­è§£å†³é—®é¢˜ï¼Œä½†å®ƒä¹Ÿå¯ä»¥æ˜¯æ™®éæ€§çš„ç ”ç©¶ã€‚ä»¥å…»çŒ«æ¥å‡å°‘æŠ‘éƒçš„ç ”ç©¶ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•è¿™é¡¹åº”ç”¨ç ”ç©¶ï¼Œæ¯”è¾ƒç…§é¡¾å‹å–„æ˜“äº¤æµçš„çŒ«å’Œæ‹’ç»æ¥è§¦çš„çŒ«çš„äººç¾¤ã€‚è¿™ä¼šæ›´æœ‰é’ˆå¯¹æ€§åœ°å¸®åŠ©æ‰¾åˆ°ä½•ç§æ²»ç–—æœ‰æ•ˆï¼Œä½†è¿™ä¹ŸåŠ å…¥äº†æ™®éæ€§å…ƒç´ ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è°ƒæŸ¥å®ƒå¯¹å­¤ç‹¬çš„æ„ä¹‰ã€‚ä»…ä»…æœ‰ä¸ªæ´»ç‰©å­˜åœ¨å°±å¤Ÿäº†å—ï¼Ÿè¿˜æ˜¯éœ€è¦æœ‰äº’åŠ¨ï¼Ÿå¾ˆå¤šæ—¶å€™ï¼Œåº”ç”¨ç ”ç©¶çš„ç»“æœä¼šäº§ç”Ÿæ–°çš„è§è§£ï¼Œè¿™äº›è§è§£ä¼šå’Œä»‹å…¥æˆ–æ²»ç–—ç›¸å…³ï¼Œä½†å®ƒä»¬ä¹Ÿä¼šæä¾›åŸºç¡€çš„çŸ¥è¯†ã€‚</p><p>å› æ­¤ï¼Œä¸¤ç§ç ”ç©¶ç±»å‹ä¼šäº’ç›¸å¢å¼ºã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;è®¤è¯†è®º-Epistemology&quot;&gt;&lt;a href=&quot;#è®¤è¯†è®º-Epistemology&quot; class=&quot;headerlink&quot; title=&quot;è®¤è¯†è®º (Epistemology)&quot;&gt;&lt;/a&gt;è®¤è¯†è®º (Epistemology)&lt;/h1&gt;&lt;p&gt;åœ¨æŠŠå‡è¯´ - æ¼”ç»æ³•
      
    
    </summary>
    
    
      <category term="social-science" scheme="https://theinfinitegame.tech/categories/social-science/"/>
    
    
      <category term="è®¡é‡æ–¹æ³•" scheme="https://theinfinitegame.tech/tags/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"/>
    
      <category term="ç¤¾ä¼šç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E7%A4%BE%E4%BC%9A%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>iOS ç¬”è®° | åœ°å›¾ API</title>
    <link href="https://theinfinitegame.tech/development/note-ios-map-api/"/>
    <id>https://theinfinitegame.tech/development/note-ios-map-api/</id>
    <published>2020-02-26T05:22:08.000Z</published>
    <updated>2020-02-26T12:27:09.948Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CLLocationManager-CLLocationManagerDelegate"><a href="#CLLocationManager-CLLocationManagerDelegate" class="headerlink" title="CLLocationManager, CLLocationManagerDelegate"></a>CLLocationManager, CLLocationManagerDelegate</h1><p>ç›‘æ§ç›®æ ‡åŒºåŸŸï¼Œè¿›å…¥ã€ç¦»å¼€ï¼ŒBeacon ç›¸å…³</p><h2 id="MKMapView-MKCoordinateRegion-MKMapItem"><a href="#MKMapView-MKCoordinateRegion-MKMapItem" class="headerlink" title="MKMapView, MKCoordinateRegion, MKMapItem,"></a>MKMapView, MKCoordinateRegion, MKMapItem,</h2><ul><li>åæ ‡ CLLocationCoordinate2D ï¼ˆCoreLocationï¼‰</li><li>MKMapItem</li><li>ç½—ç›˜æŒ‰é’® MKCompassButton</li></ul><ul><li>ç”¨ Array:compactMap è·å–ä¸€ä¸ªå¯é€‰å‹é›†åˆåˆ°éå¯é€‰å‹ä¸”ä¸åŒ…å« nil çš„æ˜ å°„é›†åˆã€‚</li></ul><h2 id="KVO-Compliant-KVO-å…¼å®¹"><a href="#KVO-Compliant-KVO-å…¼å®¹" class="headerlink" title="KVO Compliant (KVO å…¼å®¹)"></a>KVO Compliant (KVO å…¼å®¹)</h2><p>KVO is key-value observing.</p><h2 id="MKLocalSearch-æŸ¥æ‰¾é™„è¿‘ï¼ŒMKLocalSearchCompleter"><a href="#MKLocalSearch-æŸ¥æ‰¾é™„è¿‘ï¼ŒMKLocalSearchCompleter" class="headerlink" title="MKLocalSearch æŸ¥æ‰¾é™„è¿‘ï¼ŒMKLocalSearchCompleter"></a>MKLocalSearch æŸ¥æ‰¾é™„è¿‘ï¼ŒMKLocalSearchCompleter</h2><h2 id="UISearchResultsUpdating"><a href="#UISearchResultsUpdating" class="headerlink" title="UISearchResultsUpdating"></a>UISearchResultsUpdating</h2><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updateSearchResults (<span class="keyword">for</span> searchController: <span class="type">UISearchController</span>)</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CLLocationManager-CLLocationManagerDelegate&quot;&gt;&lt;a href=&quot;#CLLocationManager-CLLocationManagerDelegate&quot; class=&quot;headerlink&quot; title=&quot;CLLoca
      
    
    </summary>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/categories/development/"/>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/tags/development/"/>
    
      <category term="iOS" scheme="https://theinfinitegame.tech/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>watchOS å­¦ä¹ ç¬”è®° | æœ€å°å¯è¡Œ Complication</title>
    <link href="https://theinfinitegame.tech/development/note-watchos-minimum-viable-complication/"/>
    <id>https://theinfinitegame.tech/development/note-watchos-minimum-viable-complication/</id>
    <published>2020-02-20T06:43:35.000Z</published>
    <updated>2020-04-05T02:04:12.072Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¦åšä¸€ä¸ª watch appï¼Œé€»è¾‘ä¸Šï¼Œä½ ä¼šå…ˆæƒ³åˆ°ä»ä¸» UI å¼€å§‹ã€‚æ¯•ç«Ÿï¼Œnotfication å’Œ complication æ˜¯å¯é€‰çš„ã€‚äººä»¬è¯´åˆ° app ï¼Œé€šå¸¸æŒ‡çš„å°±æ˜¯ä¸» UI ã€‚</p></blockquote><blockquote><p>ä½†æ˜¯ï¼Œå¦‚æœè¦åšä¸€ä¸ªåœ¨è¡¨ç›˜ç”¨äºæµè§ˆç©ºæ°”è´¨é‡æŒ‡æ•°çš„ watch app ï¼Œä½ ä¼šå…ˆæƒ³åˆ° complication ã€‚ watchOS è®¾è®¡çš„ä¸‰å¤§å‡†åˆ™ä¹‹ä¸€æ˜¯ <strong>glanceable</strong> ï¼Œæ„å‘³ç€ç”¨æˆ·èƒ½åœ¨æ‰«ä¸€çœ¼æ‰‹è¡¨ï¼Œä»¥å°½å¿«çš„æ–¹å¼çœ‹åˆ°æƒ³è¦çš„ä¿¡æ¯ï¼Œç†æƒ³çš„æ—¶é—´æœ€å¤šå‡ ç§’é’Ÿã€‚ complication å¯ä»¥è®©çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œæ¯”ä» app å¯åŠ¨æ è®¿é—®ä¸» UI å¿«å¾—å¤šã€‚</p></blockquote><blockquote><p>ä¸åŒäº iOS ï¼ŒwatchOS çš„åº”ç”¨å¹¶ä¸è¦æ±‚ä¸» UI ä¸€å®šå¾—æ˜¯æœ€å¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ â€”â€” å¦‚æœç”¨ä¾‹ä½¿å¾—é€šçŸ¥å’Œ complication æ›´åˆç†çš„è¯ã€‚ä¸» UI å¯ä»¥å……å½“ç”¨æˆ·æƒ³è¦æŸ¥çœ‹æ›´å…·ä½“ä¿¡æ¯æˆ–è€…ç‰¹å®šçš„åŠ¨ä½œæ—¶çš„ â€œå›é€€â€ æ–¹æ¡ˆã€‚</p></blockquote><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸è·³è¿‡ view controller ï¼Œç›´æ¥å°è¯•æ„å»ºä¸€ä¸ª complication å‘¢ï¼Ÿ</p><p>ä»¥ä¸‹æ˜¯ Kuba æ„å»ºçš„ä¸€ä¸ªç®€å•çš„ MVP ç‰ˆæœ¬çš„ watch app ï¼Œåªæœ‰ä¸€ä¸ª complication (æ”¯æŒ 1~2 ç§å˜ä½“)ã€‚è¿™ä¸ª app æ²¡æœ‰ UI ï¼Œä¸»è¯•å›¾åªæœ‰ä¸€ä¸ªé»‘ç›’å­ï¼Œä¸€è¡Œ WKInterface* å¯¹è±¡ç›¸å…³çš„ä»£ç éƒ½æ²¡æœ‰ã€‚</p><p>è¿™ä¸ªæ²¡æœ‰ UI çš„ watch app çš„ç”¨é€”æ˜¯è·å–ç©ºæ°”è´¨é‡çš„ä¿¡æ¯ï¼ˆPM10ï¼ŒPM2.5ï¼Œ$ NO_2 $ ç­‰)ï¼Œæ¯ä¸ªå°æ—¶æ›´æ–°ä¸€æ¬¡ï¼Œä½†è¶³å¤Ÿç”¨äº†ã€‚</p><img src="/images/minimum-complication-watch-app.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ä¸‹é¢å…ˆäº†è§£ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚</p><hr><h1 id="Complication-æ—¶é—´çº¿"><a href="#Complication-æ—¶é—´çº¿" class="headerlink" title="Complication æ—¶é—´çº¿"></a>Complication æ—¶é—´çº¿</h1><p>ç®¡ç† complications çš„ API å•ç‹¬ä» WatchKit åˆ†ç¦»å‡ºæ¥ï¼Œä½äº ClockKit ä¸­ï¼Œä»¥ <code>CLK</code> å‰ç¼€æ ‡è¯†ã€‚</p><p>æœ‰ä¸€äº› complication åœ¨ä½ æŠ¬è…•æ—¶å°±æ˜¯å¯è§çš„ã€‚å½“æ‰‹è¡¨çš„å±å¹•äº®èµ·ï¼Œä½ å¸Œæœ›ç«‹å³çœ‹åˆ°æ¸²æŸ“çš„ complication widget ï¼Œå®ƒæ˜¾ç¤ºçš„æ•°æ®å½“ä¸‹å°±å¿…é¡»æ˜¯æœ€æ–°çš„ â€”â€” ç”¨æˆ·å¾ˆå¯èƒ½åªçœ‹äº†å®ƒä¸€ç§’é’Ÿä¸åˆ°ï¼Œå› æ­¤æ²¡æœ‰æ—¶é—´åœ¨è¿™ä¸ªæ—¶å€™å¯åŠ¨ç½‘ç»œè¯·æ±‚ã€‚</p><p>Apple ä¹Ÿä¸å¯èƒ½é‡‡ç”¨ 7 å¤© 24 å°æ—¶çš„æ–¹å¼è®©åº”ç”¨åœ¨åå°è¿è¡Œæ‰©å±• â€”â€” ç”µæ± æ’‘ä¸ä½ã€‚</p><p>æ‰€ä»¥å·¥ä½œæ–¹å¼å®é™…ä¸Šæ˜¯è¿™æ ·çš„ï¼šä½ çš„åº”ç”¨æŒ‡å®šä¸€ä¸ª <strong>complication data source</strong>  (<code>CLKComplicationDataSource</code>) ï¼Œç„¶åæ¯å½“å®ƒæ¥æ”¶åˆ°æ–°çš„æ•°æ®æ—¶ (æ— è®ºè¿è¡Œåœ¨å‰å°æˆ–è€…åå°)ï¼Œå®ƒå‘Šè¯‰ <strong>complication server</strong> (<code>CLKComplicationServer</code>) é€šè¿‡æ•°æ®æºåˆ·æ–°æ•°æ®ã€‚æ•°æ®æºè¿”å›ä¸€ä¸ª <strong>timeline</strong> æ•°æ® (ä¸€ä¸ª <code>CLKComplicationTimelineEntry</code> çš„å¯¹è±¡) â€”â€” timeline å‘Šè¯‰ watchOS complication åœ¨ç»™å®šæ—¶é—´ç‚¹åˆ°ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹ä¹‹å‰åº”è¯¥æ˜¾ç¤ºä»€ä¹ˆæ•°å­—ã€æ–‡æœ¬ã€å›¾æ ‡æˆ–è€…å®ƒä»¬çš„ç»„åˆã€‚ç³»ç»Ÿç¼“å­˜è¿™ä»½æ•°æ®ã€‚å¹¶ä¸”åœ¨æ­£ç¡®çš„æ—¶é—´ç‚¹è‡ªåŠ¨æ›´æ–°æ˜¾ç¤ºçš„å†…å®¹ â€”â€” ä½ çš„ app åªæœ‰åœ¨éœ€è¦è¿”å› timeline æ—¶æ‰ä¼šè¢«å”¤èµ·ï¼Œä½†å®é™…ä¸Šä¹Ÿå¯ä»¥åšåˆ°ä¸éœ€è¦å”¤èµ·ã€‚ä½ å¯ä»¥é¢„å…ˆå‡†å¤‡ä¸€æ•´å¤©çš„å†…å®¹ï¼Œåªè¦ä½ çš„æ•°æ®è¶³å¤Ÿæå‰ã€‚</p><p>ä¸‹å›¾æ˜¯ä¸€ä¸ªç»å…¸çš„å¤©æ°” app çš„ä¾‹å­ï¼Œç‚¹æ ‡è®° timeline å®ä½“ï¼Œä¸Šé¢çš„çº¿æ˜¾ç¤ºæ¯ä¸ªå®ä½“è¢«å±•ç¤ºçš„æ—¶é•¿ã€‚</p><img src="/images/timeline1.png" width="68%" height="68%" style="margin: 10 auto;"><p>è€Œè¿™ä¸ªæ˜¯æ—¥å† app çš„ complication ï¼š</p><img src="/images/timeline2.png" width="68%" height="68%" style="margin: 10 auto;"><p>å–å†³äº app ç±»å‹ï¼Œä½ éœ€è¦çš„æ•°æ®å¯èƒ½æ˜¯æœªæ¥çš„ï¼Œè¿‡å»çš„ï¼Œä¸¤è€…éƒ½æœ‰ï¼Œæˆ–è€…åªéœ€è¦å½“å‰çŠ¶æ€ã€‚</p><p>åœ¨ Kuba çš„æ¡ˆä¾‹ä¸­ï¼Œä»–ç”¨çš„æ˜¯è¿‡å»çš„æ•°æ® â€”â€” å› ä¸º PM10 è¿™ç§æ•°æ®ä¸å¯èƒ½ç²¾ç¡®é¢„æµ‹ï¼Œå®ƒå—åˆ°å¾ˆå¤šå› ç´ å½±å“ï¼ŒæŸäº›æ˜¯äººä¸ºçš„ (æ¯”å¦‚çƒ§ç…¤å–æš–è¿™ç±»æ—¥å¸¸æ´»åŠ¨)</p><h1 id="Time-Travel"><a href="#Time-Travel" class="headerlink" title="Time Travel"></a>Time Travel</h1><p>Timeline çš„è®¾è®¡è¿˜ç”¨åˆ° watchOS çš„å¦å¤–ä¸€ä¸ªç‰¹æ€§ï¼Œå«åš <strong>â€œTime Travelâ€</strong> ï¼Œå®ƒä½¿å¾—ä½ å¯ä»¥åœ¨è¡¨ç›˜ä¸Šå‘å‰æˆ–è€…å‘åæ»šåŠ¨æ—¶é—´ï¼Œå¹¶æ›´æ–° complication â€”â€” è¿™ä½¿å¾—ä½ å¯ä»¥çœ‹åˆ°è¯¸å¦‚ä¸€åœºæ¯”èµ›ä¸­æ¯”åˆ†å˜åŒ–çš„è¿‡ç¨‹ï¼Œæˆ–è€…ä¸€åªè‚¡ç¥¨åœ¨ä¸€å¤©ä¸­è‚¡ä»·å˜åŒ–çš„è¿‡ç¨‹ã€‚</p><p>watchOS 5 ä¸­è¿™ä¸ªç‰¹æ€§è¢«å®Œå…¨ç§»é™¤äº†ï¼Œè¿™æ„å‘³ç€ç°åœ¨æ²¡åŠæ³•çœ‹è¿‡å»æ—¶é—´ç‚¹çš„æ•°æ®äº†ã€‚æ‰€ä»¥åœ¨å®è·µä¸­ï¼Œå®ç°å¤„ç†è¿‡å»æ•°æ®è¿™éƒ¨åˆ†çš„ complication API æ²¡æœ‰æ„ä¹‰ã€‚</p><p>æœªæ¥çš„æ•°æ®ä»ç„¶æœ‰ä»·å€¼ â€”â€” è™½ç„¶æ²¡æœ‰åŠæ³•ç›´æ¥æ»šåŠ¨æ“ä½œäº†ï¼Œä½†æ˜¯ time travel è¿˜å¯ä»¥å·¥ä½œï¼Œåªä¸è¿‡æ˜¯å•æ–¹å‘å›ºå®šèŠ‚å¥äº†ã€‚</p><p>æœ‰è¶£çš„æ˜¯ï¼Œè¿™éƒ¨åˆ†æ— ç”¨çš„ API å°šæœªè¢«åºŸå¼ƒï¼Œè¿™æ„å‘³ç€æœªæ¥æœ‰å›å½’çš„å¯èƒ½ã€‚</p><h1 id="Comlication-å®¶æ—"><a href="#Comlication-å®¶æ—" class="headerlink" title="Comlication å®¶æ—"></a>Comlication å®¶æ—</h1><p>åœ¨ watchOS 5 ä¸­ä½ å¯ä»¥é€‰æ‹©å¤šè¾¾ 26 ç§æ ·å¼çš„è¡¨ç›˜ã€‚ä¸åŒçš„è¡¨ç›˜å¯ä»¥é€‚åº”ä¸åŒæ•°é‡å’Œå½¢çŠ¶çš„ complications ã€‚è¿™äº›å½¢çŠ¶æˆ–è€… complication ç©ºé—´çš„å˜ä½“è¢«ç§°ä¸º <strong>complication famlilies</strong> ï¼Œç›®å‰æœ‰ 10-11 ç§ families å¯ç”¨ï¼š</p><ul><li>Modular Small, ç”¨äºæ‰€æœ‰çš„ç»å…¸æ¨¡å—åŒ–è¡¨ç›˜ï¼Œä¹Ÿå¯ç”¨äº Siri è¡¨ç›˜çš„è§’è½</li><li>Modular Large, åªèƒ½ç”¨åœ¨æ¨¡å—åŒ–è¡¨ç›˜ä¸­é—´å”¯ä¸€çš„ä½ç½®</li><li>Circular Small, ç”¨äºä¸€äº›ä¸åŒçš„è¡¨ç›˜ (e.g. Activity)</li><li>Utilitarian Small (æœ‰ â€œflatâ€ å˜ä½“) å’Œ Utilitarian Large, ç”¨äºå æ®è¡¨ç›˜ä¸€åŠä»¥ä¸Šç©ºé—´ï¼Œå±•ç¤ºä¸€æ¡æ°´å¹³çš„å†…å®¹ (å®ƒæœ‰ä¸€ä¸ªæ¨¡å¼ï¼Œå®¹æ˜“è·Ÿ Circular Small æ··æ·†)</li><li>Extra Large, åªç”¨åœ¨ X-Large è¡¨ç›˜ä¸Š</li><li>Graphic Corner, Graphic Circular, Graphic Bezel å’Œ Graphic Rectangular, åªç”¨åœ¨ Apple Watch 4 ç³»åˆ—çš„ Infograph è¡¨ç›˜</li></ul><p>ä½ å¯ä»¥æ”¯æŒå…¶ä¸­ä»»æ„å¤šä½ æƒ³è¦çš„å®¶æ—å­é›†ï¼Œå½“ç„¶ï¼Œç†æƒ³æƒ…å†µä¸‹ä¸€ä¸ªå¥½çš„ app æ˜¯æ”¯æŒæ‰€æœ‰è¿™äº›å®¶æ—ï¼Œå› ä¸ºä¸åŒçš„äººåå¥½ä¸åŒçš„è¡¨ç›˜ã€‚</p><p>é¡¹ç›®ä¸­ä¸ºäº†è®©äº‹æƒ…ç®€å•ä¸€äº›ï¼Œæˆ‘ä»¬åªæ·»åŠ äº†å¯¹ Modular Small å’Œ Circular Small çš„æ”¯æŒï¼ˆè¦†ç›–äº† 11 ä¸­è¡¨ç›˜ï¼Œå¦‚æœæ²¡ç®—é”™çš„è¯ï¼‰ã€‚</p><h1 id="å†…å®¹æ¨¡æ¿"><a href="#å†…å®¹æ¨¡æ¿" class="headerlink" title="å†…å®¹æ¨¡æ¿"></a>å†…å®¹æ¨¡æ¿</h1><p>ç”±äºèµ„æºçš„é™åˆ¶ï¼Œä½ æ— æ³•åœ¨ complication ç©ºé—´éšæ„ç»˜åˆ¶ä¸œè¥¿ï¼Œä½ åªèƒ½ä½¿ç”¨é¢„å®šä¹‰çš„æ¨¡æ¿ã€‚æ¨¡æ¿é™å®šäº†å®ƒä»¬å¯ä»¥åŒ…å«çš„å†…å®¹ç±»å‹å’Œæ’å¸ƒæ–¹å¼ã€‚ä½ å”¯ä¸€çš„é€‰æ‹©æ˜¯é€‰æ‹©ä¸€ç§æ¨¡å—ï¼Œé€‚é…ç»™å®šçš„ç©ºé—´ï¼Œæ”¾å…¥æ–‡æœ¬ï¼Œå›¾æ ‡æˆ–è€…å€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œ Circular Small å®¶æ—æœ‰ 6 ç§å¯ç”¨çš„æ¨¡å—ï¼š</p><p>.ringImage, ä¸­é—´ä¸€ä¸ªå›¾æ ‡ï¼Œç„¶åä¸€ä¸ªå›´ç»•å®ƒçš„ç¯ï¼Œå…¶ä»–ç¯çš„å“ªäº›éƒ¨åˆ†è¢«å¡«å……å¯ä»¥ç”±ä½ æŒ‡å®š<br>.ringText, ä¸­é—´æ˜¯æ–‡æœ¬ï¼Œç„¶åä¸€ä¸ªå›´ç»•å®ƒçš„ç¯ (å®é™…ä¸­ï¼Œæ–‡æœ¬é€šå¸¸æ˜¯ 1 åˆ° 3 ä½æ•°å­—)<br>.simpleImage, å°±æ˜¯ä¸ªç®€å•çš„å›¾æ ‡<br>.simpleText, å°±æ˜¯ä¸ªæ ‡ç­¾<br>.stackImage, ä¸Šé¢ä¸€ä¸ªå°å›¾æ ‡ï¼Œä¸‹é¢æ˜¯çŸ­çš„æ ‡ç­¾<br>.stackText, ä¸¤è¡ŒçŸ­æ–‡æœ¬</p><p>å¤§éƒ¨åˆ†æ¨¡å—éƒ½åªæœ‰æå…¶æœ‰é™çš„ç©ºé—´ç”¨äºå±•ç¤ºå†…å®¹ï¼Œæœ‰çš„æ—¶å€™ä½ éœ€è¦ç»å°½è„‘æ±æƒ³å¦‚ä½•åˆ©ç”¨ç»™å®šçš„ç©ºé—´ã€‚å¦‚æœå®åœ¨æƒ³ä¸å‡ºæ¥ï¼Œé‚£ä¹ˆæ”¾å¼ƒå¯¹ç‰¹å®š complication å®¶æ—çš„æ”¯æŒä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>ä½ çš„ app ä¼šä¸€äº›ä¸åŒçš„çŠ¶æ€ â€”â€” ä¾‹å¦‚ï¼Œæœ‰æˆ–è€…æ²¡æœ‰æ•°æ®ï¼Œç©ºæˆ–è€…éç©ºæ•°æ®åˆ—è¡¨ï¼Œæœ‰æˆ–è€…æ²¡æœ‰è¿›è¡Œä¸­çš„æ´»åŠ¨ç­‰ç­‰ã€‚æ‰€ä»¥æ ¹æ®çŠ¶æ€æ¥é€‰ç”¨ä¸åŒçš„æ¨¡å—æ˜¯å¯ä»¥çš„ï¼ˆæ¯”å¦‚ï¼ŒæŸäº›çŠ¶æ€ç”¨æ•°å­—ï¼ŒæŸäº›çŠ¶æ€ç”¨å›¾æ ‡ï¼‰ã€‚æ¯å½“ä½ æ„å»º timeline æ—¶ï¼Œä½ å¯ä»¥åˆ›å»ºå…¨æ–°çš„æ¨¡æ¿å¯¹è±¡å¹¶ä¸”ç”¨å®ƒä»¬å¡«å……å†…å®¹ï¼Œæ‰€ä»¥åªè¦ä½ å¼€å¿ƒï¼Œç”šè‡³å¯ä»¥æ¯æ¬¡é‡‡ç”¨éšæœºæ¨¡æ¿ã€‚</p><h1 id="æ–‡æœ¬å’Œå›¾åƒ-providers"><a href="#æ–‡æœ¬å’Œå›¾åƒ-providers" class="headerlink" title="æ–‡æœ¬å’Œå›¾åƒ providers"></a>æ–‡æœ¬å’Œå›¾åƒ providers</h1><p>ä¸ºäº†æ¸²æŸ“ä¸åŒç±»å‹å†…å®¹çš„çµæ´»æ€§ï¼Œ timeline æ•°æ®å¹¶éç®€å•åœ°ä»¥ <code>String</code> æˆ–è€… <code>UIImage</code> å¯¹è±¡çš„å½¢å¼è¿”å›ï¼Œè€Œæ˜¯å€ŸåŠ©æŸç§å¯ç”¨çš„ <strong>provide</strong> å¯¹è±¡å°è£…ã€‚è¿™äº› provider ä½¿å¾—ä½ çš„å†…å®¹å¯ä»¥æ›´åŠ åŠ¨æ€ï¼Œæ ¹æ®æ—¶é—´å’Œä¸Šä¸‹æ–‡å˜åŒ–ã€‚</p><p>å¯¹äºæ–‡æœ¬ï¼Œæœ€ç®€å•çš„é€‰é¡¹æ˜¯ <code>CLKSimpleTextProvider</code> ï¼Œä½ å¯ä»¥æŒ‡å®šå•ä¸€çš„å­—ç¬¦ä¸²ä»¥åŠä¸€ä¸ªå¯é€‰çš„ç®€çŸ­ç‰ˆæœ¬ï¼Œå¦‚æœç©ºé—´æ— æ³•å®¹çº³å®Œæ•´å­—ç¬¦ä¸²ï¼Œåˆ™é€‰å–ç®€çŸ­ç‰ˆæœ¬ã€‚</p><p>ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œæœ‰å‡ ç§æ—¶é—´ç›¸å…³å†…å®¹çš„ provider å¯ä¾›é€‰æ‹©ï¼š</p><ul><li><code>CLKDateTextProvider</code> è¾“å‡ºæ—¥æœŸ (æ—¥ / æœˆ)</li><li><code>CLKTimeTextProvider</code> è¾“å‡ºç‰¹å®šæ—¶é—´ (å°æ—¶ / åˆ†é’Ÿ)</li><li><code>CLKTimeIntervalTextProvider</code> è¾“å‡ºæ—¶é—´èŒƒå›´ (from-to)</li><li><code>CLKRelativeDateTextProvider</code> è¾“å‡ºè‡ªæŸä¸ªæ—¶é—´å¼€å§‹æˆ–è€…åˆ°æŸä¸ªæ—¶é—´ç»“æŸ (ä¾‹å¦‚ â€œ2 å°æ—¶åâ€)</li></ul><p>ä¸Šé¢æœ€åä¸€ç§ä¼šéšç€æ—¶é—´çš„æµé€è‡ªåŠ¨æ›´æ–°ï¼Œä½ åªéœ€è¦é…ç½®ä¸€æ¬¡ç›®æ ‡æ—¶é—´æˆ³ï¼Œè€Œä¸ç”¨æ¯å°æ—¶æˆ–è€…æ›´é¢‘ç¹åœ°æ‰‹åŠ¨æ›´æ–°ï¼Œä¾‹å¦‚ â€œ5 å°æ—¶åâ€ï¼Œâ€œ4 å°æ—¶åâ€ ç­‰ç­‰ã€‚</p><p>å¯¹äºå›¾åƒï¼Œä½ é€šå¸¸ç”¨ <code>CLKImageProvider</code> ã€‚å®ƒè®©ä½ æŒ‡å®šä¸€ä¸ªæ¨¡æ¿å›¾åƒï¼ˆè¢«æ¸²æŸ“ä¸ºå•è‰²ï¼‰å’Œä¸€ä¸ªé¢œè‰²ã€‚å¤šå°‘æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé¢œè‰²ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸ºå¤§éƒ¨åˆ†è¡¨ç›˜éƒ½æ˜¯ä»¥ç”¨æˆ·é€‰å®šçš„å•ä¸€é¢œè‰²æ¸²æŸ“æ‰€æœ‰çš„ complications ã€‚æœ‰ä¸€ä¸ªå« <code>CLKFullColorImageProvider</code> çš„æ¨¡å—å¯ä»¥ä»¥å…¨å½©çš„æ–¹å¼æ¸²æŸ“å›¾åƒï¼Œä½†åªåœ¨æ–°çš„ Infograph è¡¨ç›˜æ‰ç”¨åˆ°ã€‚</p><p>æ¨¡æ‹Ÿ Infograph è¡¨ç›˜ä¸Šçš„ complications è¿˜ç”¨åˆ°ä¸€äº› <code>CLKGaugeProvider</code> â€”â€” å®ƒä»¬æ˜¯ç”¨äºé…ç½®æ–°è¡¨ç›˜è§’è½é‡Œçš„å½©è‰²å¼§çº¿ã€‚</p><hr><p>å‡ºå‘ï¼</p><p>é¦–å…ˆï¼Œåˆ›å»ºå·¥ç¨‹ï¼Œä½¿ç”¨æ¨¡æ¿ â€œwatchOS &gt; iOS App with WatchKit Appâ€ ï¼Œç¡®ä¿ â€œInclude Complicationâ€ checkbox å‹¾é€‰ã€‚</p><p>å·¥ç¨‹å°†åŒ…å« 3 ä¸ª targetsï¼š</p><ul><li>SmogWatch, å®ƒæ˜¯ iOS app (è¿™ä¸ªæ¡ˆä¾‹é‡Œæˆ‘ä»¬åŸºæœ¬ä¸ç¢°è¿™éƒ¨åˆ†)</li><li>SmogWatch WatchKit App, UI éƒ¨åˆ†ï¼ŒåªåŒ…å«äº† storyboard, (åŒ…æ‹¬ä¸» UI å’Œå¯èƒ½çš„ notification åœºæ™¯) ä»¥åŠ asset catalog ã€‚</li><li>SmogWatch WatchKit Extension, åŒ…å«æ‰€æœ‰çš„ WatchKit ä»£ç </li></ul><p>åœ¨å¯¼èˆªæ ä¸­é€‰æ‹© â€œSmogWatch WatchKit Appâ€ ç›®æ ‡è¿è¡Œã€‚</p><img src="/images/sim-new-app.jpg" width="68%" height="68%" style="margin: 10 auto;"><h1 id="è®¾è®¡æ¨¡æ¿"><a href="#è®¾è®¡æ¨¡æ¿" class="headerlink" title="è®¾è®¡æ¨¡æ¿"></a>è®¾è®¡æ¨¡æ¿</h1><p>å¦‚ä¸Šæ–‡æ‰€æï¼Œä¸ºäº†è®©äº‹æƒ…æ›´ç®€å•ï¼Œæˆ‘ä»¬åªæ˜¯å®ç° Modular Small å’Œ Circular Small complication å®¶æ—ã€‚ä¸è¿‡é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ complication å®¶æ—éƒ½æ˜¯å¯ç”¨çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦ç¦ç”¨æ‰å…¶ä»–çš„ã€‚</p><p>æ‰“å¼€ â€œSmogWatch WatchKit Extensionâ€ target çš„é…ç½®é¡µï¼Œåœ¨ â€œGeneralâ€ tab ä½ ä¼šçœ‹è§ä¸€ä¸ªå¯ä»¥è§¦å‘ complication å®¶æ—çš„åˆ—è¡¨ï¼š</p><img src="/images/enabled-complications.png" width="68%" height="68%" style="margin: 10 auto;"><p>æ¥ä¸‹æ¥ï¼Œè¦ç¡®å®šæ¯ä¸ª complication å®¶æ—è¦é‡‡ç”¨ä»€ä¹ˆæ¨¡æ¿ã€‚åœ¨ <a href="https://developer.apple.com/documentation/clockkit" target="_blank" rel="noopener">CloudKit æ–‡æ¡£</a> ä¸­ï¼Œæ‰¾åˆ° Modular Small å®¶æ—ã€‚åœ¨å®ƒçš„é¡µé¢ä¸Šï¼Œä½ ä¼šçœ‹åˆ° 7 ç§å¯ç”¨çš„æ¨¡æ¿ç±»ä»¥åŠå®ƒä»¬çš„æ•ˆæœæˆªå±ã€‚</p><p>åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¾ç¤ºå°æ•°å­—ï¼Œæ‰€ä»¥ä¸‹é¢å‡ ç§é€‰é¡¹å¯èƒ½æ˜¯åˆç†çš„ï¼š</p><ul><li>æ˜¾ç¤ºæ•°å­—ï¼Œä¾‹å¦‚ â€œ75â€ - å¯è¯»æ€§æ²¡é—®é¢˜ï¼Œä½†æ˜¯ç¬¬ä¸€çœ¼çœ‹æ•°å­—ä»£è¡¨ä»€ä¹ˆä¸æ˜æ˜¾</li><li>ä»¥ä¸€ä¸ªåœ†æ¥æ˜¾ç¤ºæ•°å­— - å¼§åº”è¯¥æ€ä¹ˆç®—ï¼Œæ²¡æœ‰ä¸Šé™æ€ä¹ˆåŠï¼Ÿ</li><li>ä»¥ä¸Šé¢æ˜¯å›¾æ ‡ï¼Œä¸‹é¢æ˜¯æ•°å­—çš„æ–¹å¼æ˜¾ç¤º</li><li>ä»¥ä¸¤è¡Œæ–‡æœ¬æ˜¾ç¤º</li></ul><p>æœ€åï¼Œæˆ‘é€‰æ‹©äº†åƒä¸‹é¢è¿™æ ·çš„æ ·å¼ï¼š</p><img src="/images/modular-small.png" width="10%" height="10%" style="margin: 10 auto;"><p>è¿™ä¸ªæ–¹æ¡ˆè§£å†³äº†å±•ç¤º app æ˜¯ä»€ä¹ˆçš„ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒè§£é‡Šä¸åŒç±»å‹å‚æ•°çš„é—®é¢˜ï¼Œç¼ºé™·æ˜¯ä½¿å¾—å­—ä½“æ›´å°äº†ï¼Œå°¤å…¶æ˜¯ 3 ä¸ªæ•°å­—çš„æƒ…å†µã€‚å°½ç®¡ä»ç„¶å¯è¯»ï¼Œä½†æ˜¯ Circular Small ç‰ˆæœ¬è‚¯å®šæ•ˆæœä¸å¥½ã€‚å› æ­¤ï¼Œå¯¹äº Circular Small ï¼Œé€‰é¡¹ç›¸ä¼¼ï¼Œä¹Ÿé€‰æ‹©äº†ä¸¤è¡Œæ–‡æœ¬çš„ç‰ˆæœ¬ã€‚</p><img src="/images/circular-small.png" width="7%" height="7%" style="margin: 10 auto;"><p>ä¸Šé¢è¿™ä¸ªå¯è¯»æ€§å·®å¾ˆå¤šï¼Œä½†æ˜¯ Circular Small æ˜¯éå¸¸é€šç”¨çš„ complication å®¶æ—ï¼Œå› æ­¤åŸºæœ¬ä¸Šå¯¹æ‰€æœ‰ä½¿ç”¨è€…éƒ½æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚Apple è‡ªå·±çš„ complications ï¼Œæ¯”å¦‚ä¸–ç•Œæ—¶é’Ÿï¼Œæ—¥å‡ºã€æ—¥è½ï¼Œçœ‹èµ·æ¥ä¹Ÿæ²¡æœ‰å¥½å¤šå°‘ã€‚æˆ‘ä»¬è¿™é‡Œå¯ä»¥æ”¾å¼ƒ â€œPMâ€ ï¼Œä½†è¿™æ ·ä¸€æ¥åˆæä¸æ¸… app æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Œæ‰€ä»¥æŠ˜ä¸­ï¼ŒæŠŠ â€œPM10â€ ç¼©çŸ­ä¸º â€œPMâ€ ã€‚æœ‰å¯èƒ½ä¸Šé¢ç”¨å›¾æ ‡æ•ˆæœä¼šæ›´å¥½ï¼Œè¯»è€…å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p><hr><h1 id="å®ç°-Complication-æ•°æ®æº"><a href="#å®ç°-Complication-æ•°æ®æº" class="headerlink" title="å®ç° Complication æ•°æ®æº"></a>å®ç° Complication æ•°æ®æº</h1><p>ç°åœ¨ï¼Œæ‰“å¼€æ ·æ¿ä»£ç  <code>ComplicationController</code> ç±»ï¼Œè¿™é‡Œå·²ç»æ•°æ®æºåè®®æ‰€æœ‰è¦æ±‚çš„æ–¹æ³•äº†ï¼Œä¸€äº›æ˜¯ç©ºå®ç°ï¼Œä½†å…¶ä¸­å¤§å¤šæ•°æˆ‘ä»¬å¹¶ä¸éœ€è¦ã€‚</p><p>æ³¨æ„ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯é€šè¿‡ä¸€ä¸ª handler callback è¿”å›æ•°æ®çš„ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥é€šè¿‡æŸäº›å¼‚æ­¥çš„æ–¹å¼åŠ è½½è¦æ±‚çš„æ•°æ® â€”â€” ç†è®ºä¸Šï¼Œä½ æ˜¯å¯ä»¥æŒ‰éœ€åœ¨ç”¨åˆ°æ—¶å†åŠ è½½è¿™äº›æ•°æ®ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬ç»ä¸åº”è¯¥è¿™ä¹ˆåšã€‚ </p><p>æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¼ å…¥ä¸€ä¸ª CLKComplication å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå®ƒè®©ä½ çŸ¥é“ç³»ç»Ÿç°åœ¨æ­£ä¸ºå“ªä¸€ç§ complication å‘ä½ è¯¢é—®æ•°æ®ï¼Œè¿™ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªå­—æ®µå« family ï¼Œè¿™æ„å‘³ç€åœ¨ä¸€ä¸ª Modular è¡¨ç›˜ä¸Šï¼Œä½ æ— æ³•åŒºåˆ†åŒæ—çš„ä¸¤ä¸ª complication å®ä¾‹ï¼Œä½†æ˜¯ä¸åŒæ—çš„å¯ä»¥ã€‚</p><p>å› æ­¤ï¼Œè¿™ä¸ªä¿¡æ¯ç»å¯¹æ˜¯å¿…é¡»çš„ â€”â€” ä¸ä»…å› ä¸ºä¸åŒå®¶æ—å¤–è§‚çœ‹èµ·æ¥ä¸ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸ºäº†è®©ç¼–è¯‘å™¨åŒ¹é…ä½ è¿”å›çš„æ¨¡æ¿ç±»å‹ã€‚</p><p><code>CLKComplicationDataSource</code> åè®®é‡Œåªæœ‰ <code>getSupportedTimeTravelDirections</code> å’Œ <code>getCurrentTimelineEntry</code> ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…é¡»å¾—å®ç°çš„ï¼Œä½†æˆ‘ä»¬ä¼šå…ˆä»ä¸€ä¸ªå¯é€‰çš„æ–¹æ³•å¼€å§‹è®²ã€‚</p><h1 id="æ ·ä¾‹æ¨¡æ¿"><a href="#æ ·ä¾‹æ¨¡æ¿" class="headerlink" title="æ ·ä¾‹æ¨¡æ¿"></a>æ ·ä¾‹æ¨¡æ¿</h1><p>æˆ‘ä»¬è¦çœ‹çš„ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ <code>getLocalizableSampleTemplate</code> ï¼Œåœ¨æ–‡ä»¶çš„åº•éƒ¨ â€”â€” ä½ æœ‰å¯èƒ½ä¼šéœ€è¦åœ¨æŠŠ complication æ·»åŠ åˆ°è¡¨ç›˜ä¹‹å‰å…ˆå®ç°è¿™ä¸ªæ–¹æ³•ã€‚</p><p>è¿™ä¸ªæ–¹æ³•è®©ä½ è¿”å›ä¸€ä¸ª complication çš„ â€œæ ·ä¾‹â€ å¤–è§‚ï¼Œå®ƒæ˜¯å½“ç”¨æˆ·åœ¨è¡¨ç›˜é…ç½®è§†å›¾ä¸­è®¾ç½® complication æ—¶ç”¨åˆ°çš„ã€‚è¿™é‡Œåº”å½“å±•ç¤ºä¸€äº›éšæœºæ•°æ®ï¼Œè¡¨ç°ä½ çš„ complication ä¸€èˆ¬æƒ…å†µä¸‹çš„å¤–è§‚ï¼Œå°±åƒä½ åœ¨åº”ç”¨çš„ç½‘ç«™æˆ–è€…åº”ç”¨å•†åº—ä¸Šæ”¾çš„æˆªå›¾é‚£æ ·çš„ä¸œè¥¿ã€‚</p><p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›ä¸€ä¸ª <code>CLKComplicationTemplate</code> å¯¹è±¡ â€”â€” åœ¨å®é™…çš„ timeline ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¼šè¿”å›ä¸€æ ·çš„ä¸œè¥¿ã€‚ä¸è¿‡è¿™é‡Œä¸æŒ‡å®šæ—¶é—´æˆ³ã€‚å¯¹äºä¸¤ç§ complication å®¶æ—ï¼Œæˆ‘ä»¬éƒ½ç”¨æ ‡å‡†çš„ <code>CLKSimpleTextProvider</code> æ¥å°è£…è¿”å›çš„æ–‡æœ¬ã€‚ åœ¨æ ·ä¾‹æ¨¡æ¿é‡Œï¼Œæˆ‘ä»¬ç”¨ â€œ50â€ æ¥ä»£æ›¿çœŸå®å€¼ã€‚</p><p>ä¸‹é¢æ˜¯ä»£ç ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLocalizableSampleTemplate</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">for</span> complication: CLKComplication,</span></span></span><br><span class="line"><span class="function"><span class="params">    withHandler handler: @escaping <span class="params">(CLKComplicationTemplate?)</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">switch</span> complication.family {</span><br><span class="line">    <span class="keyword">case</span> .modularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateModularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM10"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"50"</span>)</span><br><span class="line">        handler (template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">case</span> .circularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateCircularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"50"</span>)</span><br><span class="line">        handler (template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">preconditionFailure</span>(<span class="string">"Complication family not supported"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è®°å¾—æ€»æ˜¯è¿”å›åŒ¹é…ç»™å®š complication å®¶æ—çš„æ¨¡æ¿ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå¥½åƒæ²¡æœ‰å¯ä»¥åœ¨ç¼–è¯‘æœŸæ£€æŸ¥è¿™ä¸ªè¿‡ç¨‹çš„æœºåˆ¶ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºä¸¤ç§å®¶æ—éƒ½é€‰ç”¨äº† â€œstack textâ€ æ¨¡æ¿ï¼Œå› æ­¤éƒ½æœ‰ <code>line1TextProvider</code> å’Œ <code>line2TextProvider</code> å±æ€§ã€‚å¦‚æœä½ é€‰æ‹©å¦å¤–çš„é…ç½®çš„è¯ï¼Œå¯èƒ½çš„å±æ€§æœ‰ <code>imageProvider</code> ï¼Œ <code>headerTextProvider</code> ï¼Œ <code>ringStyle</code> ç­‰ç­‰ã€‚</p><p>å¦‚æœç³»ç»Ÿå‘æˆ‘ä»¬è¯·æ±‚å…¶ä»–æˆ‘ä»¬ä¸æ”¯æŒçš„ complication ç±»åˆ«çš„è¯ï¼Œæˆ‘ä»¬åœ¨é»˜è®¤ case æŠ›å‡ºæ–­è¨€ â€”â€” ä½†è¿™ä¸åº”è¯¥å‘ç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ç¦ç”¨æ‰€æœ‰å…¶ä»–ç±»å‹çš„ complication ã€‚ç”¨ <code>preconditionFailure</code> è§¦å‘å´©æºƒæ˜¯ä¸ºäº†ç¡®ä¿è‡ªå·±ä¸å¿˜æ‰ä¸€äº›ä¸œè¥¿ï¼Œæœ€ç»ˆç‰ˆæœ¬å…¶å®åº”è¯¥è¿”å› nil æ›´å®‰å…¨ã€‚</p><p>ä¹‹æ‰€ä»¥å…ˆè¯´è¿™éƒ¨åˆ†ï¼Œæ˜¯å› ä¸ºæ— è®ºä½ åœ¨è¿™ä¸ªæ¨¡æ¿è¿”å›äº†ä»€ä¹ˆï¼Œå®ƒéƒ½ä¼šè¢«ç³»ç»Ÿç¼“å­˜ã€‚å¦‚æœä½ æ”¹å˜äº†ä»£ç å†æ¬¡è¿è¡Œï¼Œä½ ä¸ä¼šçœ‹åˆ°ä»»ä½•æ•ˆæœ â€”â€” ä½ éœ€è¦ä»æ¨¡æ‹Ÿå™¨ä¸­åˆ é™¤ app ï¼Œé‡æ–°å®‰è£…ä»¥ä¾¿æ›´æ–°ç‰ˆæœ¬ã€‚</p><p>ç°åœ¨ï¼Œå½“ä½ è¿è¡Œ app ï¼Œä½ å¯ä»¥ç¼–è¾‘è¡¨ç›˜ï¼ˆé€šè¿‡ç”¨åŠ›æŒ‰å‹ MacBook çš„ touchpad ï¼Œæˆ–è€…åœ¨èœå• Hardware &gt; Touch Pressureï¼‰ï¼Œé€‰æ‹©ä¸€ä¸ª complication ç©ºé—´ï¼Œå¹¶ä¸”é€‰æ‹©ä½ çš„ complication ï¼š</p><img src="/images/watch-face-editing-1.png" width="25%" height="25%" style="margin: 10 auto;"><p>æ³¨æ„ï¼Œé»˜è®¤ä½ çš„ app åæ˜¯ app target çš„å®Œæ•´åï¼Œè¿™ä¼šæœ‰ç‚¹é•¿ã€‚ä¸ºäº†æŠŠå®ƒæ”¹æˆæ›´å¯è¯»çš„ï¼Œæ‰“å¼€ WatchKit app target çš„ <code>Info.plist</code> (æ³¨æ„ï¼Œæ˜¯ app è€Œä¸æ˜¯ extension çš„) ç„¶åæŠŠ â€œBundle display nameâ€ æ”¹æˆ â€œSmogWatchâ€ ã€‚</p><p>å½“ä½ é€€å‡ºç¼–è¾‘æ¨¡å¼å¹¶è¿”å›è¡¨ç›˜ï¼Œä½ ä¼šçœ‹åˆ°ä½ æ”¾ç½® complication çš„åœ°æ–¹æœ‰ä¸€ä¸ªç©ºç™½çš„ç©ºé—´ â€”â€” åˆ«æ€¥ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±ç€æ‰‹å¤„ç†è¿™å—ã€‚</p><h1 id="getSupportedTimeTravelDirections"><a href="#getSupportedTimeTravelDirections" class="headerlink" title="getSupportedTimeTravelDirections"></a>getSupportedTimeTravelDirections</h1><p>è¿™ä¸ªæ–¹æ³•å‘ŠçŸ¥ç³»ç»Ÿä½ çš„ app åœ¨è¿‡å»ã€æœªæ¥ã€ä¸¤ä¸ªæ–¹å‘æˆ–è€…åªæœ‰å½“å‰æ—¶åˆ»æ‹¥æœ‰æ•°æ®ã€‚å› ä¸ºä¹‹å‰æåˆ°è¿‡å»çš„æ•°æ®å·²ç»ä¸å†ä½¿ç”¨äº†ï¼Œæ‰€ä»¥åªæœ‰è¿”å› <code>.forward</code> æˆ–è€…ç©ºåˆ—è¡¨æ˜¯æœ‰æ„ä¹‰çš„ã€‚ç”±äºæˆ‘ä»¬å¹¶ä¸éœ€è¦é¢„æµ‹æœªæ¥çš„ç©ºæ°”è´¨é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¿”å›ä¸€ä¸ªç©ºçš„åˆ—è¡¨ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSupportedTimeTravelDirections</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">for</span> complication: CLKComplication,</span></span></span><br><span class="line"><span class="function"><span class="params">    withHandler handler: @escaping <span class="params">(CLKComplicationTimeTravelDirections)</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line">{</span><br><span class="line">    handler ([])</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œè¿”å›çš„ä¸œè¥¿å†³å®šäº†ç³»ç»Ÿæ˜¯å¦ä¼šè°ƒç”¨ <code>getTimelineStartDate</code> ï¼Œ <code>getTimelineEndDate</code> ï¼Œ <code>getTimelineEntries (for:before:limit:withHandler:)</code> å’Œ <code>getTimelineEntries (for:after:limit:withHandler:)</code> è¿™äº›æ–¹æ³•ï¼Œä»¥è¯¢é—®ä½  timeline åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šå»¶å±•çš„é•¿åº¦ï¼Œæ—¶ç‚¹ã€‚å¦‚æœæˆ‘ä»¬è¿”å› <code>[]</code> ï¼Œé‚£ä¹ˆç³»ç»Ÿåªä¼šè¯¢é—®å½“å‰æ—¶ç‚¹ã€‚</p><p>ä¸è¿‡è¿™äº›æ–¹æ³•éƒ½æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥å¦‚æœä½ éƒ½ä¸å®ç°å®ƒä»¬ï¼Œ watchOS ä¼šå‡å®šå½“å‰æ—¶ç‚¹æ²¡æœ‰ä»€ä¹ˆæœ‰è¶£çš„ä¸œè¥¿ã€‚</p><h1 id="getCurrentTimelineEntry"><a href="#getCurrentTimelineEntry" class="headerlink" title="getCurrentTimelineEntry"></a>getCurrentTimelineEntry</h1><p>è¿™æ˜¯æ•´ä¸ªåè®®æ ¸å¿ƒçš„ä»£ç ï¼Œå®ƒæ˜¯æˆ‘ä»¬è¿”å›æœ€æ–°æ•°æ®ç‚¹çš„åœ°æ–¹ã€‚</p><p>timeline æ•°æ®æ˜¯ä»¥ä¸€ä¸ªæˆ–è€…å¤šä¸ª <code>CLKComplicationTimelineEntry</code> å¯¹è±¡è¿”å›çš„ã€‚ä¸€ä¸ª timeline å®ä½“å…¶å®å°±æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³åŠ ä¸Šä¸€ä¸ªæˆ–è€…å¤šä¸ªæŒ‡æ´¾çš„æ•°æ® provider ï¼Œé‡Œé¢å¡«å……ç€ä½ éœ€è¦çš„æ•°æ®ã€‚å®ä½“å€Ÿç”±æ—¶é—´æˆ³éªŒè¯ã€‚</p><p>ç›®å‰æˆ‘ä»¬è¿˜æ²¡æœ‰å®é™…æ‹¥æœ‰æ•°æ®ï¼Œä¸è¿‡åˆ«æ‹…å¿ƒ â€”â€” æˆ‘ä»¬å¯ä»¥å…ˆè¿”å›ä¸€ä¸ªé™æ€æ•°å€¼ï¼Œæ¯”å¦‚ 75 ï¼Œå°±åƒæ ·ä¾‹æ¨¡æ¿ä¸­çš„åšæ³•ä¸€æ ·ã€‚æˆ‘ä»¬ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºæ—¶é—´æˆ³ï¼Œå› ä¸ºæ ¹æ®å‰é¢æ–¹æ³•è¿”å›çš„è®¾å®šï¼Œæˆ‘ä»¬ä¸ä¼šè¢«è¯¢é—®ä»»ä½•åœ¨å½“å‰æ—¶ç‚¹ä¹‹å‰çš„æ—¶æ®µæ•°æ®ã€‚</p><p>ä¸‹é¢æ˜¯ <code>getCurrentTimelineEntry</code> çš„åˆå§‹ç‰ˆæœ¬:</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getCurrentTimelineEntry</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">for</span> complication: CLKComplication,</span></span></span><br><span class="line"><span class="function"><span class="params">    withHandler handler: @escaping <span class="params">(CLKComplicationTimelineEntry?)</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">let</span> entry: <span class="type">CLKComplicationTimelineEntry</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">switch</span> complication.family {</span><br><span class="line">    <span class="keyword">case</span> .modularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateModularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM10"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"75"</span>)</span><br><span class="line">        entry = <span class="type">CLKComplicationTimelineEntry</span>(date: <span class="type">Date</span>(), complicationTemplate: template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">case</span> .circularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateCircularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"75"</span>)</span><br><span class="line">        entry = <span class="type">CLKComplicationTimelineEntry</span>(date: <span class="type">Date</span>(), complicationTemplate: template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">preconditionFailure</span>(<span class="string">"Complication family not supported"</span>)</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    handler (entry)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å½“ä½ æ·»åŠ äº†ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ï¼Œç¼–è¯‘è¿è¡Œä½ çš„ app åˆ°æ¨¡æ‹Ÿå™¨ã€‚ä½ åº”è¯¥ä¼šåœ¨ complication é‡Œçœ‹åˆ°æˆ‘ä»¬é…ç½®çš„æ¨¡æ¿å’Œæ•°å€¼ï¼š</p><img src="/images/watch-complication-75.png" width="25%" height="25%" style="margin: 10 auto;"><p>å¦‚æœä½ è¿˜æ˜¯æ²¡æœ‰çœ‹åˆ°æ•ˆæœï¼Œé‚£å¯èƒ½æ˜¯å› ä¸ºç³»ç»Ÿç¼“å­˜äº†ä¹‹å‰ç¼–è¯‘ç‰ˆæœ¬çš„çŠ¶æ€ã€‚ä¸ºäº†å¼ºåˆ¶åŠ è½½ complication ï¼Œä½ å¯ä»¥è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåˆ‡åˆ°ä¸åŒçš„ complication ï¼Œé€€å‡ºç¼–è¾‘æ¨¡å¼ã€‚ ç„¶åå†è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåˆ‡å›ä½ çš„ complication ã€‚</p><h1 id="å¯é€‰çš„æ–¹æ³•"><a href="#å¯é€‰çš„æ–¹æ³•" class="headerlink" title="å¯é€‰çš„æ–¹æ³•"></a>å¯é€‰çš„æ–¹æ³•</h1><p>åœ¨æ•°æ®æºåè®®ä¸­è¿˜æœ‰ä¸€äº›å…¶ä»–çš„åè®®ï¼Œä½†é’ˆå¯¹æˆ‘ä»¬çš„ç”¨é€”ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ° <code>getTimelineEntries (for:after:limit:withHandler:)</code> ã€‚è¿™ä¸ªæ–¹æ³•è¯¢é—®æˆ‘ä»¬æ—©å‰ä¼ å…¥çš„ timeline æ—¶ç‚¹ä¹‹åçš„æ—¶ç‚¹ã€‚å½“æˆ‘ä»¬å†™çš„ app éœ€è¦æå‰äº†è§£æŸä¸ªæ—¶ç‚¹æ—¶ï¼Œä¼šç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¤©æ°”é¢„æŠ¥ï¼Œæ—¥å†äº‹ä»¶ï¼Œtodo list ä¸Šé¢„å®šçš„ä»»åŠ¡ç­‰ã€‚ä¸è¿‡ï¼Œå¤§éƒ¨åˆ† app åªéœ€è¦æ˜¾ç¤ºå½“å‰å®ä½“å°±å¤Ÿäº†ã€‚</p><p>æˆ‘ä»¬åœ¨è¿™ä¸ª app ä¸­ä½¿ç”¨è¿™ä¸ª API çš„ä½œç”¨æ˜¯ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½éœ€è¦åœ¨æ—¶ç‚¹è¿‡å»ä¹‹åå°†æœªæ¥ç‰ˆæœ¬çš„æ•°æ®æ ‡è®°ä¸ºè¿‡æ—¶ã€‚å¦‚æœä½ æŸ¥çœ‹çš„æ˜¯ 6 ä¸ªå°æ—¶å‰çš„ç©ºæ°”è´¨é‡ï¼Œå®ƒå¾ˆå¯èƒ½æ˜¯æ²¡ä»€ä¹ˆä»·å€¼çš„ï¼Œå› ä¸ºå½“å‰çš„ç©ºæ°”å¾ˆæœ‰å¯èƒ½å·²ç»å‘ç”Ÿæ˜¾è‘—çš„å˜åŒ–ã€‚åœ¨ Krakow ï¼Œè¿™ç§å˜åŒ–å¯èƒ½å‘ç”Ÿåœ¨ 2 ä¸ªå°æ—¶å†…ã€‚ä¾‹å¦‚ï¼Œèµ·é£æˆ–è€…é£åœäº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯èƒ½åœ¨å‡ å°æ—¶åè‡ªåŠ¨éšè—æ‰å½“å‰æ•°å€¼ï¼Œå€ŸåŠ©æ·»åŠ ä¸€ä¸ªå‡ å°æ—¶åçš„ â€œé‡ç½®â€ æ•°æ®æ¥å®ç°ã€‚å¦‚æœæˆ‘ä»¬æˆåŠŸåœ°åœ¨æ¯ä¸ªå°æ—¶æ›´æ–°äº†æ•°æ®ï¼Œé‚£ä¹ˆå¤‡é€‰çš„ç¬¬äºŒä¸ªæ—¶ç‚¹çš„æ•°æ®æ°¸è¿œä¸ä¼šè¢«å±•ç¤ºï¼Œä½†æ˜¯å¦‚æœæœ‰äº›ä¸œè¥¿å‡ºé”™äº†ï¼Œé‚£ä¹ˆå½“æ—¶é—´å˜åŒ–è¶³å¤Ÿé•¿ï¼Œä¼šåœ¨æ—¶ç‚¹åˆ°æ¥æ—¶å€ŸåŠ©è¿™ä¸ª API æ¥æ›´æ–°æ•°æ®ã€‚</p><p>æˆ‘è®¤ä¸º watchOS ä¹‹å‰åº”è¯¥ä¹Ÿæ˜¯è¿™ä¹ˆå¹²çš„ï¼Œè‡³å°‘åœ¨ Time Travel åŠŸèƒ½é‡Œæ˜¯è¿™ä¹ˆåšçš„ â€”â€” æ–‡æ¡£é‡Œä¹Ÿæåˆ°äº†ã€‚ä¸è¿‡è¿™æœ¬è¯¥æ˜¯ <code>getTimelineStartDate</code> å’Œ <code>getTimelineEndDate</code> æ–¹æ³•å­˜åœ¨çš„æ„ä¹‰ â€”â€” ä½†æ˜¯ç”±äºè¿™ä¸¤ä¸ª API ä¸èµ·ä½œç”¨ (Time Travel)ï¼Œæ‰€ä»¥å®ç°å®ƒä»¬ä¹Ÿæ²¡æ„ä¹‰ã€‚ </p><hr><h1 id="ä»ç½‘ç»œä¸Šè·å–çœŸå®æ•°æ®"><a href="#ä»ç½‘ç»œä¸Šè·å–çœŸå®æ•°æ®" class="headerlink" title="ä»ç½‘ç»œä¸Šè·å–çœŸå®æ•°æ®"></a>ä»ç½‘ç»œä¸Šè·å–çœŸå®æ•°æ®</h1><p>å¯¹äºç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬ç”¨ä½¿ç”¨ MaÅ‚opolska åœ°åŒºç©ºæ°”ç›‘æ§ç³»ç»Ÿçš„å…¬å…±æ•°æ® (ä»…é™æ³¢å…°) ã€‚</p><p>å‰ç«¯é€šè¿‡ä¸€ä¸ªæŒºå¤æ‚çš„ POST è¯·æ±‚ï¼Œå‘é€åˆ° URL <a href="http://monitoring.krakow.pios.gov.pl/dane-pomiarowe/pobierz" target="_blank" rel="noopener">http://monitoring.krakow.pios.gov.pl/dane-pomiarowe/pobierz</a> ï¼Œç„¶åè§£æè¿”å›çš„ Json æ•°æ®ã€‚</p><p>è¿™ä¸ªä¸»é¢˜å¹¶ä¸æ˜¯è·Ÿ watchOS ç‰¹å®šç›¸å…³ï¼Œå®ƒæ˜¯ç‰¹å®šäº web API â€”â€” æ‰€ä»¥è¿™é‡Œä¸è¯¦ç»†æè¿°ï¼Œä¸‹é¢æ˜¯æ‹‰å–å’Œè§£ææ•°æ®çš„å®Œæ•´ä»£ç ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> <span class="type">DataURL</span> = <span class="string">"http://monitoring.krakow.pios.gov.pl/dane-pomiarowe/pobierz"</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KrakowPiosDataLoader</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> dateFormatter: <span class="type">DateFormatter</span> = {</span><br><span class="line">        <span class="keyword">let</span> d = <span class="type">DateFormatter</span>()</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// ä¸ç¡®å®šä¸‹é¢æ˜¯å¦å¿…é¡»ï¼Œå®‰å…¨èµ·è§ </span></span><br><span class="line">        <span class="comment">//see https://developer.apple.com/library/archive/qa/qa1480/</span></span><br><span class="line">        d.locale = <span class="type">Locale</span>(identifier: <span class="string">"en_US_POSIX"</span>)</span><br><span class="line"> </span><br><span class="line">        d.dateFormat = <span class="string">"dd.MM.yyyy"</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">// ç¡®ä¿æˆ‘ä»¬ç”¨çš„æ˜¯ CET æ—¶åŒº â€”â€” æ¯”å¦‚è¯´ä½ æ˜¯åœ¨è«æ–¯ç§‘ </span></span><br><span class="line">        <span class="comment">// ä½ åœ¨ 2 æœˆ 19 å·åˆå¤œä¹‹åè¯·æ±‚ 19.02.2019 ï¼ˆè¿™æ—¶å€™åœ¨æ³¢å…°è¿˜æ˜¯ 2 æœˆ 18 å·ï¼‰</span></span><br><span class="line">        <span class="comment">// ä½ å°†æ‹¿ä¸åˆ°æ•°æ® </span></span><br><span class="line">        d.timeZone = <span class="type">TimeZone</span>(identifier: <span class="string">"Europe/Warsaw"</span>)!</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> d</span><br><span class="line">    }()</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> dataStore = <span class="type">DataStore</span>()</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> session: <span class="type">URLSession</span> = {</span><br><span class="line">        <span class="keyword">let</span> config = <span class="type">URLSessionConfiguration</span>.ephemeral</span><br><span class="line">        config.timeoutIntervalForResource = <span class="number">10.0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">URLSession</span>(configuration: config)</span><br><span class="line">    }()</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">queryString</span><span class="params">()</span></span> -&gt; <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">let</span> query: [<span class="type">String</span>: <span class="type">Any</span>] = [</span><br><span class="line">            <span class="string">"measType"</span>: <span class="string">"Auto"</span>,</span><br><span class="line">            <span class="string">"viewType"</span>: <span class="string">"Parameter"</span>,</span><br><span class="line">            <span class="string">"dateRange"</span>: <span class="string">"Day"</span>,</span><br><span class="line">            <span class="string">"date"</span>: dateFormatter.string (from: <span class="type">Date</span>()),</span><br><span class="line"> </span><br><span class="line">            <span class="comment">//hardcoded ID for PM10 on a specific station</span></span><br><span class="line">            <span class="comment">//we'll make it configurable later</span></span><br><span class="line">            <span class="string">"viewTypeEntityId"</span>: <span class="string">"pm10"</span>,</span><br><span class="line">            <span class="string">"channels"</span>: [<span class="number">148</span>]</span><br><span class="line">        ]</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">let</span> jsonData = <span class="keyword">try</span>! <span class="type">JSONSerialization</span>.data (withJSONObject: query, options: [])</span><br><span class="line">        <span class="keyword">let</span> json = <span class="type">String</span>(data: jsonData, encoding: .utf8)!</span><br><span class="line"> </span><br><span class="line">        <span class="comment">//don't ask me, that's what the API expects</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"query=\(json)"</span></span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fetchData</span><span class="params">(<span class="number">_</span> completion: @escaping <span class="params">(Bool)</span></span></span> -&gt; ()) {</span><br><span class="line">        <span class="keyword">var</span> request = <span class="type">URLRequest</span>(url: <span class="type">URL</span>(string: <span class="type">DataURL</span>)!)</span><br><span class="line">        request.httpBody = queryString ().data (using: .utf8)!</span><br><span class="line">        request.httpMethod = <span class="string">"POST"</span></span><br><span class="line"> </span><br><span class="line">        <span class="type">NSLog</span>(<span class="string">"KrakowPiosDataLoader: sending request to %@ with %@ ..."</span>,</span><br><span class="line">            <span class="type">DataURL</span>, queryString ())</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">let</span> task = session.dataTask (with: request) { (data, response, error) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">var</span> success = <span class="literal">false</span></span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> error = error {</span><br><span class="line">                <span class="type">NSLog</span>(<span class="string">"KrakowPiosDataLoader: received error: %@"</span>, <span class="string">"\(error)"</span>)</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="type">NSLog</span>(<span class="string">"KrakowPiosDataLoader: received response: %@"</span>,</span><br><span class="line">                    data != <span class="literal">nil</span> ? <span class="string">"\(data!.count) bytes"</span> : <span class="string">"(nil)"</span>)</span><br><span class="line">            }</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> data = data {</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">let</span> obj = <span class="keyword">try</span>? <span class="type">JSONSerialization</span>.jsonObject (with: data, options: []) {</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> json = obj <span class="keyword">as</span>? [<span class="type">String</span>: <span class="type">Any</span>] {</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">let</span> data = json [<span class="string">"data"</span>] <span class="keyword">as</span>? [<span class="type">String</span>: <span class="type">Any</span>] {</span><br><span class="line">                            <span class="keyword">if</span> <span class="keyword">let</span> series = data [<span class="string">"series"</span>] <span class="keyword">as</span>? [[<span class="type">String</span>: <span class="type">Any</span>]] {</span><br><span class="line"> </span><br><span class="line">                                <span class="comment">//there would be more than one data series if we passed</span></span><br><span class="line">                                <span class="comment">//multiple "channel IDs" (e.g. for more than 1 station)</span></span><br><span class="line">                                <span class="keyword">if</span> <span class="keyword">let</span> first = series.first {</span><br><span class="line">                                    <span class="keyword">if</span> <span class="keyword">let</span> points = first [<span class="string">"data"</span>] <span class="keyword">as</span>? [[<span class="type">String</span>]] {</span><br><span class="line"> </span><br><span class="line">                                        <span class="comment">//the data series is an array of up to 26 hourly</span></span><br><span class="line">                                        <span class="comment">//measurements; we only take the last one for now</span></span><br><span class="line">                                        <span class="keyword">if</span> <span class="keyword">let</span> point = points.last {</span><br><span class="line">                                            <span class="keyword">let</span> date = <span class="type">Date</span>(</span><br><span class="line">                                                timeIntervalSince1970: <span class="type">Double</span>(point [<span class="number">0</span>])!</span><br><span class="line">                                            )</span><br><span class="line">                                            <span class="keyword">let</span> value = <span class="type">Double</span>(point [<span class="number">1</span>])!</span><br><span class="line"> </span><br><span class="line">                                            <span class="keyword">self</span>.dataStore.currentLevel = value</span><br><span class="line">                                            <span class="keyword">self</span>.dataStore.lastMeasurementDate = date</span><br><span class="line"> </span><br><span class="line">                                            <span class="type">NSLog</span>(<span class="string">"KrakowPiosDataLoader: saving data:"</span> +</span><br><span class="line">                                                <span class="string">"%.0f at %@"</span>, value, <span class="string">"\(date)"</span>)</span><br><span class="line"> </span><br><span class="line">                                            success = <span class="literal">true</span></span><br><span class="line">                                        }</span><br><span class="line">                                    }</span><br><span class="line">                                }</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> !success {</span><br><span class="line">                <span class="type">NSLog</span>(<span class="string">"KrakowPiosDataLoader: no data found"</span>)</span><br><span class="line">            }</span><br><span class="line"> </span><br><span class="line">            completion (success)</span><br><span class="line">        }</span><br><span class="line"> </span><br><span class="line">        task.resume ()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸è¦å¿˜è®°åœ¨æœ€åç”¨ <code>resume ()</code> å¯åŠ¨ä»»åŠ¡ã€‚</p><h3 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h3><ul><li>æˆ‘ä»¬å‘ API è¯·æ±‚ PM10 çš„æ•°æ®ï¼Œç¡¬ç¼–ç è¯·æ±‚å½“å¤©å’Œç‰¹ç‚¹åœ°ç‚¹ã€‚</li><li>æˆ‘ä»¬åªå–æœ€åçš„æµ‹é‡ç»“æœ (å¤šæ•°æƒ…å†µä¸‹æ˜¯æœ€è¿‘ä¸€ä¸¤ä¸ªå°æ—¶çš„æ•°æ®)</li><li>å¦‚æœæˆ‘ä»¬æ‹¿åˆ°æ•°æ®ï¼Œå­˜å‚¨ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤º PM10 çš„æµ“åº¦ï¼Œä»¥åŠæµ‹é‡çš„æ—¶é—´ç‚¹</li><li>é€šçŸ¥è°ƒç”¨æ–¹æˆ‘ä»¬æ‹¿åˆ°æˆ–è€…æ²¡æœ‰æ‹¿åˆ°æ•°æ®</li></ul><p>ä¸Šé¢çš„ä»£ç ç”¨äº†è€å¼çš„ Json è§£ææ–¹æ³•ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºè¿™æ ·æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚</p><p>æˆ‘ç”¨è€å¼çš„ <code>NSLog</code> è€Œä¸æ˜¯ Swift çš„ <code>print ()</code> ï¼Œæ˜¯å› ä¸ºåè€…åªä¼šæ˜¾ç¤ºåœ¨ Xcode çš„æ§åˆ¶å°ï¼Œå¹¶ä¸ä¼šè®°å½•åˆ°ç³»ç»Ÿæ—¥å¿—ï¼Œæ‰€ä»¥åœ¨æ§åˆ¶å° app çš„è¯Šæ–­æ—¥å¿—é‡Œçœ‹åˆ°ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä½ éœ€è¦åœ¨ app æ²¡æœ‰è¿æ¥ mac æ—¶è·Ÿè¸ªå®ƒçš„è¡Œä¸ºã€‚</p><p>è¿˜æœ‰ï¼Œæ³¨æ„æˆ‘ä»¬æ˜¯åœ¨å‰å°è¯·æ±‚æ•°æ®ï¼Œç”¨æœ€åŸºæœ¬çš„ URL session ã€‚è¿™ä¸æ˜¯é€šå¸¸æˆ‘ä»¬æœ€ç†æƒ³çš„åº”ç”¨æ–¹æ¡ˆ â€”â€” ç†æƒ³çš„ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½åº”è¯¥æ˜¯åœ¨åå° URL sessions ä¸­å®Œæˆï¼Œä¸è¿‡è¿™é‡Œåªæ˜¯ä¸€ä¸ªæœ€å°å¯ç”¨åŸå‹ï¼Œå…ˆä¿æŒè¿™æ ·å§ã€‚</p><p>ä¸è¿‡æˆ‘ä»¬é€šè¿‡æŠŠè¶…æ—¶æ—¶é—´è®¾ç½®ä¸ºæ¯æ¬¡è¯·æ±‚ä¸è¶…è¿‡ 10 ç§’é’Ÿæ¥é™åˆ¶äº† URL sessionã€‚ è¿™é‡Œ <code>timeoutIntervalForResource</code> çš„ç”¨æ³•ï¼Œè€Œä¸æ˜¯ <code>timeoutIntervalForRequest</code> æˆ–è€… <code>timeoutInterval</code> å¾ˆé‡è¦ï¼Œå› ä¸ºè‡ªä¸Šä¸€æ¬¡æ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œåé¢ä¸¤ä¸ªåªä¼šåœ¨ç©ºé—²æ—¶é—´å·¥ä½œï¼Œè€Œæˆ‘ä»¬å¸Œæœ›æ§åˆ¶æ€»çš„è¯·æ±‚æ—¶é—´ã€‚ä¹‹æ‰€ä»¥è¦æ§åˆ¶æ€»æ—¶é—´ï¼Œæ˜¯å› ä¸ºçœ‹èµ·æ¥è¿™é‡Œè¾¹æœ‰ä¸€ä¸ªé’ˆå¯¹åå°ä»»åŠ¡çš„ç¡¬æ€§é™åˆ¶ï¼Œå¹¶ä¸”æ²¡æœ‰åœ¨æ–‡æ¡£ä¸­æåˆ°ï¼šå¦‚æœä¸€ä¸ª app è¶…å‡ºäº† 15 ç§’çš„åå°è¿è¡Œæ—¶é—´ï¼Œå®ƒä¼šè¢«ç«‹å³æ€æ­»ï¼Œå´©æºƒæŠ¥å‘Šå¦‚ä¸‹ï¼š</p><blockquote><p>Termination Reason: CAROUSEL, Background App Refresh watchdog transgression. Exhausted wall time allowance of 15.00 seconds. Termination Description: SPRINGBOARD, CSLHandleBackgroundRefreshAction watchdog transgression: eu.mackuba.SmogWatch.watchkitapp.watchkitextension exhausted real (wall clock) time allowance of 15.00 seconds (â€¦)</p></blockquote><p>ä¸ºäº†ä¾¿äºä½ äº†è§£æœ€åä¸€æ¬¡æ£€æµ‹çš„æ—¶é—´ç‚¹ï¼Œæˆ‘ä»¬æŠŠ <code>lastMeasurementDate</code> æ—¶é—´æˆ³å­˜è¿›äº† <code>DataStore</code> ï¼Œè¿™æ˜¯ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ç”¨æ¥å®ç°ä¹‹å‰æåˆ°çš„ â€œè¿‡æ—¶æ•°æ® ç‰¹æ€§çš„æ½œåœ¨ç»“æ„ã€‚</p><p>é‚£ä¹ˆè¿™ä¸ª <code>DataStore</code> ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå…¶å®åªæ˜¯ <code>UserDefaults</code> ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> <span class="type">CurrentLevelKey</span> = <span class="string">"CurrentLevel"</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> <span class="type">LastMeasurementDate</span> = <span class="string">"LastMeasurementDate"</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataStore</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> defaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> currentLevel: <span class="type">Double?</span> {</span><br><span class="line">        <span class="keyword">get</span> { <span class="keyword">return</span> defaults.object (forKey: <span class="type">CurrentLevelKey</span>) <span class="keyword">as</span>? <span class="type">Double</span> }</span><br><span class="line">        <span class="keyword">set</span> { defaults.<span class="keyword">set</span>(newValue, forKey: <span class="type">CurrentLevelKey</span>) }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> lastMeasurementDate: <span class="type">Date?</span> {</span><br><span class="line">        <span class="keyword">get</span> { <span class="keyword">return</span> defaults.object (forKey: <span class="type">LastMeasurementDate</span>) <span class="keyword">as</span>? <span class="type">Date</span> }</span><br><span class="line">        <span class="keyword">set</span> { defaults.<span class="keyword">set</span>(newValue, forKey: <span class="type">LastMeasurementDate</span>)}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªä¾‹å¤–åŸŸååˆ° WatchKit Extension target çš„ App Transport Security è®¾ç½®ä¸­ï¼Œå› ä¸ºè¿™ä¸ªåŸŸåä¸æ”¯æŒ Https ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionDomains<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>monitoring.krakow.pios.gov.pl<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionAllowsInsecureHTTPLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="æ˜¾ç¤ºçœŸå®æ•°æ®"><a href="#æ˜¾ç¤ºçœŸå®æ•°æ®" class="headerlink" title="æ˜¾ç¤ºçœŸå®æ•°æ®"></a>æ˜¾ç¤ºçœŸå®æ•°æ®</h1><p>ä¸ºäº†å®é™…åŠ è½½æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æŸä¸ªåœ°æ–¹è°ƒç”¨è¿™ä¸ªç±»çš„æ–¹æ³•ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ <code>ExtensionDelegate</code> è¿™ä¸ªç±»ï¼Œå®ƒå®ç°äº† <code>WKExtensionDelegate</code> â€”â€” åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ª WatchKit ç‰ˆæœ¬çš„ <code>UIApplicationDelegate</code> ã€‚å°±åƒæ‰€æœ‰çš„ app ä»£ç†ï¼Œ <code>WKExtensionDelegate</code> æœ‰è®¸å¤šç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¼šè¢«ç³»ç»Ÿåœ¨å„ç§æ—¶åˆ»è°ƒç”¨ï¼š <code>applicationWillEnterForeground</code> ï¼Œ <code>applicationDidBecomeActive</code> ï¼Œ <code>applicationWillResignActive</code> å’Œ <code>applicationDidEnterBackground</code> ç­‰ç­‰ã€‚</p><p>è¿™é‡Œå¤´æˆ‘ä»¬ç›®å‰å”¯ä¸€ä¼šç”¨åˆ°çš„æ˜¯ <code>applicationDidFinishLaunching</code> ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ app è¿›ç¨‹å¯åŠ¨æ—¶è¢«è°ƒç”¨ â€”â€” æ— è®ºæ˜¯é€šè¿‡ app launcher æˆ–è€…é€šè¿‡ Xcode ï¼Œåˆæˆ–è€…ä»åå°å¯åŠ¨ã€‚åªè¦æ˜¯ app éœ€è¦è¢«å”¤èµ·ï¼Œå¹¶ä¸”ä¹‹å‰å·²ç»è¢«ç³»ç»Ÿæ¸…ç†æ‰çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘¨æœŸéƒ½ä¼šè¿è¡Œ (é€šå¸¸åœ¨æ™šä¸Šï¼Œè¢«ç³»ç»Ÿæ€æ­»çš„æƒ…å†µç»å¸¸å‘ç”Ÿ) ã€‚</p><p>æ— è®ºä½•æ—¶ï¼Œ app å¯åŠ¨æˆ–è€…åœ¨åå°é‡å¯ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å€ŸåŠ©è¿™ä¸ªæœºä¼šç«‹å³æ‹‰å–æœ€æ–°çš„æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬å¾—åˆ°å“åº”ï¼Œé‡æ–°åŠ è½½æ‰€æœ‰æ´»åŠ¨çš„ complication ï¼ˆæ´»åŠ¨çš„ complication æŒ‡é‚£äº›åœ¨å½“å‰é€‰æ‹©çš„è¡¨ç›˜ä¸Šæ˜¾ç¤ºçš„ complicationï¼‰ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å°†è¿™æ ·åšï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationDidFinishLaunching</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="type">NSLog</span>(<span class="string">"ExtensionDelegate: applicationDidFinishLaunching ()"</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="type">KrakowPiosDataLoader</span>().fetchData { success <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">if</span> success {</span><br><span class="line">            <span class="keyword">self</span>.reloadActiveComplications ()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸ºäº†æ‹‰å–æ•°æ®ï¼Œæˆ‘ä»¬è°ƒç”¨äº† KrakowPiosDataLoader ç±»ï¼Œç„¶ååœ¨æœ‰ä»»ä½•æ–°æ•°æ®çš„æƒ…å†µä¸‹é‡è½½åŠ è½½ complications ï¼Œå¦åˆ™çš„è¯å°±ä¸å¿…äº†ã€‚åœ¨ watchOS ä¸Šï¼Œä¸è¦æµªè´¹æ—¶é—´åšæ— ç”¨åŠŸï¼Œè¿™æ˜¯ä¸€æ¡é€šç”¨çš„å‡†åˆ™ã€‚</p><p>ä¸ºäº†é‡æ–°åŠ è½½ complications ï¼Œæˆ‘ä»¬å¾—æ‹¿åˆ°æ´»åŠ¨ complication çš„åˆ—è¡¨ï¼Œè¿™æ˜¯å€Ÿç”±å…¨å±€å…±äº«çš„  <code>CLKComplicationServer</code> å®ä¾‹æ¥è·å¾—çš„ï¼Œå¹¶ä¸”ä¹Ÿé€šè¿‡å®ƒçš„ <code>reloadTimeline (for:)</code> æ–¹æ³•æ¥é‡æ–°åŠ è½½é‚£äº›æ´»åŠ¨çš„ complication ã€‚å¦‚æœæ‰“ç®—åœ¨å·²ç»å­˜åœ¨çš„ timeline å®ä½“åè¿½åŠ æ–°çš„ timeline å®ä½“ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ä¸ªç›¸ä¼¼æ–¹æ³•  <code>extendTimeline (for:)</code> ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯å‰è€…æˆ‘ä»¬å¸Œæœ›ç«‹åˆ»ç”¨æ–°æ•°æ®æ›¿æ¢æ‰ä¹‹å‰çš„æ•°æ®ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadActiveComplications</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">let</span> server = <span class="type">CLKComplicationServer</span>.sharedInstance ()</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> complication <span class="keyword">in</span> server.activeComplications ?? [] {</span><br><span class="line">        server.reloadTimeline (<span class="keyword">for</span>: complication)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„ä»£ç ä¼šè§¦å‘ä¸€è½®å¯¹ä½ çš„ <code>CLKComplicationDataSource</code> çš„è°ƒç”¨ â€”â€” æœ‰çš„æ—¶å€™æ˜¯ä¸€ä¼šä¹‹åï¼Œä¸è¿‡é€šå¸¸å‡ ä¹éƒ½æ˜¯ç«‹åˆ»å‘ç”Ÿã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†çœŸå®æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ°ä¹‹å‰å†™çš„ <code>getCurrentTimelineEntry</code> æ–¹æ³•ï¼Œç„¶åæŠŠå ä½çš„ä»£ç æ›¿æ¢æˆå®é™…çš„é€»è¾‘ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getCurrentTimelineEntry</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">for</span> complication: CLKComplication,</span></span></span><br><span class="line"><span class="function"><span class="params">    withHandler handler: @escaping <span class="params">(CLKComplicationTimelineEntry?)</span></span></span> -&gt; <span class="type">Void</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">let</span> store = <span class="type">DataStore</span>()</span><br><span class="line">    <span class="keyword">let</span> entry: <span class="type">CLKComplicationTimelineEntry</span></span><br><span class="line">    <span class="keyword">let</span> date: <span class="type">Date</span></span><br><span class="line">    <span class="keyword">let</span> valueLabel: <span class="type">String</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> lastMeasurement = store.lastMeasurementDate, <span class="keyword">let</span> level = store.currentLevel {</span><br><span class="line">        valueLabel = <span class="type">String</span>(<span class="type">Int</span>(level.rounded ()))</span><br><span class="line">        date = lastMeasurement</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        valueLabel = <span class="string">"--"</span></span><br><span class="line">        date = <span class="type">Date</span>()</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">switch</span> complication.family {</span><br><span class="line">    <span class="keyword">case</span> .modularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateModularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM10"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: valueLabel)</span><br><span class="line">        entry = <span class="type">CLKComplicationTimelineEntry</span>(date: date, complicationTemplate: template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">case</span> .circularSmall:</span><br><span class="line">        <span class="keyword">let</span> template = <span class="type">CLKComplicationTemplateCircularSmallStackText</span>()</span><br><span class="line">        template.line1TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: <span class="string">"PM"</span>)</span><br><span class="line">        template.line2TextProvider = <span class="type">CLKSimpleTextProvider</span>(text: valueLabel)</span><br><span class="line">        entry = <span class="type">CLKComplicationTimelineEntry</span>(date: date, complicationTemplate: template)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">preconditionFailure</span>(<span class="string">"Complication family not supported"</span>)</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    handler (entry)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç°åœ¨ï¼Œå½“æˆ‘ä»¬è¿è¡Œ app æ—¶ï¼Œç‚¹å‡» home æŒ‰é’®è¿”å›è¡¨ç›˜æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªåˆšåˆšå€ŸåŠ© API åŠ è½½çš„çœŸå®æ•°æ®ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ExtensionDelegate: applicationDidFinishLaunching ()</span><br><span class="line">KrakowPiosDataLoader: sending request to http://monitoring.krakow.pios.gov.pl/dane-pomiarowe/pobierz with</span><br><span class="line">query={"viewTypeEntityId": "pm10", "measType": "Auto", "viewType": "Parameter", "dateRange": "Day",</span><br><span class="line">"date": "24.02.2019", "channels": [148]} ...</span><br><span class="line">KrakowPiosDataLoader: received response: 1553 bytes</span><br><span class="line">KrakowPiosDataLoader: saving data: 46.4462 at 2019-02-24 10:00:00 +0000</span><br></pre></td></tr></tbody></table></figure><img src="/images/watch-complication-46.png" width="34%" height="34%" style="margin: 10 auto;"><hr><h1 id="å®‰æ’æ›´æ–°"><a href="#å®‰æ’æ›´æ–°" class="headerlink" title="å®‰æ’æ›´æ–°"></a>å®‰æ’æ›´æ–°</h1><p>æœ€åçš„æ‹¼å›¾æ˜¯ç¡®ä¿æˆ‘ä»¬å¯ä»¥æŒ‰ç…§æœ‰è§„å¾‹çš„é—´éš”åŠ è½½æ–°çš„æ•°æ®å¹¶é‡æ–°åŠ è½½ complication ã€‚æœ‰ä¸€äº›åœºæ™¯ä½ å¯ä»¥æ›´æ–° complications ï¼š</p><ul><li>å½“ä½ çš„ app å¤„äºå‰å°æ—¶ï¼Œä½ æ€»æ˜¯å¯ä»¥åšè¿™ä»¶äº‹ â€”â€” ä½†ä½ æ— æ³•ä¾èµ–å®ƒå®šæœŸå‘ç”Ÿã€‚</li><li>å½“ä½ æ¥å—åˆ°ä¸€äº›é™é»˜çš„æ¨é€é€šçŸ¥æ—¶ï¼Œå°¤å…¶æ˜¯ä¸“é—¨ä¸ºè¿™ç§ç”¨é€”è®¾è®¡çš„ (å€ŸåŠ© PushKit framework ï¼Œé‡‡ç”¨  PKPushTypeComplication ç±»å‹) â€”â€” å½“ä½ çš„æ•°æ®ä»¥ä¸è§„åˆ™é—´éš”æ›´æ–°æ—¶ï¼Œè¿™ç§æœºåˆ¶ä¼šæœ‰ç”¨ â€”â€” å½“å¤–éƒ¨å‘ç”Ÿä¸€äº›äº‹ä»¶æ—¶ã€‚</li><li>å½“ iPhone app ä»¥æŸç§æ–¹å¼æ¥æ”¶åˆ°æ–°çš„æ•°æ®å¹¶æŠŠå®ƒä¼ è¾“ç»™ watch æ—¶</li><li>é€šè¿‡è®¡åˆ’å®šæœŸçš„åå°åˆ·æ–° â€”â€” å½“ä½ å¸Œæœ›æ‹‰å–æ•°æ®è€Œä¸æ˜¯è¢«åŠ¨ç­‰æ¨é€æ—¶ï¼Œè¿™ç§æ–¹å¼æ›´å¥½ã€‚</li></ul><p>æ³¨æ„ï¼Œä¸ç®¡ä½ é‡‡ç”¨å“ªç§ç­–ç•¥ï¼Œå¯¹äºæˆ‘ä»¬åˆ·æ–°æ•°æ®çš„é¢‘ç‡ä»¥åŠå®Œæˆåˆ·æ–°çš„ç”¨æ—¶ï¼Œæœ‰è®¸å¤šé™åˆ¶ã€‚ (æ¯”å¦‚ï¼Œæ¯å¤©ä¸è¶…è¿‡ 50 ä¸ªæ¨é€é€šçŸ¥) â€”â€” å¦‚æœä½ ç”¨å°½äº†æ‰€æœ‰çš„æ—¶é—´æˆ–è€…æ¯å¤©å¯ç”¨çš„æ¨é€æ•°é‡ï¼Œä½ å°†æ— æ³•å†åœ¨åå°è¿è¡Œï¼Œæœ‰å¯èƒ½è¦ç­‰åˆ°ç¬¬äºŒå¤©ã€‚å¯¹äºè¿™ç‚¹çº¦æŸï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¥½çš„æ–¹æ¡ˆå¯ä»¥ç»•è¿‡ï¼Œä½ ä¹Ÿä¸åº”è¯¥å°è¯•å»å¯»æ‰¾è¿™ç±»æ–¹æ¡ˆã€‚</p><p>æ—¢ç„¶æˆ‘ä»¬çŸ¥é“åŸå¸‚ç›‘æµ‹ç«™æ¯å°æ—¶å‘é€ä¸€æ¬¡æ–°çš„æµ‹é‡æ•°æ®ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è®¡åˆ’å¥½çš„åå°åˆ·æ–°æ¥æ›´æ–°æˆ‘ä»¬çš„ complication ï¼Œå¹¶ä¸”ä¼šåœ¨ <code>ExtensionDelegate</code> ä¸­å®Œæˆã€‚</p><p>ä¸ºäº†ç¡®ä¿æˆ‘ä»¬çš„ app ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€æ ·æˆ‘ç§°ä¸º â€œåå°åˆ·æ–°å¾ªç¯â€ çš„ä¸œè¥¿ï¼šå½“ app å¯åŠ¨æˆ–è€…é‡å¯æ—¶ï¼Œæˆ‘ä»¬å®‰æ’ä¸€æ¬¡åå°åˆ·æ–°ï¼Œç„¶åå½“ app è¢«è¿™ä¸ªåå°åˆ·æ–°å”¤èµ·æ—¶ï¼Œæˆ‘ä»¬åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å®‰æ’ä¸‹ä¸€æ¬¡åå°åˆ·æ–°ï¼Œä»¥ç¡®ä¿è‹¥å¹²æ—¶é—´åæ€»æœ‰æ–°çš„åˆ·æ–°è¢«è®¡åˆ’ã€‚</p><p>æˆ‘ä»¬ä¼šåœ¨æ‰€æœ‰å…¶ä»–äº‹æƒ…ä¹‹å‰å¼€å§‹åšåˆ·æ–°è®¡åˆ’ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•çŸ¥é“åœ¨æˆ‘ä»¬çš„ app è¢«æŒ‚èµ·æˆ–è€…æ€æ­»ä¹‹å‰è¿˜æœ‰å¤šå°‘å¯ç”¨çš„æ—¶é—´ã€‚å¦åˆ™ï¼Œå¦‚æœåœ¨æˆ‘ä»¬è®¾ç½®ä¸‹ä¸€æ¬¡åˆ·æ–°ä¹‹å‰ app å°±è¢«æŒ‚èµ·ï¼Œé‚£ä¹ˆ app å°±ç›¸å½“äºæ²¡è®¾é—¹é’Ÿå°±ç¡è¿‡å»äº†ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šç¡è¿‡å¤´ã€‚ ğŸ˜‰</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ <code>applicationDidFinishLaunching</code> æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ web è¯·æ±‚å‘é€ä¹‹å‰å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•è°ƒç”¨ <code>scheduleNextReload ()</code> :</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationDidFinishLaunching</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="type">NSLog</span>(<span class="string">"ExtensionDelegate: applicationDidFinishLaunching ()"</span>)</span><br><span class="line"> </span><br><span class="line">    scheduleNextReload ()</span><br><span class="line"> </span><br><span class="line">    <span class="type">KrakowPiosDataLoader</span>().fetchData { success <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">if</span> success {</span><br><span class="line">            <span class="keyword">self</span>.reloadActiveComplications ()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="è®¡ç®—ä¸‹ä¸€æ¬¡åˆ·æ–°æ—¶é—´"><a href="#è®¡ç®—ä¸‹ä¸€æ¬¡åˆ·æ–°æ—¶é—´" class="headerlink" title="è®¡ç®—ä¸‹ä¸€æ¬¡åˆ·æ–°æ—¶é—´"></a>è®¡ç®—ä¸‹ä¸€æ¬¡åˆ·æ–°æ—¶é—´</h1><p>åœ¨è®¡åˆ’ä¸‹ä¸€æ¬¡åˆ·æ–°å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®šå‡ºä¸‹ä¸€æ¬¡åˆ·æ–°çš„æ—¶æœºã€‚</p><p>ä¸ºäº†ä¼˜åŒ–åå°åˆ·æ–°çš„è€—æ—¶ï¼Œå°½å¯èƒ½åˆ©ç”¨å¥½çè´µçš„åå°æ—¶é—´ï¼Œæ€è€ƒæ¸…æ¥šæˆ‘ä»¬çš„æ•°æ®ç©¶ç«Ÿéœ€è¦åœ¨ä½•æ—¶å’Œä»¥ä½•ç§é¢‘ç‡æ”¹å˜ã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯ â€”â€” è¯åˆ¸äº¤æ˜“åªå‘ç”Ÿåœ¨å·¥ä½œæ—¶é—´ï¼Œä¸åœ¨å·¥ä½œæ—¶é—´å†…ï¼Œè‚¡ç¥¨ä»·æ ¼ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥åœ¨å¤œé—´é‡è½½ä¸ä¼šæ”¹å˜çš„æ•°æ®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>æˆ‘å¯¹è·å–æ•°æ®çš„ API åšäº†ä¸€äº›æµ‹è¯•ï¼Œæ–°çš„æ•°æ®å‡ ä¹æ€»æ˜¯ 1 ä¸ªæ•´å°æ—¶çš„ 0 åˆ° 10 åˆ†é’Ÿå†…æ·»åŠ ã€‚æ‰€ä»¥æˆ‘å†³å®šæ¯å°æ—¶è¯·æ±‚ä¸€æ¬¡åˆ·æ–°ï¼Œæ€»æ˜¯åœ¨æ¯å°æ—¶çš„ 15 åˆ†åšè¿™ä»¶äº‹ (10:15 ï¼Œ ç„¶å 11:15ï¼Œ ç„¶å 12:15 ï¼Œä»¥æ­¤ç±»æ¨)ã€‚ä¸ºäº†å®ç°è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾…åŠ©æ–¹æ³•æ¥è®©æˆ‘ä»¬åŸºäºå½“å‰æ—¶é—´æ‰¾åˆ°æœ€æ¥è¿‘ xx:15 çš„æ—¶é—´ â€”â€” å¹¸è¿çš„æ˜¯ï¼Œåˆ©ç”¨ NSCalendar API å¾ˆå®¹æ˜“åšåˆ°ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextReloadTime</span><span class="params">(after date: Date)</span></span> -&gt; <span class="type">Date</span> {</span><br><span class="line">    <span class="keyword">let</span> calendar = <span class="type">Calendar</span>(identifier: .gregorian)</span><br><span class="line">    <span class="keyword">let</span> targetMinutes = <span class="type">DateComponents</span>(minute: <span class="number">15</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> nextReloadTime = calendar.nextDate (</span><br><span class="line">        after: date,</span><br><span class="line">        matching: targetMinutes,</span><br><span class="line">        matchingPolicy: .nextTime</span><br><span class="line">    )!</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å¦‚æœå’Œå½“å‰æ—¶é—´é—´éš”å°äº 5 åˆ†é’Ÿï¼Œé‚£ä¹ˆè·³è¿‡ï¼Œå°è¯•ä¸‹ä¸€ä¸ªå°æ—¶ </span></span><br><span class="line">    <span class="keyword">if</span> nextReloadTime.timeIntervalSince (date) &lt; <span class="number">5</span> * <span class="number">60</span> {</span><br><span class="line">        nextReloadTime.addTimeInterval (<span class="number">3600</span>)</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> nextReloadTime</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="è®¡åˆ’åå°åˆ·æ–°"><a href="#è®¡åˆ’åå°åˆ·æ–°" class="headerlink" title="è®¡åˆ’åå°åˆ·æ–°"></a>è®¡åˆ’åå°åˆ·æ–°</h1><p>æœ€åï¼Œä¸ºäº†åœ¨è®¡ç®—å¥½çš„æœªæ¥æ—¶ç‚¹è¯·æ±‚æ›´æ–°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>WKExtension</code> (ç­‰ä»·äº <code>UIApplication</code>) ä¸Šè°ƒç”¨  <code>scheduleBackgroundRefresh</code> ï¼š</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scheduleNextReload</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">let</span> targetDate = nextReloadTime (after: <span class="type">Date</span>())</span><br><span class="line"> </span><br><span class="line">    <span class="type">NSLog</span>(<span class="string">"ExtensionDelegate: scheduling next update at %@"</span>, <span class="string">"\(targetDate)"</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="type">WKExtension</span>.shared ().scheduleBackgroundRefresh (</span><br><span class="line">        withPreferredDate: targetDate,</span><br><span class="line">        userInfo: <span class="literal">nil</span>,</span><br><span class="line">        scheduledCompletion: { <span class="number">_</span> <span class="keyword">in</span> }</span><br><span class="line">    )</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä½ ä¼ å…¥çš„æ—¥æœŸæ˜¯ä½ å¸Œæœ›ä½ çš„ app è¢«å”¤èµ·çš„æ—¶é—´ã€‚å½“ç„¶ï¼Œç³»ç»Ÿä¼šæŠŠå®ƒçœ‹åšä¸€ç§æç¤º â€”â€” ä½ çš„ app å®é™…è¢«å”¤èµ·çš„æ—¶é—´è¿˜å¯èƒ½å–å†³äºå„ç§å› ç´ ï¼ˆæˆ‘çŒœæµ‹è¿™å…¶ä¸­åŒ…å«ç”µé‡ï¼Œå……ç”µçŠ¶æ€ï¼Œç½‘ç»œè®¿é—®ï¼Œä½ è¯·æ±‚åˆ·æ–°çš„é¢‘ç‡ï¼Œä½ æ¯æ¬¡åˆ·æ–°çš„è€—æ—¶ï¼Œç­‰ç­‰ï¼‰ã€‚æ‰€ä»¥ï¼Œä¸è¦å‡å®šä½ çš„ app æ€»æ˜¯èƒ½åœ¨å›ºå®šçš„é—´éš”è¿è¡Œã€‚</p><p>ä¸è¿‡ï¼ŒåŸºäºæˆ‘çš„æµ‹è¯•ï¼Œåœ¨å®è·µä¸­ä¸€ä¸ªæ‹¥æœ‰ä¸€ä¸ªæ´»åŠ¨ complication ï¼Œæ¯éš”ä¸€ä¸ªå°æ—¶æ›´æ–°çš„ app ï¼Œé€šå¸¸åœ¨ 10 ç§’ä»¥åçš„è¯·æ±‚æ—¶é—´ï¼Œåœ¨ç™½å¤©çš„è¡¨ç°æ¯”åœ¨å¤œé—´å……ç”µçš„è¡¨ç°è¦å¥½å¾ˆå¤šï¼Œæˆ–è€… app è¿è¡Œé¢‘ç¹ï¼Œæˆ–è€… app å¤„äº dock ä½†æ˜¯æ²¡æœ‰ complication æ—¶ï¼Œåå°ä»»åŠ¡è¢«è°ƒç”¨çš„æœºä¼šæ›´å°‘ã€‚ä¸åœ¨ dock ä¹Ÿä¸æ²¡æœ‰ complication çš„ app ï¼Œå‡ ä¹ä¸è¢«è°ƒç”¨ã€‚</p><p><code>scheduledCompletion</code> å—åœ¨æ–‡æ¡£ä¸­è¢«æè¿°ä¸º â€œA block that is called by the system after the background app refresh task has completedâ€ ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒæ˜¯åœ¨ä¸‹ä¸€ä¸ªåˆ·æ–°ä»»åŠ¡è®¡åˆ’å®Œæˆæ—¶å°±è¢«ç«‹å³æ‰§è¡Œã€‚ä¸è¿‡ç”±äºå®ƒæ˜¯ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªç©ºçš„å—ã€‚è‡³äº <code>userInfo</code> ï¼Œå®ƒå¯ä»¥ä¼ é€’ä¸€äº›å…ƒæ•°æ®ç»™åå°ä»»åŠ¡çš„ handler ï¼Œä½†è¿™é‡Œæˆ‘ä»¬ç”¨ä¸ä¸Šã€‚</p><h1 id="å¤„ç†åå°ä»»åŠ¡"><a href="#å¤„ç†åå°ä»»åŠ¡" class="headerlink" title="å¤„ç†åå°ä»»åŠ¡"></a>å¤„ç†åå°ä»»åŠ¡</h1><p>watchOS ä¸Šçš„åå°åˆ·æ–°æ˜¯é€šè¿‡åœ¨å„ç§æ—¶åˆ»ä»åå°å”¤èµ·ä½ çš„ app ï¼Œç„¶åè°ƒç”¨ä»£ç†æ–¹æ³• <code>handle (_ backgroundTasks:)</code> ï¼Œä¼ ç»™å®ƒä¸€ä¸ªæˆ–è€…å¤šä¸ªå–å†³äºä¸Šä¸‹æ–‡çš„ â€œåå°ä»»åŠ¡â€ã€‚è¿™ä¸ªæ–¹æ³•å¯¹äºä½ çš„ app åå°äº‹åŠ¡è‡³å…³é‡è¦ï¼Œä¸ç®¡ä½ æ„å»ºçš„ app æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå‡ ä¹ä¸€å®šè¦åœ¨è¿™é‡Œåšäº›äº‹æƒ…ã€‚</p><p>ä»»åŠ¡çš„ç±»å‹æœ‰ä¸å°‘ï¼Œä½†ä½ åº”å½“åšè·Ÿå½“æ—¶æ¥æ”¶åˆ°çš„ä»»åŠ¡ç›¸å…³çš„å·¥ä½œã€‚æ¯”å¦‚æœ‰çš„ä»»åŠ¡æ˜¯å¤„ç† URLSession è¿”å›çš„æ•°æ®ï¼Œæœ‰çš„ä»»åŠ¡æ˜¯å¤„ç† iPhone è¿”å›çš„æ•°æ®ï¼Œæœ‰çš„ä»»åŠ¡æ˜¯å¤„ç† Siri å¿«æ·æ–¹å¼ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬è¦å¤„ç†çš„æ˜¯ä¸€ç§é€šè¿‡ä¹‹å‰çš„ <code>scheduleBackgroundRefresh</code> å‘èµ·çš„ä»»åŠ¡ â€”â€” è¿™æ˜¯ä¸€ç§æœ€æ™®é€šçš„ <code>WKApplicationRefreshBackgroundTask</code> ã€‚è¿™ç§ä»»åŠ¡æ„å‘³ç€ä½ çš„ app æ˜¯ç”±äºä½ è‡ªå·±çš„è¯·æ±‚è€Œè¢«å”¤èµ·çš„ï¼Œä»¥ä¾¿ä½ å¯ä»¥è¿è¡Œä¸€äº›åå°çš„ URL è¯·æ±‚ï¼Œæ›´æ–°ä½ çš„ complication ç­‰ç­‰ã€‚</p><p>å½“ app åœ¨åå°è¢«å”¤èµ·æ—¶ï¼Œåœ¨ <code>handle (_ backgroundTasks:)</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åšçš„äº‹æƒ…è·Ÿå¯åŠ¨æ—¶çš„å·®ä¸å¤š â€”â€” æˆ‘ä»¬è®¡åˆ’ä¸‹ä¸€æ¬¡åˆ·æ–°ï¼Œå¹¶å°è¯•æ›´æ–°æ•°æ®ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åªç”¨äº† <code>WKApplicationRefreshBackgroundTask</code> ï¼Œå¿½ç•¥å…¶ä»–çš„ä»»åŠ¡ç±»å‹ã€‚ä¸è¿‡ï¼Œåœ¨å®Œæˆä»»åŠ¡åï¼Œè®°å¾—æ€»æ˜¯è°ƒç”¨ <code>setTaskCompletedWithSnapshot ()</code> æ–¹æ³•ï¼Œè¿™å¾ˆå…³é”®ï¼Œå³ä¾¿å¯¹äºé‚£äº›è¢«ä½ å¿½ç•¥æ‰å¹¶ä¸”ä¸å¤„ç†çš„ä»»åŠ¡ã€‚ä¸è¿‡ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•è¡¨æ˜æˆ‘ä»¬çš„äº‹å¹²å®Œäº†ï¼Œåœ¨è¿™ä¹‹åæˆ‘ä»¬çš„ app å¯èƒ½ä¼šè¢«æŒ‚èµ·ã€‚</p><figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">handle</span><span class="params">(<span class="number">_</span> backgroundTasks: Set&lt;WKRefreshBackgroundTask&gt;)</span></span> {</span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> backgroundTasks {</span><br><span class="line">        <span class="keyword">switch</span> task {</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> backgroundTask <span class="keyword">as</span> <span class="type">WKApplicationRefreshBackgroundTask</span>:</span><br><span class="line">            <span class="type">NSLog</span>(<span class="string">"ExtensionDelegate: handling WKApplicationRefreshBackgroundTask"</span>)</span><br><span class="line"> </span><br><span class="line">            scheduleNextReload ()</span><br><span class="line"> </span><br><span class="line">            <span class="type">KrakowPiosDataLoader</span>().fetchData { success <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">if</span> success {</span><br><span class="line">                    <span class="keyword">self</span>.reloadActiveComplications ()</span><br><span class="line">                }</span><br><span class="line"> </span><br><span class="line">                <span class="type">NSLog</span>(<span class="string">"ExtensionDelegate: completed WKApplicationRefreshBackgroundTask"</span>)</span><br><span class="line">                backgroundTask.setTaskCompletedWithSnapshot (<span class="literal">false</span>)</span><br><span class="line">            }</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            task.setTaskCompletedWithSnapshot (<span class="literal">false</span>)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è®© watchOS æ¨¡æ‹Ÿå™¨è¿è¡Œ app åå°åˆ·æ–°ä»»åŠ¡éœ€è¦ä¸€äº›æŠ€å·§ï¼Œå³ä½¿ä½ å·²ç»å®‰æ’å®ƒä»¬åœ¨ä¸€ä¼šä¹‹åè¿è¡Œã€‚å¦‚æœä½ æµ‹è¯•æ—¶å‘ç°ä¸å·¥ä½œï¼Œå¯ä»¥å°è¯•éšæœºåˆ‡æ¢ app ï¼Œä¸»å±å’Œè¡¨ç›˜ï¼Œç›´åˆ°åå°åˆ·æ–°ä»»åŠ¡å¯ä»¥å·¥ä½œã€‚</p><hr><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å°±è¿™äº›ï¼Œæˆ‘ä»¬å®Œæˆäº†ï¼ğŸ‰ æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ¯å°æ—¶è¿è¡Œçš„ app ï¼Œä» web API åŠ è½½æ–°æ•°æ®ï¼Œæ˜¾ç¤ºåˆ°ä½ é€‰æ‹©çš„è¡¨ç›˜ä¸Šï¼Œä½ åªè¦æŠ¬è…•å°±èƒ½çœ‹åˆ°å®ƒã€‚</p><p>ä¾æˆ‘çœ‹æ¥ï¼Œä¸ºäº†æ„å»ºä¸€ä¸ªå¸¦ complication çš„æœ€å°å¯è¡Œçš„ watch app ï¼Œä½ éœ€è¦åšè¿™äº›äº‹ï¼š</p><ol><li>ç¡®å®šä½ çš„ app æƒ³è¦åœ¨ complication ä¸Šå±•ç¤ºçš„æœ€é‡è¦çš„ä¸œè¥¿ã€‚</li><li>ç¡®å®šä½ çš„ complication å†…å®¹ä»€ä¹ˆæ—¶å€™æ”¹å˜ï¼Œä½ çš„ timeline å­˜æ”¾ä»€ä¹ˆä»¥åŠå­˜åœ¨å“ªé‡Œã€‚</li><li>æµè§ˆ complication å®¶æ—ä»¥åŠå¯¹åº”å¯ç”¨çš„æ¨¡æ¿ï¼Œç¡®å®šå“ªäº›æœ€é€‚åˆä½ </li><li>å®ç°ä» web æˆ–è€…ç³»ç»Ÿ API åŠ è½½æ•°æ®çš„ä»£ç </li><li>å®ç° complication æ•°æ®æºè¦æ±‚çš„æ–¹æ³•ï¼Œä»¥æ„å»º <code>CLKComplicationTimelineEntry</code> å’Œ <code>CLKComplicationTemplate</code> å¯¹è±¡ï¼Œä»¥åˆé€‚çš„æ–¹å¼å±•ç¤ºä½ çš„å†…å®¹ã€‚</li><li>ç¡®ä¿ä½ çš„ app å®šæœŸæ›´æ–°ï¼Œç”¨è®¡åˆ’çš„åå°åˆ·æ–°æˆ–è€…å€ŸåŠ©æ¨é€é€šçŸ¥ (åˆ†æä½ çš„æ•°æ®å˜åŒ–çš„æ¨¡å¼ï¼Œä»¥ä¾¿ä¼˜åŒ–åå°æ—¶é—´)</li><li>æµ‹è¯•ï¼Œæµ‹è¯•ï¼Œå†æµ‹è¯•ï¼Œç”¨ä»»ä½•ä½ èƒ½æƒ³åˆ°çš„åœºæ™¯å’Œç»„åˆ ğŸ™‚</li></ol><p>å¦‚æœä½ åªæ˜¯æ„å»ºä¸€ä¸ªé™æ€çš„ complication ï¼Œæ°¸è¿œä¸æ›´æ–°ï¼Œå°±åƒ Apple çš„ â€œlauncherâ€ å‹çš„ complications ï¼Œ æ¯”å¦‚ Breathe ï¼Œ Maps ï¼Œ Reminders ç­‰ç­‰ã€‚é‚£ä¹ˆï¼Œä½ åªéœ€è¦åšè¿™äº›äº‹ï¼š</p><ol><li>ä¸ºæ‰€æœ‰æ”¯æŒçš„ complications æŒ‘é€‰ä¸€ä¸ªå›¾æ ‡ã€‚</li><li>å®ç°æ•°æ®æºæ–¹æ³•ï¼Œç”¨ â€œsingle iconâ€ æ¨¡æ¿è¿”å›å•ä¸€å®ä½“çš„ timeline ã€‚</li></ol><p>è¿™ç§æƒ…å†µä¸‹ä½ ä¸éœ€è¦è®¡åˆ’åå°åˆ·æ–°ä»¥æ›´æ–° complication ï¼Œå› ä¸ºå®ƒæ°¸è¿œä¸å˜ã€‚ä¸è¿‡ï¼Œç”±äº complication éœ€è¦é“¾æ¥åˆ°çœŸå® app æ—¶ï¼Œä¹Ÿæœ‰å¤§é‡å·¥ä½œéœ€è¦åšã€‚ ğŸ˜‰</p><p>å·¥ç¨‹ä¸­çš„ä»£ç å¯ä»¥ä»è¿™ä¸ªä»“åº“æ‰¾åˆ°: <a href="https://github.com/mackuba/SmogWatch" target="_blank" rel="noopener">https://github.com/mackuba/SmogWatch</a> (master åˆ†æ”¯æœ€æ–°ä»£ç ï¼Œæˆ–è€…å¯¹åº”è¿™ç¯‡æ–‡æ¡£çš„ post2 åˆ†æ”¯çš„ç‰ˆæœ¬)ã€‚ å®ƒæ˜¯ WTFPL-licensed ï¼Œæ‰€ä»¥å°½ç®¡æ‹¿å»ç”¨ï¼Œä½ å¯ä»¥åˆ†äº«ç»™æˆ‘ä½ éƒ½åšå‡ºä»€ä¹ˆå¥½ç©çš„ä¸œè¥¿ï¼</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è¦åšä¸€ä¸ª watch appï¼Œé€»è¾‘ä¸Šï¼Œä½ ä¼šå…ˆæƒ³åˆ°ä»ä¸» UI å¼€å§‹ã€‚æ¯•ç«Ÿï¼Œnotfication å’Œ complication æ˜¯å¯é€‰çš„ã€‚äººä»¬è¯´åˆ° app ï¼Œé€šå¸¸æŒ‡çš„å°±æ˜¯ä¸» UI ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p
      
    
    </summary>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/categories/development/"/>
    
    
      <category term="watchOS" scheme="https://theinfinitegame.tech/tags/watchOS/"/>
    
      <category term="development" scheme="https://theinfinitegame.tech/tags/development/"/>
    
  </entry>
  
  <entry>
    <title>watchOS å­¦ä¹ ç¬”è®° | Big Picture</title>
    <link href="https://theinfinitegame.tech/development/note-watchos-big-picture/"/>
    <id>https://theinfinitegame.tech/development/note-watchos-big-picture/</id>
    <published>2020-02-20T03:42:05.000Z</published>
    <updated>2020-02-20T07:01:30.400Z</updated>
    
    <content type="html"><![CDATA[<h1 id="watchOS-åº”ç”¨"><a href="#watchOS-åº”ç”¨" class="headerlink" title="watchOS åº”ç”¨"></a>watchOS åº”ç”¨</h1><p>ç›¸æ¯” macOSï¼ŒiOS å’Œ tvOS ï¼ŒwatchOS (ç›®å‰ä¸ºæ­¢) å¹¶éæ˜¯å®Œå…¨ç‹¬ç«‹çš„å¹³å°ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¾èµ–é…å¯¹çš„ iPhone ã€‚</p><blockquote><p>watchOS 6.0 ä¹‹åï¼Œwatch app å¯ä»¥ç‹¬ç«‹å‘å¸ƒå’Œå®‰è£…ï¼Œä¹Ÿå°±è¯´ï¼Œåº”ç”¨ç”Ÿæ€ä¸Šå¯ä»¥ç‹¬ç«‹äº†ã€‚ä½†æ˜¯ï¼ŒæŸäº›åŠŸèƒ½è¦æƒ³å‘æŒ¥æœ€å¤§çš„æ•ˆç”¨ï¼Œè¿˜è¦å€ŸåŠ© iPhone è®¾å¤‡çš„è®¡ç®—èƒ½åŠ›ã€‚æ¯•ç«Ÿï¼Œåè€…ç›®å‰è¿˜æ˜¯è¦å¼ºå¤§å¾ˆå¤šã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå½“éœ€è¦ç”¨åˆ° watch æœ¬èº«ä¸å…·å¤‡çš„ç¡¬ä»¶èƒ½åŠ›æ—¶ï¼Œå¦‚è§†é¢‘æ‹æ‘„ï¼Œä½ ä»å¯ä»¥æŠŠ watch è§†ä¸ºæ§åˆ¶å™¨ã€‚è¿™ä¸ªè·Ÿäººä»¬çœ‹å¾…æ—©æœŸæ™ºèƒ½æ‰‹è¡¨çš„è§†è§’ä¸€è‡´ã€‚</p></blockquote><h1 id="Watch-app-å’Œæ‰©å±•"><a href="#Watch-app-å’Œæ‰©å±•" class="headerlink" title="Watch app å’Œæ‰©å±•"></a>Watch app å’Œæ‰©å±•</h1><p>watchOS app è·Ÿ iOS app æœ€æ˜¾è‘—çš„å·®å¼‚æ˜¯å‰è€…è¢«ä¸¥æ ¼çš„åˆ†æˆäº†ä¸¤éƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†ç§°ä¸º Watch app â€”â€” æœ‰ç‚¹æ··æ·†å¯¹å§ï¼Ÿæ­£å¸¸ç†è§£ï¼Œä¸¤éƒ¨åˆ†åŠ èµ·æ¥æ‰æ˜¯ä¸€ä¸ªå®Œæ•´çš„ app ã€‚ä½†å­—é¢ä¸Šï¼Œè¿™ä¸ªä¸»è¦ç”± UI æ„æˆçš„éƒ¨åˆ†å°±å« Watch app ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹²è„†ä»¥ UI æ¥ä»£è¡¨ï¼Œç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯ WatchKit æ‰©å±•ã€‚ä¸¤éƒ¨åˆ†æœ‰å„è‡ªç‹¬ç«‹çš„æ•°æ®å®¹å™¨ï¼Œå¦‚æœéœ€è¦å…±äº«å®¹å™¨ä¸­çš„æ–‡ä»¶ï¼Œéœ€è¦ç”¨åˆ° <strong>App Groups</strong> ã€‚</p><p>watch OS 6 å¼•å…¥ SwiftUI åï¼Œæƒ…å†µå˜å¾—æœ‰äº›å¤æ‚ã€‚å› ä¸º SwiftUI ä¸­ï¼ŒUI å³ä»£ç ã€‚åŸæ¥çš„ watch app éƒ¨åˆ†åªæœ‰ä¸€ä¸ª hosting view ã€‚</p><h1 id="è¿™äº›å¹´-watchOS-çš„å˜åŒ–"><a href="#è¿™äº›å¹´-watchOS-çš„å˜åŒ–" class="headerlink" title="è¿™äº›å¹´ watchOS çš„å˜åŒ–"></a>è¿™äº›å¹´ watchOS çš„å˜åŒ–</h1><p>watchOS 1 ä¸­ï¼Œapp UI è¿è¡Œåœ¨ watch ä¸Šï¼Œä½†æ‰©å±•è¿è¡Œåœ¨ iPhone ä¸Šã€‚æ‰©å±•å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸è®¾å¤‡ä¸Šçš„å…¶ä»– iOS app é€šä¿¡ï¼Œä½†æ‰©å±•å’Œ watch UI ä¹‹é—´çš„é€šä¿¡æ˜¯è®¾å¤‡é—´çš„ï¼Œå› æ­¤æ•´ä¸ª app è¿è¡Œå¾ˆæ…¢ã€‚</p><p>watchOS 2 ä¸­ï¼Œæ‰©å±•è¢«ç§»åˆ°äº† watch ä¸Šã€‚watch app å’Œ iOS app é€šä¿¡éœ€è¦å€ŸåŠ© <strong>WatchConnectivty framework</strong> ã€‚å› ä¸ºæ‰©å±•å¤„äº watch ä¸Šï¼Œæ‰€ä»¥èƒ½ç”¨åˆ° SDK è‡ªç„¶å˜å°‘äº†ã€‚å½“ç„¶ï¼Œåæ¥å„ç§ç¼ºå¤±çš„ SDK ä¹Ÿè¢«é™†ç»­æ·»åŠ åˆ° watchOS ä¸­ã€‚</p><p>watchOS 4 ä¸­ï¼Œæ‰©å±•å’Œ UI è¢«åˆä¸ºä¸€ä¸ªè¿›ç¨‹è¿è¡Œã€‚å½“ç„¶ï¼Œè¿™ä¸€ç‚¹å¯¹å¼€å‘è€…æ¥è¯´ç›¸å¯¹æ— æ„Ÿï¼Œå”¯ä¸€çš„æ•ˆæœæ˜¯ app è¿è¡Œçš„æ›´å¿«äº†ã€‚</p><p>watch OS 5 ä»¥å‰ï¼ŒWatchKit app éœ€è¦ä¾èµ– iPhone çš„è¿æ¥æ¥å®Œæˆå¤§éƒ¨åˆ†é€šä¿¡ã€‚å®ƒåªèƒ½è¿æ¥ iPhone è¿æ¥è¿‡çš„ â€œå·²çŸ¥ Wi-Fi ç½‘ç»œâ€ ã€‚watch OS 5 å¼•å…¥äº†è¿æ¥å…¨æ–° WiFi ç½‘ç»œçš„èƒ½åŠ›ã€‚</p><p>åœ¨ watch OS 5 åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œwatch app æ€»æ˜¯è¦æ±‚æœ‰ä¸€ä¸ªä¼´ç”Ÿçš„ iOS app ã€‚watch app æ˜¯å†…ç½®åœ¨ iOS app bundle ä¸­ï¼Œå®ƒçš„å®‰è£…ä¹Ÿæ˜¯é€šè¿‡å…ˆå®‰è£… iOS app ï¼Œå†é—´æ¥ä¸‹è½½åˆ° watch ä¸Šæ¥å®Œæˆçš„ã€‚æœ€è¿‘çš„ watch OS 6 ï¼Œwatch app çœŸæ­£æ„ä¹‰ä¸Šå®£å¸ƒç‹¬ç«‹ã€‚ä½ æ—¢å¯ä»¥é‡‡ç”¨ä¹‹å‰çš„ iOS app + watch app çš„æ–¹å¼ï¼Œ ä¹Ÿå¯ä»¥åªå¼€å‘ç‹¬ç«‹çš„ watch app ã€‚watch app ä¸å†æ˜¯å†…ç½®åœ¨ iOS app ä¸­ï¼Œä¸¤è€…è¢«åˆ†éš”åœ¨å„è‡ªå¹³å°çš„ App Store å‘å¸ƒã€‚å› æ­¤ï¼Œå¯¹äºå› ç‰¹ç½‘çš„è¿æ¥æ–¹å¼ï¼Œæœ€æ–°çš„å»ºè®®æ˜¯ å€ŸåŠ© <strong>URLSession</strong> ï¼Œ<strong>CloudKit</strong> ç­‰ç›´æ¥ä¸‹è½½æ•°æ®åˆ° watch ï¼Œåªæœ‰åœ¨çœŸçš„éœ€è¦è·Ÿ iPhone äº¤æ¢æ•°æ®æ—¶æ‰ç”¨åˆ° <strong>WatchConnectivity</strong> ã€‚</p><hr><h1 id="å¤šäºä¸€ä¸ªç”¨æˆ·æ¥å£"><a href="#å¤šäºä¸€ä¸ªç”¨æˆ·æ¥å£" class="headerlink" title="å¤šäºä¸€ä¸ªç”¨æˆ·æ¥å£"></a>å¤šäºä¸€ä¸ªç”¨æˆ·æ¥å£</h1><p>iOS app é€šå¸¸æœ‰ä¸€ä¸ªä¸»è¦çš„ç”¨æˆ·å…¥å£ã€‚äººä»¬æƒ³åˆ° iOS app çš„æ—¶å€™ï¼Œé€šå¸¸æƒ³åˆ°çš„æ˜¯ä¸»ç•Œé¢ä¸Šçš„å›¾æ ‡ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰å„ç§æ‰©å±•å¯ä»¥è®¿é—® app çš„ä¸åŒéƒ¨åˆ†ï¼Œä½†æ˜¯é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸» app çš„é™„å±ã€‚ä½ ä½¿ç”¨ app çš„ä¸»è¦å§¿åŠ¿æ˜¯æ‰“å¼€ä¸» app ã€‚</p><p>æ¥åˆ° watchOS ï¼Œæƒ…å†µå¤§ä¸ç›¸åŒã€‚ä¸» UI ï¼Œæ ¹æ®ä½ çš„ç”¨ä¾‹ï¼Œå¾ˆæœ‰å¯èƒ½ä¸æ˜¯æœ€å¸¸è¢«ä½¿ç”¨çš„éƒ¨åˆ†ã€‚å…¶ä¸»è¦åŸå› åœ¨äº iPhone å’Œ Apple Watch å®Œå…¨ä¸åŒçš„äº¤äº’æ¨¡å¼ã€‚ä½ ä¸å¯èƒ½åƒåœ¨ iPhone ä¸Šé‚£æ ·åœ¨ watch çš„å±å¹•ä¸ŠèŠ±å¾ˆé•¿çš„æ—¶é—´æµè§ˆå†…å®¹å§ï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œé‚£å¾ˆä¸èˆ’æœã€‚</p><p>å¯¹äº watchOS ï¼ŒApple ä¸€ç›´é‡å¤çš„å…³é”®è¯æ˜¯ <strong>glances</strong> æˆ–è€…è¯´ <strong>glanceable</strong> ã€‚æœŸæœ›çš„ app äº¤äº’æ–¹å¼æ˜¯ï¼šæŠ¬èµ·æ‰‹è…•ï¼Œçœ‹è¡¨ï¼Œåšä¸€ä¸¤ä¸ªç‚¹å‡»ï¼ˆæˆ–è€…ç”šè‡³éƒ½ä¸ç‚¹å‡»ï¼‰ï¼Œæˆ–è€…è½¬ä¸€ä¸‹æ•°å­—è¡¨å† ï¼Œç„¶åæ”¾ä¸‹æ‰‹è…•ï¼Œå›åˆ°ç°å®ã€‚è¿™ä¸€ç³»åˆ—åŠ¨ä½œçš„å¹³å‡æ—¶é—´æ˜¯ä»¥ç§’è®¡çš„ã€‚å®é™…ä¸Šï¼Œå»ºè®®æ˜¯åœ¨ 2 ç§’å†…è®©ç”¨æˆ·æ‰¾åˆ°ç›®æ ‡ä¿¡æ¯ (glanceable) æˆ–è€…æ‰§è¡ŒåŠ¨ä½œ (actionable) ã€‚</p><p>å¦‚æœä½ ç”¨è¿‡ watchOS app ï¼Œä½ åº”è¯¥çŸ¥é“é€šè¿‡ä¸» app æ‰¾åˆ°ç›®æ ‡ä¿¡æ¯éœ€è¦ä¸€ç‚¹æŠ€å·§ã€‚é¦–å…ˆï¼Œä½ è¦åœ¨ä¸»å±ä¸Šé‚£ä¸€å †å…­è¾¹å½¢ç½‘æ ¼ä¸­æ‰¾åˆ° app ï¼Œç„¶åç‚¹å‡»ï¼Œç­‰å¾…åŠ è½½ï¼Œç„¶ååœ¨ app çš„ä¸åŒå±ä¹‹é—´å¯»æ‰¾ä½ è¦çš„ä¸œè¥¿ã€‚åŸºäºæ­¤ï¼Œä¹Ÿå–å†³äºä½ çš„ app ç±»å‹ï¼Œææœ‰å¯èƒ½ä½ çš„ä¸» UI åªä¼šå¶å°”è¢«ç”¨åˆ°ã€‚ WatchKit app å®é™…ä¸Šæä¾›äº†ä¸€äº›å…¶ä»–çš„å…¥å£æ¥äº¤äº’ï¼Œå®ƒä»¬å¯èƒ½æ›´é‡è¦ã€‚</p><h3 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h3><p>é€šçŸ¥å®é™…ä¸Šæ˜¯ watch çš„ä¸€ä¸ªç»ä½³çš„åº”ç”¨åœºæ™¯ã€‚èŠ±ä¸åˆ°ä¸€ç§’çš„æ—¶é—´çœ‹ä¸€çœ¼æ‰‹è¡¨ï¼Œæ¯”ä»å£è¢‹é‡Œæå‡ºæ‰‹æœºæ¥çœäº‹ä¸å°‘å§ï¼Ÿè®¸å¤šäººä¼šå‘Šè¯‰ä½ ï¼Œä»–ä»¬æˆ´ watch çš„ä¸»è¦ç”¨é€”å°±æ˜¯çœ‹é€šçŸ¥ã€‚</p><p>ä½†æ˜¯ï¼Œé€šçŸ¥ç”¨çš„å¥½ä¸å¥½ï¼Œå¯¹ä¸å¯¹ï¼Œä¸»è¦è¿˜æ˜¯å–å†³äºä½ çš„ app ç±»å‹ï¼Œé€šçŸ¥çš„ç›®çš„ã€‚æ¯”å¦‚ï¼Œä½ çš„ç›®çš„æ˜¯ä¸å®šæœŸçš„é€šçŸ¥ç”¨æˆ·æŸäº›äº‹æƒ…å‘ç”Ÿäº†ï¼Œé€šçŸ¥å¯ä»¥æ˜¯ä½ çš„ app å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚å…¸å‹çš„ï¼Œæé†’äº‹é¡¹ app ã€‚</p><p>watchOS ä¸Šé€šçŸ¥çš„ UI æœ‰ä¸‰ç§å˜ä½“ï¼š</p><ul><li>åªæœ‰é¢„åˆ¶çš„é™æ€ä¿¡æ¯</li><li>éäº¤äº’å¼çš„åŠ¨æ€ä¿¡æ¯</li><li>å¯äº¤äº’çš„åŠ¨æ€ä¿¡æ¯ï¼ŒwatchOS 5 å¼•å…¥ </li></ul><p>watch OS 6 å…è®¸æ¨é€ç»•è¿‡ iPhone ï¼Œåªåˆ°è¾¾ Apple Watch çš„è¿œç¨‹é€šçŸ¥ã€‚</p><h3 id="Glances-Dock"><a href="#Glances-Dock" class="headerlink" title="Glances / Dock"></a>Glances / Dock</h3><p>watchOS 1 å¼€å§‹ï¼Œå¼•å…¥äº†ä¸€ç§è¢«å«åš <strong>glance</strong> çš„ç•Œé¢ï¼Œå¡ç‰‡å¼ï¼Œå¯ç‚¹å‡»ï¼Œæ°´å¹³æ»šåŠ¨ã€‚å€ŸåŠ© storyboard ä¸Šå•ç‹¬çš„åœºæ™¯æ„å»ºã€‚</p><p>watchOS 3 å¼€å§‹ï¼Œ<strong>glance</strong> è¢«åºŸå¼ƒï¼Œç”± <strong>dock</strong> å–ä»£ï¼Œåè€…æ˜¯é€šè¿‡æŒ‰å‹è¡¨ä¾§çš„é•¿æŒ‰é’®è®¿é—®ã€‚å®ƒçš„å·¥ä½œæ–¹å¼å’Œ glance ç›¸ä¼¼ï¼Œä½†æ˜¯å¡ç‰‡çš„å¤–è§‚æ˜¯åŸºäºä¸» app çš„å®é™… UI (ç±»ä¼¼ iOS ä¸Šçš„ä½“éªŒ)ï¼Œé€šè¿‡ç³»ç»Ÿå¯¹ app ç”Ÿå‘½å‘¨æœŸæŸäº›èŠ‚ç‚¹çš„å¿«ç…§æ¥å®ç°ã€‚å½“ä½ å®Œæˆæ»šåŠ¨ï¼Œé€‰æ‹©äº†æŸä¸ª app åï¼Œç³»ç»Ÿä¼šå”¤é†’è¿™ä¸ª app ï¼Œä¸ä¹…ä¹‹åè¿™ä¸ª app å®é™…çš„ live è§†å›¾ä¼šæ›´æ–° dock çš„é™æ€å›¾ç‰‡ã€‚</p><p>watch OS 4 ä¹‹åï¼Œdock å˜æˆç«–å‘æ»šåŠ¨ï¼Œè·Ÿ iOS çš„ä½“éªŒæ›´ç›¸ä¼¼ã€‚</p><h3 id="Complications"><a href="#Complications" class="headerlink" title="Complications"></a>Complications</h3><p>â€œ<strong>Complications</strong>â€œ æ˜¯ Apple ç»™è¡¨ç›˜ä¸Šçš„å„ç§ widget å–çš„ä¸€ä¸ªæ¯”è¾ƒæœ‰é€¼æ ¼çš„åå­—ã€‚</p><img src="/images/watch-complications.png" width="68%" height="68%" style="margin: 10 auto;"><p>Complications æœ‰å¾ˆå¤šä¸åŒçš„å®¶æ—ï¼Œä¸ºä¸åŒçš„è¡¨ç›˜è®¾è®¡ â€”â€” åœ†å½¢çš„ï¼ŒçŸ©å½¢çš„ï¼Œå°çš„ï¼Œå¤§çš„ã€‚è¿™äº› complictions çš„å…±åŒç‚¹æ˜¯å±•ç¤ºä¿¡æ¯çš„ç©ºé—´æå…¶æœ‰é™ï¼Œä¸€ç›´å¯è§ï¼ˆæ¿€æ´»çŠ¶æ€ï¼‰ï¼Œå› æ­¤éœ€è¦ä¿æŒæœ€æ–°çŠ¶æ€ã€‚</p><p>ä½ å¯ä»¥æƒ³è±¡ï¼Œcomplication çš„ç‰¹ç‚¹æ˜¯ä¸å¯èƒ½é€šè¿‡è®© app æŒç»­è¿è¡Œåœ¨åå°ï¼Œå¹¶ä¸”å®Œå…¨è®¿é—®è¡¨ç›˜çš„æ–¹å¼æ¥å®ç°çš„ã€‚å› ä¸ºè¿™æ ·åšç”µæ± æ’‘ä¸ä½ã€‚</p><p>Apple çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½ éœ€è¦å‘¨æœŸæ€§çš„æå‰æä¾›ä¸€ä¸ªåŒ…å«ç»™å®šæ—¶é—´èŒƒå›´çš„ <strong>timeline</strong> æ•°æ®ç»™ complication ç”¨äºæ˜¾ç¤ºã€‚ç³»ç»Ÿå­˜å‚¨è¿™ä»½æ•°æ®ï¼Œåˆ°æ—¶é—´ç‚¹äº†è‡ªåŠ¨åˆ‡æ¢åˆ°æ­£ç¡®çš„çŠ¶æ€ã€‚ä½ ä¸èƒ½åœ¨ complication é‡Œéšæ„æ˜¾ç¤ºå†…å®¹ â€”â€” ä½ åªèƒ½ä»ç»™å®šçš„ complication å®¶æ—ä¸­é€‰æ‹©é¢„å…ˆå®šä¹‰å¥½çš„æ¨¡æ¿ï¼Œç„¶åå¡«å……ä¸€äº›ç²¾å¿ƒå‡†å¤‡çš„ï¼Œå…è®¸ç³»ç»Ÿåœ¨å¿…è¦æ—¶ç®€åŒ–ä»¥ä¾¿é€‚é…å¯ç”¨ç©ºé—´çš„æ•°æ®ã€‚</p><p>è¿™é‡Œé¢çš„ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ï¼šå¦‚ä½•æ‰¾å‡ºæœ‰ç”¨çš„ä¸œè¥¿ï¼Œå¡«å……åˆ°è¿™ä¹ˆå°çš„ç©ºé—´é‡Œ â€”â€” åŒæ—¶è¿™ä¹Ÿæ˜¯ä¸€ä¸ªèƒ½ç®€åŒ–å·¥ä½œçš„çº¦æŸï¼Œå› ä¸ºä½ åªæœ‰æœ‰é™çš„é€‰é¡¹ã€‚</p><p>Apple ä¸€å¼€å§‹å°±è¯´äº†ï¼Œcomplications åªå¯¹éƒ¨åˆ† app æœ‰æ„ä¹‰ â€”â€” å› è€Œå¹¶éæ¯ä¸ª app éƒ½æœ‰ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œå¯ä»¥å±•ç¤ºä¸ºä¸€ä¸ªæ•°å­—æˆ–è€…ä¸€è¡Œæ–‡æœ¬ã€‚ä¸è¿‡ï¼Œä» watchOS 3 å¼€å§‹ï¼Œå®˜æ–¹å»ºè®®æ‰€æœ‰çš„ app éƒ½å®ç°ä¸€ä¸ª complication ï¼Œå³ä¾¿è¿™ä¸ª complication åªæ˜¯ä¸€ä¸ªé™æ€çš„å¯åŠ¨å™¨ã€‚ï¼ˆä¸ªäººè®¤ä¸ºè¿™ä¸ªè¦æ±‚å¯¹ç”¨æˆ·çš„æ„ä¹‰åœ¨äºï¼Œç”¨æˆ·å¯ä»¥åœ¨è¡¨ç›˜ä¸Šæ·»åŠ ç‰¹å®š app çš„ complication ï¼Œä»…ä»…ä½œä¸ºå¯åŠ¨å™¨ä¹Ÿæ˜¯æœ‰ä»·å€¼çš„ï¼‰ã€‚æŠ€æœ¯å±‚é¢ï¼Œç³»ç»Ÿå¯ä»¥é’ˆå¯¹å½“å‰è¡¨æ ¼çš„å¯åŠ¨å™¨ï¼Œåšä¸€äº›ä¼˜åŒ–ï¼Œä»¥ä¾¿ app å¯åŠ¨æ›´å¿«ã€‚</p><h3 id="Siri"><a href="#Siri" class="headerlink" title="Siri"></a>Siri</h3><p>æœ€åä¸€ä¸ªå…¥å£å°±æ˜¯ Siri äº†ï¼Œ watchOS 5 ä»¥åï¼ŒSiri å¯ä»¥ç”¨äºæ›´å¤šçš„ç”¨ä¾‹ï¼Œä¾‹å¦‚å‘æ¶ˆæ¯ï¼Œtodo list ç­‰ç­‰ã€‚</p><hr><h1 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h1><p><a href="https://mackuba.eu/2018/12/18/watchkit-adventure-1-the-big-picture/" target="_blank" rel="noopener">MacKuba å…³äº WatchKit çš„æ–‡ç«  1</a></p><p><a href="https://mackuba.eu/2019/03/06/watchkit-adventure-2-mvc/" target="_blank" rel="noopener">MacKuba å…³äº WatchKit çš„æ–‡ç«  2</a></p><p><a href="https://github.com/mackuba/SmogWatch" target="_blank" rel="noopener">MacKuba çš„ä¸€ä¸ª apple watch é¡¹ç›®</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;watchOS-åº”ç”¨&quot;&gt;&lt;a href=&quot;#watchOS-åº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;watchOS åº”ç”¨&quot;&gt;&lt;/a&gt;watchOS åº”ç”¨&lt;/h1&gt;&lt;p&gt;ç›¸æ¯” macOSï¼ŒiOS å’Œ tvOS ï¼ŒwatchOS (ç›®å‰ä¸ºæ­¢) å¹¶é
      
    
    </summary>
    
    
      <category term="development" scheme="https://theinfinitegame.tech/categories/development/"/>
    
    
      <category term="watchOS" scheme="https://theinfinitegame.tech/tags/watchOS/"/>
    
      <category term="development" scheme="https://theinfinitegame.tech/tags/development/"/>
    
  </entry>
  
  <entry>
    <title>AR | ARKit æ¦‚è§ˆ</title>
    <link href="https://theinfinitegame.tech/computer-tech/ar-arkit-overview/"/>
    <id>https://theinfinitegame.tech/computer-tech/ar-arkit-overview/</id>
    <published>2020-02-17T08:44:13.000Z</published>
    <updated>2020-02-17T09:28:20.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…³é”®æŠ€æœ¯"><a href="#å…³é”®æŠ€æœ¯" class="headerlink" title="å…³é”®æŠ€æœ¯"></a>å…³é”®æŠ€æœ¯</h1><ul><li><strong>è¿åŠ¨è·Ÿè¸ª (motion tracking)</strong> ä½¿å¾—æ‰‹æœºç†è§£å’Œè¿½è¸ªå®ƒç›¸å¯¹äºä¸–ç•Œçš„ä½ç½®ã€‚</li><li><strong>ç¯å¢ƒç†è§£ (environmental understanding)</strong> ä½¿å¾—æ‰‹æœºå¯ä»¥ä¾¦æµ‹å„ç§è¡¨é¢çš„å°ºå¯¸å’Œä½ç½®ï¼šæ°´å¹³çš„ï¼Œç«–ç›´çš„ï¼Œæˆä¸€å®šè§’åº¦çš„ï¼Œæ¯”å¦‚åœ°é¢ï¼Œå’–å•¡æ¡Œæˆ–è€…å¢™é¢ã€‚</li><li><strong>å…‰çº¿è¯„ä¼° (light estimation)</strong> ä½¿å¾—æ‰‹æœºå¯ä»¥ä¼°è®¡ç¯å¢ƒå½“å‰çš„å…‰ç…§æ¡ä»¶ã€‚</li></ul><hr><h1 id="ARKit"><a href="#ARKit" class="headerlink" title="ARKit"></a>ARKit</h1><h2 id="ARKit-3"><a href="#ARKit-3" class="headerlink" title="ARKit 3"></a>ARKit 3</h2><p>ARKit 3 å¸¦ç»™äººä»¬ä¸å¯æ€è®®çš„ä½“éªŒã€‚é€šè¿‡ People Occlusionï¼ŒARKit 3 çŸ¥é“äººä»¬å’Œ AR å¯¹è±¡åœ¨å“ªé‡Œï¼Œå¹¶é€‚å½“åœ°é®æŒ¡ sceneã€‚ARKit 3 ä½¿ç”¨ Motion Capture è·Ÿè¸ªäººä»¬çš„è¿åŠ¨ï¼Œå°†å…¶è¾“å…¥åˆ° AR scene ä¸­ã€‚å®ƒè¿˜å¯ä»¥åŒæ—¶è·Ÿè¸ªæœ€å¤šä¸‰å¼ äººè„¸ï¼Œæ”¯æŒ collaborative sessions ç­‰ç­‰ã€‚</p><h4 id="People-Occlusion"><a href="#People-Occlusion" class="headerlink" title="People Occlusion"></a>People Occlusion</h4><p>ç°åœ¨ AR å†…å®¹èƒ½å‘ˆç°åœ¨äººä»¬çš„èº«åå’Œå‰é¢ï¼Œä½¿ AR ä½“éªŒæ›´åŠ æ²‰æµ¸åŒ–ã€‚åŒæ—¶ï¼Œåœ¨å¤§å¤šæ•°ç¯å¢ƒèƒ½å®ç°ç»¿å¹•é£æ ¼çš„æ•ˆæœã€‚</p><h4 id="Motion-Capture"><a href="#Motion-Capture" class="headerlink" title="Motion Capture"></a>Motion Capture</h4><p>ç”¨ä¸€å°ç›¸æœºå®æ—¶æ•æ‰äººä»¬çš„è¿åŠ¨ã€‚é€šè¿‡å°†äººä»¬èº«ä½“çš„ä½ç½®å’Œè¿åŠ¨ï¼Œç†è§£ä¸ºä¸€ç³»åˆ—å…³èŠ‚å’Œéª¨éª¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿åŠ¨å’Œå§¿åŠ¿ä½œä¸º AR ä½“éªŒçš„è¾“å…¥ â€”â€” å°†äººä»¬æ”¾ç½®åœ¨ AR çš„ä¸­å¿ƒã€‚</p><h4 id="Simultaneous-Front-and-Back-Camera"><a href="#Simultaneous-Front-and-Back-Camera" class="headerlink" title="Simultaneous Front and Back Camera"></a>Simultaneous Front and Back Camera</h4><p>ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨å‰ç½®å’Œåç½®æ‘„åƒå¤´ä¸ŠåŒæ—¶ä½¿ç”¨äººè„¸å’Œä¸–ç•Œè·Ÿè¸ªã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥åªä½¿ç”¨ä»–ä»¬çš„è„¸éƒ¨ï¼Œä¸åç½®æ‘„åƒå¤´çš„ AR å†…å®¹äº¤äº’ã€‚</p><h4 id="Multiple-Face-Tracking"><a href="#Multiple-Face-Tracking" class="headerlink" title="Multiple Face Tracking"></a>Multiple Face Tracking</h4><p>ç°åœ¨ ARKit äººè„¸è·Ÿè¸ªå¯ä»¥ä¸€æ¬¡è·Ÿè¸ªæœ€å¤šä¸‰å¼ äººè„¸ï¼Œä½¿ç”¨ iPhone X, iPhone XS, iPhone XS Max, iPhone XR å’Œ iPad Pro çš„ TrueDepth æ‘„åƒå¤´ã€‚è¯¥æ‘„åƒå¤´ä¸º Memoji å’Œ Snapchat ç­‰å‰ç½®æ‘„åƒå¤´çš„ä½“éªŒæä¾›èƒ½åŠ›ã€‚</p><h4 id="Collaborative-Sessions"><a href="#Collaborative-Sessions" class="headerlink" title="Collaborative Sessions"></a>Collaborative Sessions</h4><p>é€šè¿‡å¤šäººä¹‹é—´çš„å®æ—¶åä½œä¼šè¯ï¼Œæ‚¨å¯ä»¥æ„å»ºä¸€ä¸ªåä½œçš„ world mapï¼Œè®©æ‚¨æ›´å¿«åœ°å¼€å‘ AR ä½“éªŒï¼Œè®©ç”¨æˆ·åƒè¿›å…¥å¤šäººæ¸¸æˆä¸€æ ·ï¼Œæ›´å¿«åœ°è¿›å…¥å…±äº«çš„ AR ä½“éªŒã€‚</p><h4 id="å…¶ä»–æ”¹è¿›"><a href="#å…¶ä»–æ”¹è¿›" class="headerlink" title="å…¶ä»–æ”¹è¿›"></a>å…¶ä»–æ”¹è¿›</h4><p>ä¸€æ¬¡æ£€æµ‹å¤šè¾¾ 100 å¹…å›¾åƒï¼Œå¹¶è‡ªåŠ¨åœ°ä¼°è®¡å›¾åƒçš„ç‰©ç†å¤§å°ã€‚3D å¯¹è±¡æ£€æµ‹æ›´åŠ ç¨³å®šï¼Œå› ä¸ºå¯¹è±¡åœ¨å¤æ‚ç¯å¢ƒä¸­å¯ä»¥æ›´å¥½åœ°è¢«è¯†åˆ«ã€‚ç°åœ¨ï¼Œæœºå™¨å­¦ä¹ è¢«ç”¨æ¥æ›´å¿«åœ°æ£€æµ‹ç¯å¢ƒä¸­çš„å¹³é¢ã€‚</p><h2 id="Reality-Composer"><a href="#Reality-Composer" class="headerlink" title="Reality Composer"></a>Reality Composer</h2><p>Reality Composer æ˜¯ä¸€æ¬¾é’ˆå¯¹ iOS å’Œ Mac çš„åŠŸèƒ½å¼ºå¤§çš„æ–°åº”ç”¨ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºäº¤äº’å¼ AR ä½“éªŒï¼Œè€Œæ— éœ€ 3D ç»éªŒã€‚å¯ä»¥ä½¿ç”¨ live linking ï¼Œåœ¨æ‚¨çš„ Macã€iPhone å’Œ iPad ä¹‹é—´æ— ç¼åœ°ç§»åŠ¨ã€‚ RealityKit æ˜¯ä¸€ä¸ªå…¨æ–°çš„é«˜çº§æ¡†æ¶ï¼ŒåŒ…å« photo-realistic æ¸²æŸ“ã€ç›¸æœºç‰¹æ•ˆã€åŠ¨ç”»ã€ç‰©ç†ç­‰åŠŸèƒ½ï¼Œä¸“ä¸º AR è€Œæ„å»ºã€‚</p><p>ç°åœ¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥å¿«é€Ÿåœ°åŸå‹åŒ–å’Œåˆ¶ä½œ AR ä½“éªŒçš„å†…å®¹ï¼Œè¿™äº›å†…å®¹å¯ä»¥ä½¿ç”¨ Xcode é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­æˆ–è€…å¯¼å‡ºåˆ° AR Quick Look ã€‚Reality Composer è®©æ‚¨åœ¨ iOS å’Œ Mac ä¸Šæ„å»ºåŠ¨ç”»å’Œäº¤äº’ï¼Œä»¥ä¸°å¯Œæ‚¨çš„ 3D å†…å®¹ã€‚</p><h4 id="Built-in-AR-Library"><a href="#Built-in-AR-Library" class="headerlink" title="Built-in AR Library"></a>Built-in AR Library</h4><p>å¯¼å…¥æ‚¨è‡ªå·±çš„ USDZ æ–‡ä»¶ï¼Œæˆ–è€…åˆ©ç”¨å†…ç½® AR åº“ä¸­æ•°ç™¾ä¸ªç°æˆçš„è™šæ‹Ÿå¯¹è±¡ã€‚è¯¥åº“ä¸ºå„ç§ assets åˆ©ç”¨ procedural content generation ï¼Œæ‚¨å¯ä»¥è‡ªå®šä¹‰è™šæ‹Ÿå¯¹è±¡çš„å¤§å°ã€æ ·å¼ç­‰ã€‚</p><h4 id="Animations-and-Audio"><a href="#Animations-and-Audio" class="headerlink" title="Animations and Audio"></a>Animations and Audio</h4><p>å¢åŠ ç§»åŠ¨ã€ç¼©æ”¾ç­‰åŠ¨ç”»ï¼Œæ¯”å¦‚è™šæ‹Ÿå¯¹è±¡çš„ â€œæ‘†åŠ¨â€ æˆ– â€œæ—‹è½¬â€ã€‚å½“ç”¨æˆ·ç‚¹å‡»å¯¹è±¡ã€é è¿‘å¯¹è±¡æˆ–è§¦å‘å…¶ä»–è§¦å‘å™¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©è¦è¿›è¡Œçš„æ“ä½œã€‚æ‚¨è¿˜å¯ä»¥åˆ©ç”¨ spatial audio ä¸ºæ‚¨çš„ AR åœºæ™¯æ·»åŠ çœŸå®æ„Ÿã€‚</p><h4 id="Seamless-Tools"><a href="#Seamless-Tools" class="headerlink" title="Seamless Tools"></a>Seamless Tools</h4><p>Reality Composer è¢«åŒ…å«åœ¨ Xcode ï¼Œä¹Ÿæ˜¯ä¸€æ¬¾ iOS APP ã€‚å› æ­¤æ‚¨å¯ä»¥åœ¨ iPhone æˆ– iPad ä¸Š build ã€ test ã€ tune å’Œæ¨¡æ‹Ÿ AR ä½“éªŒã€‚åˆ©ç”¨ live linking ï¼Œæ‚¨å¯ä»¥åœ¨ Mac å’Œ iOS ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œåˆ›å»ºå¸å¼•äººçš„å¤æ‚çš„ AR ä½“éªŒã€‚</p><h4 id="Record-and-Play"><a href="#Record-and-Play" class="headerlink" title="Record and Play"></a>Record and Play</h4><p>æœ‰äº† iOS ç‰ˆçš„ Reality Composerï¼Œæ‚¨å¯ä»¥è®°å½• AR ä½“éªŒè¿è¡Œä½ç½®çš„ä¼ æ„Ÿå™¨å’Œæ‘„åƒæœºæ•°æ®ï¼Œç„¶ååœ¨æ„å»º APP æ—¶åœ¨ iOS ä¸Šæ’­æ”¾è¿™äº›æ•°æ®ã€‚</p><h2 id="RealityKit"><a href="#RealityKit" class="headerlink" title="RealityKit"></a>RealityKit</h2><p>è¿™ä¸ªå…¨æ–°çš„é«˜çº§æ¡†æ¶æ˜¯ä»å¤´å¼€å§‹åˆ›å»ºçš„ï¼Œä¸“é—¨ç”¨äº AR ï¼ŒåŒ…æ‹¬ photo-realistic æ¸²æŸ“ã€ç›¸æœºç‰¹æ•ˆã€åŠ¨ç”»ã€ç‰©ç†ç­‰ç­‰ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ª Swift API ã€‚ä½¿ç”¨é›†æˆçš„ ARKit ã€åŸºäºç‰©ç†çš„æ¸²æŸ“ã€å˜æ¢å’Œéª¨éª¼åŠ¨ç”»ã€ spatial audio å’Œåˆšä½“ç‰©ç†ï¼Œ RealityKit ä½¿ AR å¼€å‘æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å¿«ã€æ›´å®¹æ˜“ã€‚</p><h4 id="World-class-Rendering-RealityKit"><a href="#World-class-Rendering-RealityKit" class="headerlink" title="World-class Rendering RealityKit"></a>World-class Rendering RealityKit</h4><p>ä½¿ç”¨åŸºäºç‰©ç†çš„çœŸå®æè´¨ã€ç¯å¢ƒåå°„ã€ grounding shadows ã€ camera noise ã€ motion blur ç­‰ï¼Œå°†è™šæ‹Ÿå†…å®¹ä¸ç°å®ä¸–ç•Œæ— ç¼èåˆï¼Œä½¿è™šæ‹Ÿå†…å®¹ä¸ç°å®ä¸–ç•Œå‡ ä¹æ— æ³•åŒºåˆ†ã€‚</p><h4 id="Scalable-Performance"><a href="#Scalable-Performance" class="headerlink" title="Scalable Performance"></a>Scalable Performance</h4><p>RealityKit åˆ©ç”¨æœ€æ–°çš„ Metal ç‰¹æ€§å……åˆ†åˆ©ç”¨ GPU ï¼Œå……åˆ†åˆ©ç”¨ CPU ç¼“å­˜å’Œå¤šæ ¸ï¼Œæä¾›éš¾ä»¥ç½®ä¿¡çš„æµç•…çš„è§†è§‰æ•ˆæœå’Œç‰©ç†æ¨¡æ‹Ÿã€‚å› ä¸ºå®ƒè‡ªåŠ¨åœ°ä¼¸å±•æ¯ä¸ª iOS è®¾å¤‡çš„ AR ä½“éªŒçš„æ€§èƒ½ï¼Œæ‰€ä»¥æ‚¨åªéœ€è¦åˆ›å»ºä¸€ä¸ª AR ä½“éªŒã€‚</p><h4 id="Swift-API"><a href="#Swift-API" class="headerlink" title="Swift API"></a>Swift API</h4><p>å®¹æ˜“ä½¿ç”¨ä½†åŠŸèƒ½å¼ºå¤§çš„ RealityKit ä½¿ç”¨ Swift ä¸°å¯Œçš„è¯­è¨€ç‰¹æ€§å¹¶æä¾›å®Œæ•´çš„åŠŸèƒ½ã€‚å› æ­¤æ‚¨å¯ä»¥æ›´å¿«åœ°æ„å»ºå¢å¼ºç°å®ä½“éªŒï¼Œè€Œæ— éœ€æŠ„æ¨¡æ¿ä»£ç ã€‚</p><h4 id="Shared-AR-Experiences"><a href="#Shared-AR-Experiences" class="headerlink" title="Shared AR Experiences"></a>Shared AR Experiences</h4><p>RealityKit ä½¿ç½‘ç»œå¼€å‘å·¥ä½œå˜å¾—ç®€å•ï¼Œä¾‹å¦‚ä¿æŒä¸€è‡´çš„çŠ¶æ€ã€ä¼˜åŒ–ç½‘ç»œæµé‡ã€å¤„ç†æ•°æ®åŒ…ä¸¢å¤±æˆ– performing ownership transfers ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å…³é”®æŠ€æœ¯&quot;&gt;&lt;a href=&quot;#å…³é”®æŠ€æœ¯&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®æŠ€æœ¯&quot;&gt;&lt;/a&gt;å…³é”®æŠ€æœ¯&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿åŠ¨è·Ÿè¸ª (motion tracking)&lt;/strong&gt; ä½¿å¾—æ‰‹æœºç†è§£å’Œè¿½è¸ªå®ƒç›¸å¯¹äºä¸–ç•Œçš„
      
    
    </summary>
    
    
      <category term="computer-tech" scheme="https://theinfinitegame.tech/categories/computer-tech/"/>
    
    
      <category term="AR" scheme="https://theinfinitegame.tech/tags/AR/"/>
    
      <category term="ARKit" scheme="https://theinfinitegame.tech/tags/ARKit/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç®—æ–¹æ³• 02 | ç§‘å­¦çš„èµ·æº</title>
    <link href="https://theinfinitegame.tech/social-science/quantitative-method-origin/"/>
    <id>https://theinfinitegame.tech/social-science/quantitative-method-origin/</id>
    <published>2020-02-08T06:15:52.000Z</published>
    <updated>2020-02-26T10:15:16.454Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤å…¸æ—¶æœŸ-Classical-Period"><a href="#å¤å…¸æ—¶æœŸ-Classical-Period" class="headerlink" title="å¤å…¸æ—¶æœŸ (Classical Period)"></a>å¤å…¸æ—¶æœŸ (Classical Period)</h1><p>æœ€æ—©å¯»æ±‚äº‹ç‰©çš„è‡ªç„¶æˆ–ä¿—ä¸–è§£é‡Šè€Œéç¥çš„è§£é‡Šçš„æ€æƒ³å®¶ï¼Œæ˜¯å¤å¸Œè…Šå­¦è€…æ³°å‹’æ–¯ (Thales)ã€æ¯•è¾¾å“¥æ‹‰æ–¯ (Pythagoras) å’Œå¾·è°Ÿå…‹åˆ©ç‰¹ (Democritus) ç­‰äººã€‚ä½†æœ€å…ˆæ€è€ƒå¦‚ä½•è·å¾—çŸ¥è¯†çš„ æ˜¯ä¸¤åƒä¸‰ç™¾å¤šå¹´å‰çš„æŸæ‹‰å›¾ (Plato) å’Œäºšé‡Œå£«å¤šå¾· (Aristotle) ã€‚</p><p>å¯¹æŸæ‹‰å›¾æ¥è¯´ï¼Œå¤–éƒ¨ä¸–ç•ŒåŠå…¶ä¸­çš„äº‹ç‰©ï¼Œåªæ˜¯å®ƒä»¬ç†æƒ³å½¢å¼çš„ä¸å®Œç¾æŠ•å°„æˆ–å½±å­ã€‚è¿™äº›ç†æƒ³å½¢å¼å¾€å¾€è¢«æç»˜æˆåœ¨å¢™ä¸ŠæŠ•ä¸‹å½±å­ã€‚</p><p><img src="/images/sci-ori_1.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>æŸæ‹‰å›¾æ˜¯ä¸€ä¸ª <strong>å“²å­¦å®åœ¨è®ºè€… (philosophical realist)</strong> ã€‚ä»–è®¤ä¸º <strong>ç°å® (reality)</strong> å³ç†æƒ³ä¸–ç•Œï¼Œæ˜¯ç‹¬ç«‹äºäººçš„æ€æƒ³ä¹‹å¤–å­˜åœ¨çš„ã€‚å¯¹ä»–æ¥è¯´ï¼Œè¿™äº›ç†æƒ³å¹¶éåªæ˜¯æˆ‘ä»¬å¿ƒä¸­çš„æŠ½è±¡æ¦‚å¿µï¼Œå®ƒä»¬çœŸå®å­˜åœ¨ï¼Œä½†ç‹¬ç«‹äºç‰©è´¨ä¸–ç•Œä¹‹å¤–ã€‚</p><p>ä»–è®¤ä¸ºæ—¢ç„¶æˆ‘ä»¬çœ‹åˆ°çš„ç‰©è´¨ä¸–ç•Œæ˜¯çœŸå®çš„ <em>ä¸å®Œç¾æŠ•å°„ (imperfect reflection)</em> ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ä»æ„Ÿå®˜ç»å†ä¸­è®¤è¯†åˆ° <strong>ç°å®çš„æœ¬è´¨ (the true nature of reality)</strong> ã€‚ä»–åšä¿¡ç†æƒ³å½¢å¼çš„çŸ¥è¯†åªèƒ½é€šè¿‡æ¨ç†è®ºè¯è·å¾—ã€‚æ‰€ä»¥æŸæ‹‰å›¾è¢«ç§°ä¸º <strong>ç†æ€§ä¸»ä¹‰è€… (rationalist)</strong> ã€‚</p><p>ä»–çš„å­¦ç”Ÿäºšé‡Œå£«å¤šå¾·ä¹Ÿæ˜¯ä¸ªå®åœ¨è®ºè€…ã€‚ä»–è®¤ä¸ºç°å®ç‹¬ç«‹å­˜åœ¨äºäººç±»çš„æ€æƒ³ä¹‹å¤–ã€‚ä½†å¯¹äºšé‡Œå£«å¤šå¾·æ¥è¯´ï¼Œç°å®å°±æ˜¯ç‰©è´¨ä¸–ç•Œï¼Œæ²¡æœ‰å•ç‹¬çš„æŠ½è±¡å½¢è±¡å­˜åœ¨ã€‚åœ¨å¦‚ä½•äº†è§£äº‹ç‰©æœ¬è´¨ä¸Šï¼Œä»–ä¹Ÿä¸æŸæ‹‰å›¾æ„è§ç›¸å·¦ã€‚äºšé‡Œå£«å¤šå¾·æ˜¯ <strong>ç»éªŒä¸»ä¹‰è€… (empiricist)</strong> ã€‚ä»–è®¤ä¸ºæ„Ÿå®˜ç»éªŒå‡†ç¡®åœ°ä»£è¡¨äº†ç°å®ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ„Ÿå®˜å»ç†è§£ç°å®ã€‚ä»–è®¤ä¸ºï¼Œå½’æ ¹ç»“åº•çŸ¥è¯†æ¥æºäºè§‚å¯Ÿã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€ä»–ä»…å¯¹è§‚å¯Ÿæ„Ÿå…´è¶£ï¼Œä»–ä¾ç„¶å°†æ¨ç†è®ºè¯è§†ä½œäº†è§£å’Œè§£é‡Šè‡ªç„¶çš„æœ€ä½³æ–¹å¼ã€‚äº‹å®ä¸Šï¼Œä»–å»ºç«‹äº† <strong>å½¢å¼é€»è¾‘ (formal logic)</strong> ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯ <strong>ä¸‰æ®µè®º (syllogism)</strong> ã€‚</p><p><img src="/images/sci-ori_2.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è¿™æœ‰ä¸€ä¸ªä¸‰æ®µè®ºçš„ä¾‹å­ã€‚</p><blockquote><p>â€œæ‰€æœ‰äººéƒ½ä¼šæ­»å»ï¼Œè€Œæ‰€æœ‰å¸Œè…Šäººéƒ½æ˜¯äººç±»ï¼Œå› æ­¤æ‰€æœ‰å¸Œè…Šäººéƒ½ä¼šæ­»ã€‚â€</p></blockquote><p>å¦‚æœä¸¤ä¸ªå‰æä¸ºçœŸï¼Œé‚£ä¹ˆç»“è®ºå¿…ç„¶ä¸ºçœŸã€‚æŠŠæ­¤ç»“è®ºå½“ä½œæ–°ä¸‰æ®µè®ºçš„å‰æï¼Œæˆ‘ä»¬å°±èƒ½ç§¯ç´¯çŸ¥è¯†ã€‚ä½†è¿™åªåœ¨å‰æç¡®å®ä¸ºçœŸçš„æƒ…å†µä¸‹æˆç«‹ã€‚çœ‹çœ‹è¿™ä¸ªï¼š</p><blockquote><p>â€œæ‰€æœ‰å“ºä¹³åŠ¨ç‰©éƒ½é•¿æ¯›ï¼Œè€ŒçŒ«éƒ½æ˜¯å“ºä¹³åŠ¨ç‰©ï¼Œæ‰€ä»¥çŒ«å…¨éƒ½é•¿æ¯›ã€‚â€</p></blockquote><p>ç¬¬ä¸€ä¸ªå‰ææ˜¯é”™çš„ï¼Œè¿™å°±æ„å‘³ç€ç»“è®ºä¸ä¸€å®šå¯¹ï¼Œä¸æ˜¯ç§¯ç´¯çŸ¥è¯†çš„å¥½åŸºç¡€ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•ç¡®ä¿å‰ææ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿä½ å¯ä»¥ç”¨å¦ä¸€ä¸ªä¸‰æ®µè®ºæ¥è¯æ˜å®ƒã€‚ä½†å½“ç„¶ä½ éœ€è¦ä¸åœåœ°è¯æ˜è¿™äº›å‰æï¼Œæœ‰ä¸€å¥—ä½ è®¤ä¸ºæ¯«æ— äº‰è®®çš„åˆå§‹å‰æã€‚äºšé‡Œå£«å¤šå¾·è®¤ä¸ºï¼Œè¿™äº› <strong>åŸºç¡€å‰æ (fundamental premises)</strong> ï¼Œå¯ä»¥é€šè¿‡è§‚å¯Ÿä¸–ç•Œçš„åŸºæœ¬å½¢å¼æˆ–è§„å¾‹æ¥å†³å®šã€‚ä¸å·§ä»–å¹¶æœªæ„è¯†åˆ°ä»–çš„æŸäº›è§‚å¯Ÿé€‰æ‹©æ€§å¤ªå¼ºï¼Œå¯¼è‡´ä¸€äº›åŸºç¡€å‰æåœ¨æˆ‘ä»¬ç°åœ¨çœ‹æ¥é”™å¾—å½»å½»åº•åº•ã€‚æ¯”å¦‚ï¼Œä»¥ä»–çš„è§‚å¯Ÿä¸ºä¾æ®ï¼Œæ˜†è™«æœ‰å››æ¡è…¿ï¼Œç”·äººæ¯”å¥³äººçš„ç‰™é½¿å¤šã€‚</p><p>äºšé‡Œå£«å¤šå¾·å¯èƒ½çœ‹åˆ°èœ‰è£ç”¨å››æ¡è…¿èµ°è·¯å¾—å‡ºäº†è¿™ä¸ªç»“è®ºï¼Œä½†å®é™…ä¸Šèœ‰è£ä¸å…¶ä»–æ˜†è™«ä¸€æ ·éƒ½æœ‰å…­æ¡è…¿ã€‚ä¹Ÿæœ‰å¯èƒ½ä»–æ£€æŸ¥äº†è‡ªå·±å’Œé‚£äº›ç”·æ€§æœ‹å‹çš„ç‰™é½¿ï¼Œä½†åªæŸ¥çœ‹äº†å¥³ä½£çš„ç‰™é½¿ï¼Œå¥¹ä»¬æ›´æœ‰å¯èƒ½å› ä¸ºè¥å…»ä¸è‰¯è€Œç‰™é½¿å˜å°‘ã€‚ä»–å¹¶æ²¡æœ‰æ„è¯†åˆ°è¿™ç‚¹ï¼Œä»–çš„è§‚å¯Ÿæ˜¯ä¸å‡†ç¡®çš„ã€‚å³ä¾¿å¦‚æ­¤ï¼Œä»–å’ŒæŸæ‹‰å›¾çš„è§‚å¿µä»åœ¨è¿‘ä¸¤åƒå¹´å†…å æ®äº†ä¸»æµã€‚ç›´åˆ° 16 ä¸–çºªæœ«æœŸï¼Œäººä»¬æ‰æ„è¯†åˆ°ä»–ä»¬çš„è§‚ç‚¹æ˜¯æœ‰ç¼ºé™·çš„ã€‚</p><p><img src="/images/sci-ori_3.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>ä»–ä»¬æ—¶ä»£ä¹‹åçš„ç§‘å­¦æ–¹æ³•æ˜¯å¦‚ä½•å‘å±•çš„å‘¢ï¼Ÿå¤å¸Œè…Šäººæœ‰å¾ˆå¤šç§‘æŠ€è¿›æ­¥ã€‚æ¯”å¦‚ï¼Œæ‰˜å‹’å¯† (Ptolemy) å°†è¡Œæ˜Ÿè¿åŠ¨æè¿°ä¸ºï¼šåœ°çƒä½äºå®‡å®™çš„ä¸­å¿ƒï¼Œé™æ­¢ä¸åŠ¨ï¼›å…¶ä»–è¡Œæ˜Ÿï¼ŒåŒ…æ‹¬å¤ªé˜³éƒ½æ²¿ç€å„è‡ªçš„å°è½¨é“ç»•åœ°çƒè¿åŠ¨ã€‚å¿…é¡»è¦åŠ ä¸Šè¿™äº›å¤§ç¯å¥—å°ç¯ï¼Œæ‰èƒ½è§£é‡Šè¡Œæ˜Ÿæœ‰æ—¶é€†è¡Œçš„å¥‡æ€ªç°è±¡ã€‚</p><p>æ‰˜å‹’å¯†çš„æ¨¡å‹èƒ½è¿›è¡Œå‡†ç¡®çš„é¢„æµ‹ï¼Œä½†äººä»¬å¹¶ä¸è®¤ä¸ºå®ƒæè¿°äº†çœŸå®çš„è¡Œæ˜Ÿè¿åŠ¨ï¼Œå®ƒåªèƒ½è§£é‡Šç°è±¡ã€‚</p><p><img src="/images/sci-ori_4.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å¸Œè…ŠåŸé‚¦æ¶ˆäº¡åï¼Œåœ¨ç½—é©¬å¸å›½çš„å…´è¡°æ›´æ›¿é—´ï¼Œä»¥åŠä¸­ä¸–çºªçš„æœ€åˆå‡ ç™¾å¹´ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•ç§‘å­¦è¿›å±•ã€‚æŸæ‹‰å›¾å’Œä¹‹åäºšé‡Œå£«å¤šå¾·çš„å“²å­¦è§‚ç‚¹ä¸€ç›´æ˜¯ä¸»æµï¼Œç›´åˆ° 16 ä¸–çºªæœ«æ–°çš„ç§‘å­¦é©å‘½æ‹‰å¼€äº†å¯è’™æ—¶ä»£çš„åºå¹•ã€‚</p><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹å“ªäº›è¿›æ­¥æœ€ç»ˆå¼•å¯¼äº†é©å‘½ã€‚</p><p>é¦–å…ˆï¼Œé˜¿æ‹‰ä¼¯å’Œæ³¢æ–¯å­¦è€…æ¯”å¦‚ä¼Šæœ¬ãƒ»å“ˆæ¡‘ (Ibn al-Hasan) ï¼Œæ¯”é²å°¼ (Al Biruni) å’Œä¼Šæœ¬è¥¿çº³ (Ibn Sina) å¼€å§‹ä½¿ç”¨ç³»ç»Ÿè§‚å¯Ÿå’Œå®éªŒã€‚å¼ºè°ƒæ— åè§çš„è§‚å¯Ÿï¼Œè€Œä¸åªæ˜¯é€»è¾‘æ¨ç†ã€‚ä¹‹åï¼Œåœ¨å‰äººçš„åŸºç¡€ä¸Šï¼Œè‹±å›½çš„æ ¼ç½—æ–¯æ³°æ–¯ç‰¹ (Grosseteste) å’Œç½—æ°ãƒ»åŸ¹æ ¹ (Roger Bacon) æå€¡ä½¿ç”¨å½’çº³ (induction) ä¸æ¼”ç» (deduction) ã€‚</p><p><strong>å½’çº³ (Induction)</strong> ï¼Œå³é€šè¿‡ç‰¹å®šè§‚å¯Ÿå¾—åˆ°ä¸€èˆ¬è§£é‡Šã€‚ <strong>æ¼”ç» (Deduction)</strong> ï¼Œå³ç”¨ä¸€èˆ¬è§£é‡Šé¢„æµ‹ç‰¹å®šç»“æœã€‚</p><p>ç¬¬ä¸‰ä¸ªé‡å¤§å‘å±•æ˜¯å°åˆ·æœºçš„å‘æ˜ï¼Œè¿™ä¸ºç§‘å­¦é©å‘½åˆ›é€ äº†æå¥½çš„æ¡ä»¶ã€‚æ›´å¤šå­¦è€…çš„æˆæœå¾—åˆ°äº†å¹¿æ³›çš„ä¼ æ’­ï¼Œå…¶ä¸­å°±åŒ…æ‹¬å“¥ç™½å°¼ (Copernicus) çš„ã€Šå¤©ä½“è¿è¡Œè®ºã€‹(De Revolutionibus Orbium Coelestium) ï¼Œè¿™æ˜¯å¼•é¢†ç§‘å­¦é©å‘½çš„ç¬¬å››ä¸ªé‡å¤§å‘å±•ã€‚åœ¨å“¥ç™½å°¼çš„æ–°è¡Œæ˜Ÿè¿åŠ¨æ¨¡å‹ä¸­ï¼Œè¡Œæ˜ŸåŒ…æ‹¬åœ°çƒéƒ½å›´ç»•å¤ªé˜³è¿åŠ¨ã€‚è¿™ä¸å½“æ—¶çš„å®—æ•™æ•™ä¹‰ä¸ç¬¦ï¼Œæ•™ä¼šæ¥å—äºšé‡Œå£«å¤šå¾·å’Œæ‰˜å‹’å¯†çš„æ¨¡å‹ï¼Œå³åœ°çƒä½äºå®‡å®™ä¸­å¿ƒã€‚å¾ˆå¤šå†å²å­¦å®¶è®¤ä¸ºï¼Œå“¥ç™½å°¼ä¸æ•¢å‘è¡¨ä»–çš„æˆæœï¼Œå› ä¸ºä»–å®³æ€•æ•™ä¼šä¼šå› ä¸ºè¿èƒŒæ•™ä¹‰æƒ©ç½šä»–ã€‚ä½†ä»–æœ€ç»ˆè¿˜æ˜¯å‘è¡¨äº†ä»–çš„æ–°æ¨¡å‹ï¼Œä½†åŠ ä¸Šäº†ç»™æ•™çš‡çš„ç‰¹åˆ«çŒ®è¯ï¼Œå£°ç§°å¦‚æœæ‰˜å‹’å¯†èƒ½ç‚®åˆ¶ä¸€ä¸ªè½¨é“æ€ªå¼‚ä¸”åªèƒ½è§£é‡Šç°è±¡çš„æ¨¡å‹ï¼Œé‚£ä¹ˆä»–ä¹Ÿåº”è¯¥äº«æœ‰åŒç­‰çš„è‡ªç”±ã€‚ä»–æš—ç¤ºä»–çš„æ¨¡å‹ä»…ä»…æ˜¯ä¸ªå®ç”¨çš„æ¨¡å‹ï¼Œè€Œä¸æ˜¯ç¡®åˆ‡çš„è¡¨è¿°ã€‚</p><p>ä»–æ˜¯å¦çœŸå¿ƒç›¸ä¿¡è¿™ä¸€ç‚¹ä¹Ÿä¸å¾—è€ŒçŸ¥ï¼Œä¸ä¹…ä»–å°±ä¸ä¸–é•¿è¾äº†ã€‚åœ¨è¿™ä¹‹å 60 å¹´éƒ½æ²¡æœ‰å¼•å‘éªšåŠ¨ã€‚å¾ˆå¤šäººè®¤ä¸ºï¼Œç§‘å­¦é©å‘½å’Œå¯è’™æ—¶ä»£ç”±å“¥ç™½å°¼è€Œå§‹ï¼Œä½†å…¶ä»–äººè®¤ä¸ºè£èª‰åº”è¯¥å½’äºç¬¬ä¸€ä¸ªæ‹’ç»å‘å¤©ä¸»æ•™ä½å¤´ï¼ŒåšæŒè®¤ä¸ºæ—¥å¿ƒè¯´æ¨¡å‹æ‰æ˜¯ç°å®çš„çœŸå®æè¿°çš„äººã€‚</p><p>è¿™ä¸ªäººå°±æ˜¯ä¼½åˆ©ç•¥ãƒ»ä¼½åˆ©é›· (Galileo Galilei) ã€‚</p><hr><h1 id="å¯å‘-Enlightenment"><a href="#å¯å‘-Enlightenment" class="headerlink" title="å¯å‘ (Enlightenment)"></a>å¯å‘ (Enlightenment)</h1><p>ä¼½åˆ©ç•¥ (Galileo) è¢«è®¤ä¸ºæ˜¯ç°ä»£ç§‘å­¦ä¹‹çˆ¶ï¼Œå› ä¸ºä»–å¼€å§‹å°†ç§‘å­¦ä»å“²å­¦ã€ä¼¦ç†å­¦å’Œç¥å­¦ä¸­åˆ†ç¦»ï¼Œè¿™äº›åŸæ¥éƒ½åœ¨å¤©ä¸»æ•™çš„ä¸¥æ ¼ç®¡æ§ä¹‹ä¸‹ã€‚</p><p>æœ‰äººå·²ç»é»˜é»˜æ‹¥æŠ¤åŸºäº <strong>è§‚å¯Ÿå’Œå®éªŒ (observation and experimentation)</strong> çš„ç§‘å­¦æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <strong>ç¥å­¦æ¨ç† (theological reasoning)</strong>ï¼Œä½†ä¼½åˆ©ç•¥æ˜¯ç¬¬ä¸€ä¸ªè¿™æ ·å…‰æ˜æ­£å¤§åšçš„äºº<br>ã€‚ä»–ä¹Ÿåå¯¹äºšé‡Œå£«å¤šå¾·çš„å‡ ä¸ªç†è®ºï¼Œè¿™äº›ç†è®ºè¢«å¤©ä¸»æ•™è§†ä¸ºæ•™ä¹‰ã€‚</p><p>ä¾‹å¦‚ï¼Œä»–é©³æ–¥äº†äºšé‡Œå£«å¤šå¾·è¯´é‡ç‰©è½åœ°æ¯”è½»ç‰©æ›´å¿«çš„è§‚ç‚¹ã€‚ä¼½åˆ©ç•¥ç”¨äº†æ€æƒ³å®éªŒæ¥è¯æ˜è¿™ä¸ªè§‚ç‚¹ï¼Œè¡¨æ˜é™¤äº†è§‚å¯Ÿï¼Œä»–ä¹Ÿé‡è§† <strong>é€»è¾‘æ¨ç† (logical reasoning)</strong> ã€‚å½“ç„¶ï¼Œä»–æœ€å‡ºåçš„æ˜¯è´¨ç–‘äºšé‡Œå£«å¤šå¾·å’Œæ‰˜å‹’å¯†æœ‰å…³åœ°çƒæ˜¯å®‡å®™ä¸­å¿ƒçš„è§‚ç‚¹ã€‚ä»–æ”¯æŒå“¥ç™½å°¼çš„æ—¥å¿ƒï¼Œå³å¤ªé˜³æ˜¯å®‡å®™ä¸­å¿ƒã€‚ä¼½åˆ©ç•¥å¯¹é‡‘æ˜Ÿè¿›è¡Œäº†ç³»ç»Ÿçš„è§‚å¯Ÿï¼Œå‘ç°è¡Œæ˜Ÿåªæœ‰ç»•å¤ªé˜³è½¬è€Œä¸æ˜¯ç»•åœ°çƒè½¬æ‰è¯´å¾—é€šã€‚</p><p>å“¥ç™½å°¼è®¤ä¸ºï¼Œæ—¥å¿ƒè¯´æ¨¡å‹æ°æ°è§£é‡Šäº†è¿™ä¸ªç°è±¡ï¼Œè¯´æ˜è¯¥æ¨¡å‹å‡†ç¡®é¢„æµ‹äº†æˆ‘ä»¬å¯¹è¡Œæ˜Ÿçš„è§‚å¯Ÿï¼Œä½†ä»–å´è¯´è¿™æ¨¡å‹å¹¶éåæ˜ ç‰©ç†ç°å®ã€‚ç›¸åï¼Œä¼½åˆ©ç•¥å´æ¯«æ— é¡¾å¿Œåœ°å£°ç§°åœ°çƒå°±æ˜¯ç»•ç€å¤ªé˜³è½¬çš„ã€‚</p><p>å¤©ä¸»æ•™ä¸å–œæ¬¢ä¼½åˆ©ç•¥ç¦»ç»å›é“çš„æƒ³æ³•ã€‚ä»–ä»¬å¯¹ä¼½åˆ©ç•¥è¿›è¡Œå®—æ•™å®¡åˆ¤ï¼ŒæŠŠä»–è½¯ç¦èµ·æ¥ç›´åˆ°å»ä¸–ã€‚</p><p><img src="/images/sci-ori_5.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å‘æ˜ç¬›å¡å°”åæ ‡ç³»çš„ å‹’å†…ãƒ»ç¬›å¡å°” (RenÃ© Descartes) å’Œä¼½åˆ©ç•¥æ˜¯åŒä¸€æ—¶ä»£çš„ã€‚è™½ç„¶ç¬›å¡å°”ä¹Ÿåå¯¹äºšé‡Œå£«å¤šå¾·è®¸å¤šçš„è§‚ç‚¹ï¼Œä½†ä»–åŒæ„çŸ¥è¯†åº”å½“åŸºäº <strong>ç¬¬ä¸€åŸç† (First principle)</strong> ã€‚å› ä¸ºä»–è®¤ä¸ºæˆ‘ä»¬çš„æ„Ÿå®˜å’Œæ€æƒ³å¾ˆå®¹æ˜“è¢«æ¬ºéª—ï¼Œä»–å†³å®šæ”¾å¼ƒæ‰€æœ‰å“ªæ€•åªæœ‰ä¸€ç‚¹ç‚¹ç–‘é—®çš„æƒ³æ³•ã€‚ä¸€æ—¦ç§»é™¤äº†æ‰€æœ‰çš„æ€€ç–‘ï¼Œå°±åªå‰©ä¸‹ä¸€ç‚¹å¯ä»¥ç¡®å®š â€”â€” å³ä»–åœ¨æ€è€ƒï¼Œé‚£ä¹ˆä»–ä¸€å®šå­˜åœ¨ã€‚æˆ‘æ€æ•…æˆ‘åœ¨ã€‚</p><p><img src="/images/sci-ori_6.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>ä»–æœ€ç»ˆå¾—å‡ºç»“è®ºï¼šæˆ‘ä»¬åªèƒ½ç”¨ <strong>æ¨ç† (reasoning)</strong> æ¥äº†è§£ä¸–ç•Œæœ¬è´¨ã€‚</p><p>å¼—æœ—è¥¿æ–¯ãƒ»åŸ¹æ ¹ (RenÃ© Descartes) å’Œç¬›å¡å°”ä¸€æ ·ï¼Œè®¤ä¸ºç§‘å­¦çŸ¥è¯†åº”å½“åŸºäºç¬¬ä¸€åŸç†ã€‚ä½†å’Œç¬›å¡å°”ç›¸åï¼ŒåŸ¹æ ¹åšæŒè®¤ä¸ºè¿™åªèƒ½é€šè¿‡ <strong>å½’çº³æ³• (inductive methods)</strong> ã€‚å½’çº³æ³•å°±æ˜¯æŠŠå¯¹ç‰¹å®šå®ä¾‹çš„è§‚å¯Ÿï¼Œç”¨äºæ€»ç»“æ™®éè§„å¾‹æˆ–è§£é‡Šã€‚å‡è®¾æˆ‘æ¯æ¬¡ç¢°åˆ°çš„å¤©é¹…éƒ½æ˜¯ç™½è‰²çš„ï¼Œæˆ‘å°±èƒ½å½’çº³å‡ºæ™®éè§„å¾‹ï¼šæ‰€æœ‰å¤©é¹…éƒ½æ˜¯ç™½è‰²çš„ã€‚åŸ¹æ ¹ç›¸ä¿¡ï¼Œä¸ä»…ä»…æ˜¯ç¬¬ä¸€åŸç†ï¼Œæ‰€æœ‰çš„çŸ¥è¯†éƒ½åªèƒ½ç”¨å½’çº³æ³•è·å–ï¼Œä¹Ÿå°±æ˜¯è¿™ç§åŸºäºæ„Ÿå®˜ç»éªŒæ€»ç»“å‡ºè§£é‡Šçš„æ–¹æ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä»–è¢«è§†ä½œ <strong>ç»éªŒä¸»ä¹‰ (empiricism)</strong> ä¹‹çˆ¶ã€‚ç»éªŒä¸»ä¹‰å°±æ˜¯å…³äºç»éªŒæˆ–è§‚å¯Ÿã€‚</p><p>å¤§å«ãƒ»ä¼‘è°Ÿ (RenÃ© Descartes) æŠŠç»éªŒä¸»ä¹‰å‘æŒ¥åˆ°äº†æè‡´ â€”â€” åªæ¥å—æ„Ÿå®˜æ•°æ®ä¸ºçŸ¥è¯†æ¥æºï¼Œä¸”æ‘ˆå¼ƒä¸ç›´æ¥è§‚å¯Ÿç»“æœä¸ç¬¦çš„ç†è®ºæ¦‚å¿µã€‚ä»–è®¤ä¸ºç°å®çš„æœ¬è´¨åªç”±ç‰©ä½“çš„ç‰¹å¾ç»„æˆï¼Œè€Œä¸æ˜¯ç‰©ä½“æœ¬èº«ã€‚ç»éªŒä¸»ä¹‰çš„æç«¯å½¢å¼å«åš <strong>æ€€ç–‘ä¸»ä¹‰  (skepticism)</strong> ã€‚æˆ‘æ¥ç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æœ‰ä¸ªå®ç‰© â€”â€” ä¸€åªçŒ«ã€‚ä»€ä¹ˆä½¿å¾—è¿™åªçŒ«èƒ½æˆä¸ºçŒ« æ˜¯å®ƒçš„å„ç§å±æ€§ å®ƒçš„å°¾å·´ã€èƒ¡é¡»ã€é¢œè‰²ã€çš®æ¯›ã€ä½“å‹ã€‚å¦‚æœæŠŠç»„æˆçŒ«çš„å±æ€§éƒ½ç§»èµ°ï¼Œé‚£å‰©ä¸‹çš„æ˜¯å•¥éƒ½æ²¡äº†ï¼ŒçŒ«çš„æœ¬è´¨åŸ‹è—åœ¨å…¶ç‰¹å¾ä¸­ã€‚</p><p>ä¼‘è°Ÿä¹ŸæŒ‡å‡ºäº†å½’çº³æ³•çš„é—®é¢˜ï¼šå³ä½¿æŒç»­åå¤è§‚å¯Ÿä¸€ä¸ªç°è±¡ï¼Œä½†ä¹Ÿæ²¡æ³•ä¿è¯ä¸‹ä¸€æ¬¡è§‚å¯Ÿåˆ°çš„å’Œå‰ä¸€æ¬¡ç›¸åŒã€‚</p><p>è‡³å°‘åœ¨æ¬§æ´²äººçš„é•¿æœŸè§‚å¿µä¸­ï¼Œæ‰€æœ‰çš„å¤©é¹…ç›®å‡»è®°å½•éƒ½è¯æ˜å¤©é¹…æ˜¯ç™½è‰²çš„ã€‚ç›´åˆ°åœ¨æ¾³å·å‘ç°é»‘å¤©é¹…åï¼Œæ‰çŸ¥é“åŸæ¥è¿˜æœ‰é»‘çš„ã€‚æ¢å¥è¯è¯´ï¼Œå³ä½¿å†å¤šçš„éªŒè¯è§‚å¯Ÿï¼Œä¹Ÿä¸èƒ½ç¡®å®è¯æ˜å…³äºä¸–ç•Œçš„ç§‘å­¦å‘½é¢˜æ˜¯çœŸçš„ã€‚æ‰€ä»¥å¦‚æœä½ è¦æ±‚æ‰€æœ‰çš„çŸ¥è¯†éƒ½åªèƒ½åŸºäºè§‚å¯Ÿï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸èƒ½ç¡®å®šä½ çŸ¥é“äº›ä»€ä¹ˆã€‚</p><p>19 ä¸–çºªåˆï¼Œéƒ¨åˆ†æ˜¯é’ˆå¯¹ä¼‘è°Ÿçš„æ€€ç–‘ä¸»ä¹‰ï¼Œ <strong>å¾·å›½å”¯å¿ƒä¸»ä¹‰ (German Idealism)</strong> çš„å“²å­¦è¿åŠ¨æµè¡Œèµ·æ¥ã€‚å”¯å¿ƒä¸»ä¹‰è€…ç›¸ä¿¡æˆ‘ä»¬çš„ç²¾ç¥æ„ç­‘äº†ç°å®ï¼Œæˆ‘ä»¬å¯¹ä¸–ç•Œçš„ä½“éªŒæ˜¯ç²¾ç¥çš„é‡æ„ï¼Œå› æ­¤ç§‘å­¦æ¢ç´¢åº”å½“ä¸“æ³¨äºé€šè¿‡è‡ªèº«æ¨ç†èƒ½è·å¾—ä»€ä¹ˆã€‚å”¯å¿ƒä¸»ä¹‰è€…ä¸»è¦å…³æ³¨çš„é—®é¢˜æ˜¯éç‰©è´¨çš„ä¸œè¥¿ï¼Œåƒè‡ªæˆ‘ã€ä¸Šå¸ã€æœ¬è´¨ã€å­˜åœ¨å’Œå› æœï¼Œä»–ä»¬ä¹Ÿå› ä½¿ç”¨æ¨¡ç³Šå’Œè¿‡åº¦å¤æ‚çš„è¯­è¨€è€Œå—åˆ°å¼ºçƒˆæ‰¹è¯„ã€‚</p><p>åœ¨åä¹ä¸–çºªç¬¬äºŒæ¬¡å·¥ä¸šé©å‘½å‰å¤•ï¼Œç§‘å­¦å®¶å¼€å§‹å¯¹å”¯å¿ƒä¸»ä¹‰è€…çš„å½¢è€Œä¸Šå­¦å¤±å»è€å¿ƒã€‚åœ¨ç§‘å­¦ã€åŒ»è¯å’ŒæŠ€æœ¯é£é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œä»–ä»¬å¯¹å­˜åœ¨æœ¬è´¨çš„æ€è€ƒå˜å¾—è¶Šæ¥è¶Šæ²¡ç”¨ã€‚åœ¨ 20 ä¸–çºªåˆï¼Œä¸€ç§æ–°çš„ç§‘å­¦å“²å­¦ç™»ä¸Šèˆå°ï¼Œæè®®å½»åº•è¿”å›ç»éªŒä¸»ä¹‰ï¼Œè¿™é¡¹è¿åŠ¨å«åš <strong>é€»è¾‘å®è¯ä¸»ä¹‰ (logical positivism)</strong> ã€‚</p><hr><h1 id="ç°ä»£ç§‘å­¦-Modern-Science"><a href="#ç°ä»£ç§‘å­¦-Modern-Science" class="headerlink" title="ç°ä»£ç§‘å­¦ (Modern Science)"></a>ç°ä»£ç§‘å­¦ (Modern Science)</h1><p>ç¬¬ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜è¿‡åï¼Œç”±äºä¸æ»¡äºå¾·å›½é‚£ç¾¤ä¸“æ³¨äºçŸ¥è¯†çš„ç¬¬ä¸€åŸç†å’Œä¸–ç•Œçš„æœ¬è´¨çš„å”¯å¿ƒä¸»ä¹‰è€…çš„ <strong>å½¢è€Œä¸Šå­¦ (metaphysics)</strong> ï¼Œä¸€ç¾¤æ•°å­¦å®¶ã€ç§‘å­¦å®¶å’Œå“²å­¦å®¶ç»„æˆäº†ç»´ä¹Ÿçº³å­¦æ´¾ (Vienna Circle)ã€‚</p><p>ç»´ä¹Ÿçº³å­¦æ´¾çš„æˆå‘˜ï¼Œæ‘©é‡ŒèŒ²ãƒ»çŸ³é‡Œå…‹ (Moritz Schlick)ã€å¥¥æ‰˜ãƒ»è¯ºä¼Šæ‹‰ç‰¹ (Otto Neurath) å’Œé²é“å¤«ãƒ»å¡çº³æ™® (Rudolf Carnap) è®¤ä¸ºå”¯å¿ƒä¸»ä¹‰è€…å…³äºè‡ªæˆ‘å­˜åœ¨çš„é—®é¢˜æ¯«æ— æ„ä¹‰ï¼Œå› ä¸ºè¿™äº›é—®é¢˜æ— æ³•å›ç­”ã€‚ä»–ä»¬æå‡ºäº†æ–°çš„ç§‘å­¦å“²å­¦æ€æƒ³ â€”â€”  <strong>é€»è¾‘å®è¯ä¸»ä¹‰ (Logical Positivism)</strong> ã€‚å®ƒé‡æ–°å°†ç§‘å­¦å®šä¹‰æˆæ˜¯ç ”ç©¶å¯¹ä¸–ç•Œæœ‰æ„ä¹‰çš„å‘½é¢˜ã€‚é‚£ä¹ˆï¼Œè¦ä½¿ä¸€ä¸ªå‘½é¢˜æœ‰æ„ä¹‰ï¼Œå®ƒå¿…é¡»å¯éªŒè¯ï¼Œä¹Ÿå°±æ˜¯æœ‰éªŒè¯æ ‡å‡†ã€‚è¿™æ„å‘³ç€è¦èƒ½ç¡®å®šå‘½é¢˜çš„çœŸå®æ€§ã€‚</p><p>æœ‰æ„ä¹‰çš„å‘½é¢˜æœ‰ä¸¤ç§ï¼š <strong>åˆ†æå‘½é¢˜ (analytic statements)</strong> å’Œ <strong>ç»¼åˆå‘½é¢˜ (synthetic statements)</strong> ã€‚</p><p>åˆ†æå‘½é¢˜ä¼š <strong>åŒä¹‰åå¤ (tautological)</strong> ï¼Œä¸€å®šæ˜¯çœŸçš„ã€‚æ¯”å¦‚è¯´ï¼Œå•èº«æ±‰æœªå©šï¼Œæ‰€æœ‰æ­£æ–¹å½¢éƒ½æœ‰å››æ¡è¾¹ã€‚è¿™äº›æ˜¯ <strong>å…ˆéªŒå‘½é¢˜ (priori statements)</strong> ï¼Œå¦‚å®šä¹‰å’Œçº¯é€»è¾‘å‘½é¢˜ã€‚å®ƒä»¬ä¸å–å†³äºä¸–ç•Œçš„çŠ¶æ€ï¼Œå› æ­¤ä¹Ÿä¸éœ€è¦é€šè¿‡è§‚å¯Ÿæ¥éªŒè¯ã€‚å®ƒä»¬å¯ä»¥è¢«è¿ç”¨åœ¨æ•°å­¦å’Œé€»è¾‘ä¸­ï¼Œåˆ†æå‘½é¢˜çš„æ–°ç»„åˆå¯ä»¥ç”¨å½¢å¼é€»è¾‘éªŒè¯ã€‚</p><p>ç»¼åˆå‘½é¢˜ä¾å­˜äºä¸–ç•Œçš„çŠ¶æ€ã€‚æ¯”å¦‚è¯´ï¼Œæ‰€æœ‰å•èº«æ±‰éƒ½å¿«ä¹å’Œæ‰€æœ‰çŒ«å¤©ç”Ÿéƒ½æœ‰å°¾å·´ã€‚è¿™äº›å‘½é¢˜æ˜¯ <strong>åéªŒçš„ (posteriori)</strong> â€”â€” å®ƒä»¬åªèƒ½é€šè¿‡è§‚å¯ŸéªŒè¯ã€‚é€»è¾‘å®è¯ä¸»ä¹‰è€…è®¤ä¸ºï¼Œè¿™äº›å‘½é¢˜åº”å§‹ç»ˆå¯å…¬å¼€ç ”ç©¶ã€‚åŒæ—¶ï¼Œå‘½é¢˜ä¸è®¸æåŠæ— æ³•è§‚å¯Ÿçš„å®ä½“ï¼Œå¦‚ç”µå­æˆ–é‡åŠ›ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•è¢«ç›´æ¥è§‚å¯Ÿåˆ°ã€‚å¦‚æœå‘½é¢˜æåŠäº†æ— æ³•è§‚å¯Ÿçš„å®ä½“ æˆ–ä¸æ˜¯åŒä¹‰åå¤çš„ï¼Œæˆ–ä¸åˆé€»è¾‘çš„ï¼Œæˆ–ç»éªŒä¸Šä¸å¯éªŒè¯çš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ— æ„ä¹‰çš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½¢è€Œä¸Šå­¦ã€ç¥å­¦å’Œä¼¦ç†å­¦ä¹‹ç±»çš„ä¸»é¢˜ï¼Œå°±å®Œç¾åœ°ä»ç§‘å­¦ä¸­è¢«å‰”é™¤äº†ã€‚</p><p>å½“ç„¶ï¼Œæºè‡ªè§‚å¯Ÿçš„æ ‡å‡†å’ŒéªŒè¯æ— æ³•å¤„ç†å½’çº³æ³•é—®é¢˜ã€‚æ˜ç¡®è¯æ˜æˆ–éªŒè¯ä¸€ä¸ªå‘½é¢˜çš„ç¡®åˆ‡è¯æ®æ°¸è¿œéƒ½ä¸å¤Ÿã€‚æ€»æœ‰å¯èƒ½åœ¨æœªæ¥å‘ç°çŸ›ç›¾çš„åœ°æ–¹ã€‚æ‰€ä»¥å°±æŠŠéªŒè¯æ ‡å‡†çš„å¼ºåº¦å¼±åŒ–äº†ï¼Œåªè¦æ±‚ç¡®è®¤è€Œä¸æ˜¯éªŒè¯å°±å¯ä»¥äº†ã€‚</p><p>å¦ä¸€ä¸ªéå¸¸ä¸¥æ ¼çš„è§„åˆ™ä¹Ÿå¿…é¡»æ”¹å˜äº† â€”â€” ä¸è®¸æåŠæ— æ³•è§‚å¯Ÿçš„å®ä½“é€ æˆäº†å¤§éº»çƒ¦ï¼šåƒç”µå­ã€é‡åŠ›å’ŒæŠ‘éƒè¿™ç§æ— æ³•è¢«ç›´æ¥è§‚å¯Ÿï¼Œä½†å®ƒä»¬åœ¨ç§‘å­¦è§£é‡Šä¸­æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚</p><p>è¿™äº›ä»¥åŠå½’çº³æ³•é—®é¢˜ï¼Œä½¿é€»è¾‘å®è¯ä¸»ä¹‰å‡ºç°äº†ä¸€ä¸ªæ›´æ¸©å’Œç‰ˆæœ¬ â€”â€” <strong>é€»è¾‘ç»éªŒä¸»ä¹‰ (logical empiricism)</strong> ã€‚</p><p>å¡å°”ãƒ»æ³¢æ™®å°” (Karl Popper) ä¹Ÿè¢«æˆç§°ä¸ºç»´ä¹Ÿçº³å­¦æ´¾çš„å®˜æ–¹åå¯¹è€…ï¼Œæ˜¯ä»–ä»¬çš„ä¸»è¦æ‰¹åˆ¤è€…ä¹‹ä¸€ã€‚ä»–è®¤ä¸ºè¦åŒºåˆ†å‘½é¢˜æ˜¯å¦æœ‰æ„ä¹‰ï¼Œåº”å»ºç«‹åœ¨ <strong>å¯è¯ä¼ªæ€§ (falsification)</strong> çš„æ ‡å‡†ä¸Šï¼Œè€Œä¸æ˜¯èƒ½å¦ <strong>è¯å® (verification)</strong> ã€‚</p><p>ä»–è®¤ä¸ºï¼Œæˆ‘ä»¬æ°¸è¿œä¸èƒ½ç”¨è§‚å¯Ÿæ¥ç¡®åˆ‡éªŒè¯æˆ–è¯æ˜ä¸€ä¸ªå‘½é¢˜ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨ä¸ä¹‹çŸ›ç›¾çš„è¯æ®æœ‰åŠ›é©³æ–¥ã€‚ä»–è®¤ä¸ºä¸€ä¸ªå‘½é¢˜å¿…é¡»æœ‰å¯è¯ä¼ªæ€§æ‰æœ‰æ„ä¹‰ã€‚ä»–æå‡ºç§‘å­¦å®¶åº”è¯¥ç§¯æè¿›è¡Œå†’é™©çš„å®éªŒï¼Œå®ƒä»¬èƒ½æŠŠæ‰¾åˆ°ä¸å‡è¯´çŸ›ç›¾çš„è¯æ®çš„å¯èƒ½æ€§æœ€å¤§åŒ–ã€‚å¦‚æœæˆ‘ä»¬æ‰¾åˆ°äº†è¿™æ ·çš„åé¢è¯æ®ï¼Œå°±èƒ½ä»ä¸­æ‰¾åˆ°æ”¹è¿›å‡è¯´çš„çº¿ç´¢ã€‚ <strong>åªæœ‰åé¢è¯æ®ç¼ºå¤±æ—¶ è¯¥å‡è¯´æ‰èƒ½æš‚æ—¶æˆç«‹ã€‚</strong></p><p>ç°åœ¨ï¼Œå¨æ‹‰å¾·ãƒ»å†¯ãƒ»å¥¥æ›¼ãƒ»å¥å›  (Willard Van Orman Quine) è¯æ˜ï¼Œè¿™ä¸ªæ ‡å‡†ä¹Ÿæœ‰é—®é¢˜ã€‚åœ¨æœæ’ - å¥å› è®ºé¢˜ (Duhem-Quine thesis) ä¸­ï¼Œä»–è®¤ä¸ºæ²¡æœ‰å‡è¯´èƒ½å¤Ÿè¢«å•ç‹¬éªŒè¯ï¼Œæ€»æœ‰ <strong>èƒŒæ™¯å‡è®¾ (background assumptions)</strong> å’Œ <strong>è¾…åŠ©å‡è®¾ (supporting hypotheses)</strong> æ¥æ”¯æŒã€‚å¦‚æœæ‰¾åˆ°äº†åé¢è¯æ®ï¼Œæ ¹æ®æ³¢æ™®å°”çš„ç†è®ºï¼Œæˆ‘ä»¬çš„ç§‘å­¦è§£é‡Šæ˜¯é”™çš„ï¼Œåº”è¯¥è¢«é©³å›ã€‚ä½†æ ¹æ®å¥å› çš„ç†è®ºï¼Œæˆ‘ä»¬æ€»å¯ä»¥é©³å›æŸä¸ªèƒŒæ™¯å‡è®¾æˆ–è¾…åŠ©å‡è¯´ï¼Œè€Œä¸æ˜¯ç§‘å­¦è§£é‡Šæœ¬èº«ã€‚è¿™æ ·å°±æŒ½æ•‘äº†åŸå§‹å‡è¯´ã€‚</p><p>æ‰˜é©¬æ–¯ãƒ»åº“æ© (Thomas Kuhn) æŒ‡å‡ºï¼Œç§‘å­¦å¹¶éè„±èƒäºéªŒè¯æˆ–è¯ä¼ªåŸåˆ™çš„ä¸¥æ ¼åº”ç”¨ã€‚å¦‚æœæ•°æ®ä¸å‡è®¾ä¸ç¬¦ï¼Œå‡è®¾ä¸ä¼šè¢«ç«‹åˆ»é©³å›æˆ–ä¿®æ”¹ï¼Œç§‘å­¦æ˜¯åœ¨ä¸€å®šçš„æ¡†æ¶æˆ– <strong>èŒƒå¼ (paradigm)</strong> å†…è¿›è¡Œã€‚å»ºç«‹çš„å‡è¯´è¦é€‚ç”¨è¿™ä¸ªèŒƒå¼ï¼Œæ„å¤–ç»“æœä½¿å‡è¯´éœ€è¦ä¿®æ­£ã€‚ä½†åªè¦å…¶é€‚åˆèŒƒå¼å³å¯ã€‚ä½†å½“è¶Šæ¥ä¹Ÿå¤šçš„åé¢è¯æ®ç´¯ç§¯èµ·æ¥ï¼Œå±æœºå°±å‡ºç°äº† è¿™å°±å¯¼è‡´äº† <strong>èŒƒå¼è½¬æ¢ (paradigm shift)</strong> ã€‚æ–°çš„èŒƒå¼è¢«é‡‡ç”¨ï¼Œç„¶åå¾ªè€Œå¾€å¤ã€‚</p><p><img src="/images/sci-ori_7.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å³ä½¿å˜æˆè¾ƒå¼±å½¢å¼çš„é€»è¾‘ç»éªŒä¸»ä¹‰ï¼Œé€»è¾‘å®è¯ä¸»ä¹‰ä¹Ÿä¸èƒ½ä»æ³¢æ™®å°”ã€å¥å› ç­‰äººçš„æ‰¹åˆ¤ä¸­å¹¸å­˜ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å‘å±•å‡ºä¸€ç§æ›´å®ç”¨çš„ç§‘å­¦å“²å­¦ã€‚å¦‚ä»Šçš„ç§‘å­¦å®¶é‡‡ç”¨ <strong>å‡è¯´ - æ¼”ç»æ³• (hypothetico-deductive method)</strong>ï¼Œå…¶ç»“åˆäº†å½’çº³å’Œæ¼”ç»çš„æ–¹æ³•ï¼›è¦æ±‚å¯è¯ä¼ªæ€§ï¼›ä»…åœ¨å‡è¯´æœ‰ä¸´æ—¶æ”¯æŒæ—¶æ¥å—é‡å¤ç¡®è®¤ã€‚</p><p><img src="/images/sci-ori_8.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å“²å­¦å±‚é¢ä¸Šï¼Œå¾ˆå¤šç§‘å­¦å®¶å¯èƒ½ä¼šå–œæ¬¢å·´æ–¯ãƒ»èŒƒãƒ»å¼—æ‹‰æ£®çš„ <strong>å»ºæ„ç»éªŒä¸»ä¹‰ (constructive empiricism)</strong> ï¼Œå…¶ä¸»å¼ ç§‘å­¦æ˜¯ä¸ºäº†äº§ç”ŸåŸºäºå¤§é‡ç»éªŒçš„ç†è®ºã€‚çŸ¥è¯†éœ€è¦è§‚å¯Ÿï¼Œä½†ä¸å¯è§‚å¯Ÿçš„å®ä½“ä¹Ÿæ˜¯å…è®¸çš„ã€‚æ¥å—ä¸€ä¸ªç§‘å­¦ç†è®ºå¹¶ä¸æ„å‘³æ°¸è¿œè®¤åŒ â€”â€” è¿™æ˜¯å¯¹ä¸–ç•Œçš„çœŸå®è¡¨è¿°ã€‚å»ºæ„ç»éªŒä¸»ä¹‰è€…è®¤ä¸ºï¼Œåªè¦åœ¨è§‚å¯ŸèŒƒå›´å†…ï¼Œå³å¯æ¥å—ç§‘å­¦ä¸»å¼ ä¸ºçœŸå®ã€‚è¯¥å‘½é¢˜æ˜¯å¦çœŸå®ä»£è¡¨äº†ä¸å¯è§‚å¯Ÿçš„å®ä½“ï¼Œæˆ‘ä»¬æ— éœ€åˆ¤æ–­ï¼Œè¿™åªæ˜¯ç›®å‰å¯¹è§‚å¯Ÿç»“æœçš„æœ€ä½³è§£é‡Šï¼Œä»…æ­¤è€Œå·²ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¤å…¸æ—¶æœŸ-Classical-Period&quot;&gt;&lt;a href=&quot;#å¤å…¸æ—¶æœŸ-Classical-Period&quot; class=&quot;headerlink&quot; title=&quot;å¤å…¸æ—¶æœŸ (Classical Period)&quot;&gt;&lt;/a&gt;å¤å…¸æ—¶æœŸ (Classical Perio
      
    
    </summary>
    
    
      <category term="social-science" scheme="https://theinfinitegame.tech/categories/social-science/"/>
    
    
      <category term="è®¡é‡æ–¹æ³•" scheme="https://theinfinitegame.tech/tags/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"/>
    
      <category term="ç¤¾ä¼šç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E7%A4%BE%E4%BC%9A%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>è®¡é‡æ–¹æ³• 01 | ç§‘å­¦æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <link href="https://theinfinitegame.tech/social-science/quantitative-methods-what-science-is/"/>
    <id>https://theinfinitegame.tech/social-science/quantitative-methods-what-science-is/</id>
    <published>2020-02-07T06:40:56.000Z</published>
    <updated>2020-02-26T09:40:38.376Z</updated>
    
    <content type="html"><![CDATA[<h1 id="éç§‘å­¦çš„æ–¹æ³•-Non-scientific-Methods"><a href="#éç§‘å­¦çš„æ–¹æ³•-Non-scientific-Methods" class="headerlink" title="éç§‘å­¦çš„æ–¹æ³• (Non-scientific Methods)"></a>éç§‘å­¦çš„æ–¹æ³• (Non-scientific Methods)</h1><p>ä¸ºäº†çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç§‘å­¦æ–¹æ³•ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­äººä»¬çš„è®¤çŸ¥åŸºäºä»€ä¹ˆã€‚</p><p><img src="/images/non-sci_1.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>äººä»¬å¯èƒ½ä¼šåŸºäº <strong>ç›´è§‰ (intuition)</strong> æˆ– <strong>ä¿¡å¿µ (belief)</strong> è€Œè®¤ä¸ºæŸäº‹æ˜¯æ­£ç¡®çš„ã€‚</p><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸‹æˆ‘å¯¹æˆ‘çš„çŒ« Misha æ‰€æ‹¥æœ‰çš„åšå®šä¿¡å¿µï¼šæˆ‘ç›¸ä¿¡ Misha åœ¨æ‰€æœ‰äººä¸­æœ€çˆ±æˆ‘ â€”â€” æˆ‘å°±æ˜¯çŸ¥é“ä»–çˆ±æˆ‘èƒœè¿‡å…¶ä»–æ‰€æœ‰äººï¼Œæˆ‘èƒ½åœ¨å†…å¿ƒæ·±å¤„æ„Ÿå—åˆ°ã€‚é‚£ä¹ˆè¿™ç§ä¿¡å¿µç®—ä¸ç®—æ˜¯çŸ¥è¯†çš„åšå®åŸºç¡€ï¼Ÿå¹¶ä¸æ˜¯ï¼Œç®€å•åœ°ç›¸ä¿¡æŸä»¶äº‹å¹¶ä¸ä¼šè®©å®ƒæˆçœŸã€‚æˆ‘ä»¬åšä¿¡ä¸ç–‘çš„äº‹æƒ…å¯èƒ½æœ€åè¢«è¯æ˜æ˜¯å‡çš„ã€‚è¿˜æœ‰ï¼Œå¦‚æœæœ‰äººæŒç›¸åçš„è§‚ç‚¹ä¼šæ€æ ·ï¼Ÿå¦‚æœæˆ‘çš„æœªå©šå¤«è®¤ä¸º Misha çˆ±ä»–å¤šä¸€äº›å‘¢ï¼Ÿ</p><p><img src="/images/non-sci_2.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p><strong>ä»…ä»…é€šè¿‡è¾ƒé‡æˆ‘ä»¬çš„è§‚ç‚¹ï¼Œæ˜¯æ— æ³•å¾—å‡ºè°å¯¹è°é”™çš„ã€‚</strong></p><p>æˆ‘ä»¬å¯ä»¥æ•°æ¯ä¸ªè§‚ç‚¹çš„æ”¯æŒäººæ•°ï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªå¤§éƒ¨åˆ†æˆ–æ˜¯ <strong>ä¸€è‡´åŒæ„çš„è§‚ç‚¹ (consensus)</strong> ï¼Œä½†æ˜¯è¿™ä¹Ÿä¸èƒ½ä½œä¸ºçŸ¥è¯†çš„åšå®åŸºç¡€ã€‚ä»…å› ä¸ºå¤§éƒ¨åˆ†äººè®¤åŒæŸäº‹æ˜¯å¹¶ä¸æ„å‘³ç€å®ƒå°±æ˜¯çœŸçš„ã€‚å‡ ä¸–çºªä»¥æ¥ï¼Œå‡ ä¹äººäººéƒ½è®¤ä¸ºåœ°çƒæ˜¯å¹³çš„ï¼Œä½†ç»“æœè¯æ˜ä»–ä»¬é”™äº† â€”â€” åœ°çƒæ˜¯åœ†çš„ã€‚</p><p>å¦ä¸€ä¸ªçŸ¥è¯†çš„æ¥æºå°±æ˜¯ <strong>æƒå¨ (authority)</strong> çš„è§‚ç‚¹ã€‚è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¥æºã€‚ä¸€äº›è¯¸å¦‚æ”¿æ²»é¢†è¢–ã€ä¸“å®¶ã€ç§‘å­¦å®¶ç­‰æƒå¨çš„è§‚ç‚¹ï¼Œä¹Ÿåªæ˜¯ä¸€ç§è§‚ç‚¹ã€‚æƒå¨æˆ–è®¸èƒ½æ¥è§¦åˆ°æ›´å¤šæˆ–æ›´å¥½çš„çŸ¥è¯†ï¼Œä½†ä»–ä»¬å‡ºäºä¸ªäººåˆ©ç›Šä¹Ÿä¼šæ¨åŠ¨è‡ªå·±çš„è§‚ç‚¹è¢«å¤§ä¼—æ¥å—ï¼Œä»–ä»¬çš„èŒä¸šå’Œåèª‰éƒ½ä¾èµ–äºæ­¤ã€‚å‡è®¾æˆ‘çš„æœªå©šå¤«æ‰¾åˆ°äº†ä¸€ä¸ªæ‡‚çŒ«è¯­çš„äººï¼Œé‚£äººå£°ç§° Misha æ›´çˆ±æˆ‘çš„æœªå©šå¤«ã€‚å½“ç„¶æˆ‘ä¼šå¯¹è¿™ä¸€ä¸“ä¸šè§‚ç‚¹è¡¨ç¤ºæ€€ç–‘ï¼Œå°¤å…¶å½“ä»–æ˜¯å—æˆ‘æœªå©šå¤«é›‡ä½£çš„æ—¶å€™ã€‚æˆ‘å¯ä»¥æ‰¾åˆ°æˆ‘è‡ªå·±çš„çŒ«å’ªä¸“å®¶æ¥å’Œæœªå©šå¤«çš„çŒ«è¯­è€…æ‰“æ“‚å°ã€‚ä½†è¿™æ—¶æˆ‘ä»¬åˆæœ‰ä¸¤ä¸ªç›¸åçš„è§‚ç‚¹äº† â€”â€” æˆ‘ä»¬éœ€è¦çš„æ˜¯ <strong>è¯æ® (evidence)</strong> ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç”¨è¯æ®æ¥è§£å†³ Misha æ›´çˆ±è°çš„äº‰è®ºå‘¢ï¼Ÿ</p><p>å‡è®¾æˆ‘æ€»æ˜¯ <strong>è§‚å¯Ÿ (observe)</strong> åˆ°æ¯æ¬¡ä¸‹ç­å›å®¶å Misha æ€»ä¼šè¿‡æ¥ååœ¨æˆ‘çš„è…¿ä¸Šè€Œä¸æ˜¯æˆ‘æœªå©šå¤«çš„è…¿ä¸Šã€‚æˆ‘å°±è¿ç”¨äº†å¯¹å®¢è§‚ä¸–ç•Œï¼Œä¹Ÿå°±æ˜¯å¯¹ä¸‹ç­å Misha åè°çš„è…¿ä¸Šçš„ <strong>è§‚å¯Ÿ (ovservation)</strong> æ¥è¯æ˜æˆ‘è¯´çš„ Misha æ›´çˆ±æˆ‘è¿™ä¸ª <strong>å‘½é¢˜ (statement)</strong> ã€‚</p><p>ä»¥ <strong>éšæœºè§‚å¯Ÿ (casual observation)</strong> å–è¯å¾—åˆ°çš„è®¤è¯†ï¼Œæ¯”å‰é¢å…¶ä»–æ–¹æ³•äº†è§£åˆ°çš„è®¤è¯†æ›´æœ‰æ ¹æ®ä¸€äº›ï¼Œä½†è¿™ä»ç„¶ä¸å¤Ÿå¥½ã€‚ <em>å› ä¸ºäººä»¬å¹¶ä¸ååˆ†æ“…é•¿è§‚å¯Ÿ</em> ã€‚æˆ‘ä»¬å€¾å‘äº <strong>é€‰æ‹©æ€§è§‚å¯Ÿ</strong> ï¼Œå¹¶ä¸”è®°ä½ä¸æˆ‘ä»¬è§‚å¿µç›¸ç¬¦çš„äº‹æƒ…ã€‚æ¯”å¦‚æˆ‘å¯èƒ½æ°å¥½å¿˜è®°äº†ï¼Œ Misha åœ¨æ—©é¥­çš„æ—¶å€™æ€»æ˜¯ååœ¨æˆ‘æœªå©šå¤«çš„è…¿ä¸Šã€‚</p><p>é™¤äº†é€‰æ‹©æ€§çŸ¥è§‰å¤–è¿˜å­˜åœ¨è®¸å¤š <strong>åè§ (bias)</strong> ï¼Œä¼šè®©éšæœºè§‚å¯Ÿæˆä¸ºä¸€ä¸ªæ£˜æ‰‹çš„è®¤è¯†æ¥æºã€‚æˆ‘ä»¬è¿ç”¨ <strong>é€»è¾‘ (logic)</strong> çš„èƒ½åŠ›ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ <strong>é€»è¾‘æ¨ç† (logical reasoning)</strong> å¾—å‡ºçš„è®¤è¯†çœ‹ä¸Šå»æ˜¯æœ‰åšå®åŸºç¡€çš„ï¼Œä½† <strong>éå½¢å¼é€»è¾‘æ¨ç† (informal logical reasoning)</strong> å¹¶ä¸æ€»æ˜¯å…·æœ‰ä¸€è‡´æ€§ã€‚äººä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­è¿›è¡Œæ¨ç†æ—¶ï¼Œæ€»ä¼šä¸åœåœ°å‡ºç° <strong>è°¬è¯¯ (fallacy)</strong> æˆ– <strong>é€»è¾‘çŸ›ç›¾ (logical inconsistency)</strong> ã€‚</p><p><img src="/images/non-sci_3.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å¦‚æœæƒ³è·å¾—æ›´å‡†ç¡®çš„è®¤è¯†ï¼Œç¡®å®šæˆ‘ä»¬å¯¹ä¸–ç•Œçš„è§£é‡Šæ˜¯æ­£ç¡®çš„ï¼Œé‚£å°±è¿˜éœ€è¦ç‚¹åˆ«çš„ä¸œè¥¿ã€‚æˆ‘ä»¬ä¸èƒ½ä¾èµ–äºä¸»è§‚çš„ã€æ— æ³•è¯å®çš„æ¥æº â€”â€” è¯¸å¦‚ä¿¡å¿µã€è§‚ç‚¹ã€èˆ†è®ºã€‚æˆ‘ä»¬ä¹Ÿä¸èƒ½ç›¸ä¿¡éšæœºè§‚å¯Ÿå’Œéå½¢å¼é€»è¾‘ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½è¢«æˆ‘ä»¬çš„ä¿¡å¿µä¸¥é‡æ‰­æ›²ã€‚</p><p>æˆ‘ä»¬éœ€è¦ <strong>ç³»ç»Ÿè§‚å¯Ÿ</strong> ï¼Œæ‘’å¼ƒä»»ä½•åè§ï¼Œè¾…ä»¥ä¸€è‡´çš„é€»è¾‘ã€‚æ¢è¨€ä¹‹ æˆ‘ä»¬éœ€è¦ <strong>ç§‘å­¦æ–¹æ³•</strong> ã€‚</p><hr><h1 id="ç§‘å­¦æ–¹æ³•-Scientific-Method"><a href="#ç§‘å­¦æ–¹æ³•-Scientific-Method" class="headerlink" title="ç§‘å­¦æ–¹æ³• (Scientific Method)"></a>ç§‘å­¦æ–¹æ³• (Scientific Method)</h1><p>å½“æˆ‘ä»¬è¯•å›¾è§£é‡Šä¸–ä¸Šäº‹ç‰©è¿è¡ŒåŸç†æ—¶ï¼Œä¸ºäº†ç¡®ä¿çŸ¥è¯†æœ‰æ•ˆï¼Œæˆ‘ä»¬éœ€è¦ç§‘å­¦æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¾é è§‚ç‚¹ã€ä¿¡å¿µã€éšæ„è§‚å¯Ÿå’Œéå½¢å¼é€»è¾‘ã€‚å®ƒä»¬éƒ½å¤ªä¸»è§‚ä¸”å®¹æ˜“å‡ºé”™ã€‚</p><p>ç§‘å­¦æ–¹æ³•åŸºäº <strong>ç³»ç»Ÿè§‚å¯Ÿ (systematic observation)</strong> å’Œ <strong>é€»è¾‘ä¸€è‡´æ€§ (consistent logic)</strong> ã€‚ä½¿ç”¨ç§‘å­¦æ–¹æ³•ï¼Œå¢åŠ äº†æˆ‘ä»¬å¾—å‡ºæ­£ç¡®è§£é‡Šçš„æœºç‡ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç§‘å­¦æ–¹æ³•é‰´å®š <strong>ç§‘å­¦ä¸»å¼  (scientific claim)</strong> ã€ <strong>å‡è¯´ (hypothesis)</strong> ï¼Œä»¥åŠé‰´å®šåœ¨æˆ‘ä»¬å®è¯ç ”ç©¶ä¸­ç”¨æ¥æ”¯æ’‘å‡è¯´çš„é‚£äº› <strong>ç»éªŒè¯æ® (empirical evidence)</strong> çš„è¯´æœåŠ›ã€‚</p><p>ç§‘å­¦æ–¹æ³•æœ‰å…­å¤§åŸåˆ™ç§‘å­¦æ–¹æ³•æœ‰å…­å¤§åŸåˆ™ã€‚å¦‚æœæˆ‘ä»¬çš„ç ”ç©¶ç¬¦åˆè¿™äº›åŸåˆ™ï¼Œå°±èƒ½å½’ä¸ºç§‘å­¦ç ”ç©¶ã€‚</p><p><img src="/images/sci-method_1.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è¿™ä¸ªå‡è¯´äº¦å¯ä»¥ä¸å…¶ä»–ç§‘å­¦è®ºæ–­ä¸€è¾ƒé«˜ä¸‹ï¼Œä¸ºæˆ‘ä»¬çš„ä¸–ç•Œæä¾›å°½å¯èƒ½æœ€å¥½çš„è§£é‡Šã€‚</p><p>ç¬¬ä¸€æ¡åŸåˆ™æ˜¯ï¼šå‡è¯´åº”è¯¥å¯ä»¥ <strong>åœ¨å®è¯ä¸­æ£€éªŒ (empirically testable)</strong> ï¼Œå³æ”¯æŒæˆ–åé©³å‡è¯´çš„ç»éªŒè¯æ®ã€ç‰©è¯æˆ–è§‚æµ‹ç»“æœéƒ½æ˜¯å¯ä»¥æ”¶é›†çš„ã€‚</p><p>æ¯”å¦‚æˆ‘å‡è®¾å®¶é‡Œçš„çŒ«çˆ±æˆ‘å¤šäºæˆ‘æœªå©šå¤«ã€‚è¦å®è¯æ£€éªŒè¿™ä¸ªå‡è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ”¶é›†è§‚å¯Ÿç»“æœæˆ–æ•°æ®ã€‚ä½†å¦‚ä½•è§‚å¯Ÿè¿™åªçŒ«å¯¹æˆ‘ä»¬çš„å–œçˆ±ç¨‹åº¦å‘¢ï¼Ÿæˆ‘ä»¬ä¸èƒ½è¯¢é—®çŒ«çš„çœ‹æ³•ã€‚å‡è®¾æˆ‘ä»¬éƒ½è®¤ä¸ºçŒ«æ˜¯æ— æ³•åƒäººç±»é‚£æ ·è¡¨è¾¾çˆ±æ„çš„ï¼Œé‚£å°±æ²¡ä»€ä¹ˆå¥½è§‚å¯Ÿçš„äº†ã€‚æ‰€ä»¥è¿™æ¡å‡è¯´ä¸ç¬¦åˆå®è¯å¯æ£€éªŒçš„åŸåˆ™ã€‚</p><p>ç¬¬äºŒåŸåˆ™æ˜¯ï¼š<strong>å¯é‡å¤æ€§ (replicability)</strong> ã€‚ä¸€é¡¹ç ”ç©¶åŠå…¶å‘ç°ç»“æœéƒ½åº”è¯¥å…·æœ‰å¯é‡å¤æ€§ã€‚è¿™æ„å‘³ç€é‡å¤åŸç ”ç©¶æ˜¯å¯ä»¥å¾—åˆ°ä¸€è‡´ç»“æœçš„ã€‚</p><p>å¦‚æœé¢„æœŸç»“æœåªå‡ºç°äº†ä¸€æ¬¡ï¼Œæˆ–å‡ºç°æ¬¡æ•°æå°‘ï¼Œé‚£è¿™ä¸ªç»“æœå¯èƒ½åªæ˜¯å·§åˆã€‚å¦‚æœä¸€ä¸ªå‡è¯´èƒ½è¢«é‡å¤ç¡®è®¤ï¼Œå®ƒä¼šæ›´ä¸ºå¯é ã€‚æ‰€ä»¥ä¸€é¡¹ç ”ç©¶éœ€è¦ç»å—ä½é‡å¤å’Œå¤åˆ¶çš„è€ƒéªŒã€‚æ¯”å¦‚æˆ‘è¯´æœæœªå©šå¤«è®¤åŒ â€œçŒ«åœ¨è°è…¿ä¸Šå‘†å¾—ä¹…å°±æ›´å–œæ¬¢è°â€ è¿™ä¸ªè¯„åˆ¤æ ‡å‡†ã€‚ç°åœ¨æˆ‘è§‚å¯Ÿåˆ°è¿™å‘¨çŒ«è¶´åœ¨æˆ‘è…¿ä¸Šçš„æ—¶é—´ï¼Œæ˜¯å®ƒå‘†åœ¨æœªå©šå¤«è…¿ä¸Šæ—¶é—´çš„ä¸¤å€ã€‚é‚£æ„å‘³ç€æˆ‘çš„å‡è¯´æ˜¯æ­£ç¡®çš„å—ï¼ŸçŒ«å’ªå°±çˆ±æˆ‘å¤šä¸€ç‚¹å—ï¼Ÿå¦‚æœæ¥ä¸‹æ¥å‡ å‘¨è¿™ä¸ªè§‚å¯Ÿç»“æœä¿æŒä¸å˜ï¼Œé‚£ä¹ˆæˆ‘çš„å‡è¯´å°±æ˜¯é è°±çš„ã€‚ä½†å¦‚æœè§‚å¯Ÿäº†ä¸€å‘¨è¿™åªçŒ«å°±æ­»äº†æ€ä¹ˆåŠï¼Ÿå¦‚æ­¤ä¸€æ¥æˆ‘ä»¬å°±æ— æ³•éªŒè¯è¿™ä¸ªå‡è¯´äº†ï¼Œè¿™ä¸ªç ”ç©¶å†ä¹Ÿæ— æ³•é‡å¤ã€‚</p><p>è¦éªŒè¯ç»“æœæ˜¯å¦å¯é‡å¤ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‰åŸç ”ç©¶çš„æ¡ä»¶å’Œè¿‡ç¨‹è¿›è¡Œé‡å¤ã€‚å‡å¦‚æˆ‘ä»¬å¤„ç†è¿‡ç¨‹ä¸åŒï¼Œäºæ˜¯å¾—åˆ°äº†åˆ«çš„ç»“æœï¼Œè¿™è¡¨æ˜åŸç ”ç©¶ä¸å¯é‡å¤å—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ã€‚é‡å¤å¤±è´¥å¯èƒ½æ˜¯ç”±äºæˆ‘ä»¬æ”¹å˜äº†ç¨‹åºã€‚</p><p>ç¬¬ä¸‰åŸåˆ™æ˜¯ <strong>å®¢è§‚æ€§ (objectivity)</strong> ï¼ŒæŒ‡ä»–äººèƒ½è‡ªè¡Œé‡å¤è¯¥å®éªŒè€Œæ— éœ€æ±‚åŠ©åŸç ”ç©¶è€…ã€‚â€œå®¢è§‚â€ çš„å­—é¢æ„æ€æ˜¯è°æ¥è¿›è¡Œç ”ç©¶ä¸é‡è¦ã€‚åŸºäºå‡è¯´è·Ÿå…¶ç¨‹åºçš„æè¿°ï¼Œæ¯ä¸ªäººéƒ½åº”è¯¥å¾—åˆ°ç›¸åŒçš„ç»“è®ºã€‚å› æ­¤ç ”ç©¶è€…æå‡ºçš„å‡è¯´ã€æ¦‚å¿µã€ç¨‹åºåº”å°½é‡å®¢è§‚ã€‚è¿™è¦æ±‚æ¸…æ¥šæ˜ç¡®åœ°å®šä¹‰æ‰€æœ‰ç ”ç©¶å…ƒç´ ï¼Œä¸ç»™ä¸»è§‚è§£é‡Šç•™ä»»ä½•ä½™åœ°ã€‚</p><p>å‡è®¾æˆ‘è®¤ä¸ºçŒ«å’ªæ‹¿è„¸è¹­æˆ‘æ˜¯ç¤ºçˆ±çš„è¡¨ç°ï¼Œä½†æˆ‘æ²¡æœ‰æ˜ç¡®å‘Šè¯‰æˆ‘æœªå©šå¤«è¿™ä¸€æ¡ï¼Œé‚£ä¹ˆæˆ‘è¡¡é‡çˆ±æ„çš„ç¨‹åºå°±æ˜¯ä¸»è§‚çš„ã€‚å³ä½¿æˆ‘ä»¬åŒæ—¶å¯¹çŒ«è¿›è¡Œç³»ç»Ÿæ€§è§‚å¯Ÿï¼Œç»“æœä»ç„¶ä¼šå› è§‚å¯Ÿè€…è€Œå¼‚ã€‚è¾ƒä¹‹æˆ‘æœªå©šå¤«ï¼Œæˆ‘ä¼šè®¤ä¸ºçŒ«ç¤ºçˆ±æ¬¡æ•°æ›´å¤šã€‚è¿™ä¸ªä¾‹å­ä¸­çš„ç»“è®ºæ˜¯ä¸»è§‚çš„ï¼Œå› æ­¤ä¸å…·æœ‰å¯æ¯”æ€§ï¼Œè€Œæˆ‘ä»¬ç»å¸¸å¯¹æ­¤æ¯«æ— è‡ªè§‰ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®è®¨è®ºå¹¶å°±ç¤ºçˆ±æ ‡å¿—è¾¾æˆå…±è¯†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„çŒ«å’ªçˆ±æ„è¡¡é‡ç¨‹åºåˆ™ä¸å¤Ÿå®¢è§‚ã€‚</p><p>ç¬¬å››åŸåˆ™æ˜¯ <strong>é€æ˜æ€§ (transparency)</strong> ã€‚ä¿æŒé€æ˜åº¦ä¸å®¢è§‚æ€§åŸåˆ™å¯†åˆ‡ç›¸å…³ã€‚åœ¨ç§‘å­¦ç•Œï¼Œä¸è®ºæ˜¯ä½ çš„æ”¯æŒè€…è¿˜æ˜¯æ‰¹è¯„è€…ï¼Œä»»ä½•äººéƒ½åº”è¯¥å¯ä»¥é‡å¤å¾—å‡ºä½ çš„ç»“è®ºã€‚è¿™è¦æ±‚ç ”ç©¶è€…å…±äº«ä»–ä»¬å»ºç«‹çš„å‡è®¾ â€”â€” å¦‚ä½•å®šä¹‰æ¦‚å¿µã€ä½¿ç”¨äº†ä»€ä¹ˆç ”ç©¶ç¨‹åºï¼Œè¿˜æœ‰ä¸€åˆ‡å’Œè¿›è¡Œç²¾ç¡®å¤åˆ¶ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p>ç¬¬äº”åŸåˆ™æŒ‡å‡ºä¸€ä¸ªå‡è¯´åº”è¯¥å…·æœ‰ <strong>å¯è¯ä¼ªæ€§</strong> ã€‚å¯è¯ä¼ªæ€§æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŸåˆ™ã€‚å¦‚æœä½ èƒ½æƒ³è±¡å‡ºä¸€ç§æƒ…å½¢ä¼šä½¿è§‚å¯Ÿä¸å‡è¯´å‡ºç°çŸ›ç›¾ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å¯è¯ä¼ªçš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä¸å‡ºæœ‰ä»€ä¹ˆæ ·çš„åä¾‹å­˜åœ¨ï¼Œé‚£è¿™ä¸ªå‡è¯´å°±ä¸å¯èƒ½è¢«æ¨ç¿»ã€‚</p><p>æ¯”å¦‚ä½ é—®ä¸€ä¸ªæœ‰åšå®šå®—æ•™ä¿¡ä»°çš„äººï¼Œæœ‰ä»€ä¹ˆè¯æ®å¯ä»¥è¯æ˜ä»–ä»¬çš„ä¿¡ä»°æ˜¯è™šå‡çš„ï¼Ÿä¸ç®¡ä½ æå‡ºä»€ä¹ˆæ ·çš„åä¾‹ï¼Œä»–ä»¬å¯èƒ½éƒ½è¦äº‰è¾©ã€‚è¿™äº›äº‹å®å¹¶ä¸è¿èƒŒè‡ªå·±çš„å¿ è¯šä¿¡ä»°ã€‚è¿™ç§ä»…æºäºçº¯ä¿¡å¿µçš„è§‚ç‚¹ï¼Œæ¯”å¦‚å®—æ•™ï¼Œæ˜¯ä¸å±äºç§‘å­¦èŒƒç•´çš„ã€‚å¦‚æœå¯¹ä»»ä½•å½¢å¼çš„è¯æ®ï¼Œè¯¥å‡è¯´éƒ½ä¸æ¥å—å…¶ä¸ºåä¾‹ï¼Œé‚£è¿™ä¸ªå‡è¯´æ ¹æœ¬æ²¡æœ‰è®¨è®ºæ„ä¹‰ï¼Œä¹Ÿä¸ç”¨å†å¯»æ±‚è¯å®ï¼Œå› ä¸ºç»“è®ºå·²ç»åœ¨é‚£é‡Œäº†ã€‚</p><p>æˆ‘ä»¬è¦è®²çš„ç¬¬å…­ç‚¹ä¹Ÿæ˜¯æœ€åçš„åŸåˆ™æ˜¯ <strong>é€»è¾‘ä¸€è‡´æ€§ (logical consistency)</strong> ã€‚ä¸€ä¸ªå‡è¯´åº”è¯¥ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´æˆ–è¿è´¯ã€‚è¿™æ˜¯æŒ‡å‡è¯´ä¸ä¼šæœ‰ä»»ä½•è‡ªç›¸çŸ›ç›¾çš„åœ°æ–¹ã€‚æ¯”å¦‚ ï¼Œä¸€ä¸ªæ”¯æ’‘å‡è¯´çš„å­å‡è®¾æ˜¯å¦ä¸å‡è¯´å†²çªã€‚</p><p>æˆ‘ä»¬è§‚å¯Ÿå¾—å‡ºçš„ç»“è®ºä¹Ÿåº”è¯¥ä¿æŒé€»è¾‘ä¸€è‡´æ€§ã€‚è¿™å°±æ˜¯è¯´ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œç ”ç©¶è€…å¯¹æ­£é¢æˆ–åé¢è¯æ®çš„æ ‡å‡†åº”è¯¥ä¸€è‡´ã€‚</p><p>è®©æˆ‘ç»§ç»­ç”¨çŒ«çš„ä¾‹å­è¿›è¡Œè¯´æ˜ã€‚æˆ‘çš„å‡è¯´æ˜¯çŒ«æ›´çˆ±æˆ‘ï¼Œæ‰€ä»¥é¢„æµ‹ä»–ä¼šåœ¨æˆ‘è…¿ä¸Šå‘†æ›´ä¹…ã€‚ä½†è¦æ˜¯å®ƒè¶´åœ¨æˆ‘æœªå©šå¤«è…¿ä¸Šæ›´ä¹…å‘¢ï¼Ÿæˆ‘ä¼šè¯´çŒ«èƒ½å¯Ÿè§‰åˆ°è¶´åœ¨æˆ‘è…¿ä¸Šè®©æˆ‘ä¸èˆ’æœï¼Œå› ä¸ºä»–çˆ±æˆ‘å¤šä¸€äº›æ‰€ä»¥ç…§é¡¾æˆ‘æƒ…ç»ªä¾¿è¶´å¾—å°‘äº†ã€‚æ˜¾ç„¶ï¼Œè¿™å°±æ˜¯é€»è¾‘ä¸ä¸€è‡´ã€‚ä¸ºäº†è®©è§‚å¯Ÿç»“æœç¬¦åˆæˆ‘çš„å‡è¯´ï¼Œæˆ‘å¯¹è§‚å¯Ÿç»“æœè¿›è¡Œäº† â€œå†è§£è¯»â€ã€‚é¡ºä¾¿ä¸€æï¼Œè¿™ä¹Ÿä¼šè®©æˆ‘çš„å‡è¯´æ— æ³•è¯ä¼ªã€‚ä¸ç®¡çŒ«æ˜¯å¦å¸¸è¶´æˆ‘è…¿ä¸Šï¼Œæˆ‘éƒ½ä¼šå¾—å‡ºå®ƒçˆ±æˆ‘çš„ç»“è®ºã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼Œç§‘å­¦æ–¹æ³•è¦æ±‚æˆ‘ä»¬æ„é€ çš„å‡è¯´ä¸ºå®è¯å¯æ£€éªŒçš„ï¼Œè¿™å°±æ˜¯è¯´è§‚å¯Ÿç»“æœå¯ä»¥æ”¯æ’‘æˆ–åé©³å‡è¯´ï¼›å¯é‡å¤æ€§ï¼Œä¹Ÿå°±æ˜¯å‡è¯´æ˜¯å¯ä»¥è¢«é‡å¤æµ‹è¯•çš„ï¼›å®¢è§‚æ€§ï¼ŒæŒ‡ä»–äººå¯ä»¥ç‹¬ç«‹æ£€éªŒè¿™ä¸ªå‡è¯´ï¼›é€æ˜æ€§ï¼ŒæŒ‡å‡è¯´ä¸ç»“æœéƒ½å…¬ä¹‹äºäººï¼Œä»¥ä¾¿ä»–äººæ£€éªŒï¼›å¯è¯ä¼ªæ€§ï¼ŒæŒ‡æ‰¾åˆ°åä¾‹çš„å¯èƒ½æ€§æ˜¯å­˜åœ¨çš„ã€‚æœ€åï¼Œé€»è¾‘ä¸€è‡´æ€§æ˜¯æŒ‡å‡è¯´æœ¬èº«ä¿æŒå†…åœ¨çš„ä¸€è‡´æ€§ï¼Œæ”¯æŒæˆ–åé©³å‡è¯´çš„è§‚å¯Ÿç»“è®ºä¹Ÿåº”é€»è¾‘ä¸€è‡´ã€‚</p><p>æœ€åä¸€ç‚¹ï¼Œç§‘å­¦æ–¹æ³•åªåœ¨æ€åº¦ç«¯æ­£çš„æƒ…å†µä¸‹æ‰æœ‰æ•ˆã€‚ä¸ºäº†æå‡ºæ›´å¥½çš„å‡è¯´ï¼Œç ”ç©¶è€…ä»¬åº”è¯¥å¯¹è‡ªå·±å’Œä»–äººçš„ç ”ç©¶æŒæ‰¹åˆ¤æ€åº¦ï¼Œæ‰€ä»¥ä»–ä»¬åº”è¯¥åšåˆ°å…¬å¼€é€æ˜ã€ä¹äºæ¥å—æ‰¹åˆ¤ã€‚å¦‚æœåˆ«äººæœ‰æ›´å¥½çš„è§£é‡Šï¼Œå°±æ”¾å¼ƒä»–ä»¬å¿ƒçˆ±çš„å‡è¯´ã€‚å¦‚æ­¤ï¼Œç§‘å­¦ç•Œæ‰èƒ½åƒè¿›åŒ–ç³»ç»Ÿä¸€æ · â€”â€” åªæœ‰æœ€åˆé€‚ã€æœ€å¯é çš„å‡è¯´å­˜ç•™ä¸‹æ¥ã€‚</p><hr><h1 id="ç§‘å­¦ä¸»å¼ -Scientific-Claims"><a href="#ç§‘å­¦ä¸»å¼ -Scientific-Claims" class="headerlink" title="ç§‘å­¦ä¸»å¼  (Scientific Claims)"></a>ç§‘å­¦ä¸»å¼  (Scientific Claims)</h1><p>æˆ‘å·²ç»è®²è¿‡äº†æœ‰å…³æˆ‘ä»¬å‘¨å›´ä¸–ç•Œçš„å‘½é¢˜ã€å‡è¯´ä»¥åŠè§£é‡Šï¼Œæˆ‘æ²¡æœ‰å‡†ç¡®è§£é‡Šå°±ç”¨äº†è¿™äº›é€šç”¨æœ¯è¯­ã€‚æ˜¯æ—¶å€™é˜æ˜æ¸…æ¥šäº†ã€‚</p><p>å…³äºå‘¨é­ä¸–ç•Œçš„ç§‘å­¦ä¸»å¼ ï¼Œå¯åˆ†ä¸ºä¸åŒç±»åˆ«ã€‚ä¸€äº›ç§‘å­¦ä¸»å¼ ä¼šæ¯”åˆ«çš„ä¸»å¼ æè¿°æˆ–è§£é‡Šæ›´å¤šç°è±¡ã€‚åŒæ ·ï¼ŒæŸäº›ç§‘å­¦ä¸»å¼ å¯¹äºæˆ‘ä»¬å‘¨å›´çš„ä¸–ç•Œï¼Œå‘½é¢˜ã€å‡è¯´ä»¥åŠè§£é‡Šæä¾›äº†æ›´å¯ä¿¡çš„æè¿°æˆ–è§£é‡Šã€‚æˆ‘ä»¬å‘ç°æŸäº›ä¸»å¼ ä¼šæ›´å‡†ç¡®ä¸€äº›ï¼Œæ¯”èµ·åˆ«çš„æ¥æœ‰æ›´å¤šè¯æ®æ”¯æŒã€‚</p><p>åœ¨ç§‘å­¦ä¸­ï¼Œæœ€åŸºæœ¬çš„ä¸»å¼ æ˜¯ <strong>è§‚å¯Ÿ (observation)</strong> ã€‚è§‚å¯Ÿå¯ä»¥æ˜¯å¯¹ä¸–ç•Œå‡†ç¡®æˆ–ä¸å‡†ç¡®çš„ <strong>è¡¨è¾¾ï¼ˆ(representation)</strong> ã€‚</p><p>å‡è®¾æˆ‘è§‚å¯Ÿæˆ‘çš„çŒ«ï¼šå§œé»„è‰²æ¯›ï¼Œé‡ 6.5 å…¬æ–¤ã€‚å¤§å¤šæ•°ç§‘å­¦å®¶ä¼šæ¥å—è¿™ä¸ªè§‚å¯Ÿç»“æœï¼Œä½œä¸ºæˆ‘ä»¬å‘¨å›´ä¸–ç•ŒæŸä¸€æ–¹é¢è¾ƒä¸ºå‡†ç¡®çš„æŠ•å°„ â€”â€” å‡è®¾ä½“é‡ç§¤æœ‰æ•ˆä¸”å¯é çš„ã€‚ä½†å°±è§£é‡ŠåŠ›åº¦è€Œè¨€ï¼Œä»–ä»¬ä¼šå‘ç°è¿™ä¸ªè§‚å¯Ÿéå¸¸æ— è¶£ â€”â€” è§‚å¯Ÿæœ¬èº«æ²¡æœ‰å¾ˆå¤§ä¿¡æ¯é‡ï¼Œå®ƒä¸èƒ½æè¿°å±æ€§é—´çš„ä¸€èˆ¬è”ç³»ï¼Œæ— æ³•è§£é‡Šä»»ä½•äº‹ã€‚</p><p>ä½†è¿™ä¸è¡¨ç¤ºè§‚å¯Ÿä¸é‡è¦ã€‚è§‚å¯Ÿæ˜¯ç»éªŒç§‘å­¦çš„åŸºç¡€ï¼Œä½†æ˜¯è§‚å¯Ÿæœ¬èº«ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œè§‚å¯Ÿæœ¬èº«æ˜¯æœ€æ— è¶£çš„ç§‘å­¦ä¸»å¼ ï¼Œå› ä¸ºå®ƒæ²¡ä»€ä¹ˆè§£é‡Šèƒ½åŠ›ã€‚è§‚å¯Ÿåœ¨ç¡®å®šæˆ–åé©³å‡è¯´æ—¶ä¼šå˜å¾—æœ‰ç”¨ã€‚</p><p><strong>å‡è¯´ (hypothesis)</strong> æ˜¯ä¸€ç§ <strong>å‘½é¢˜ (hypothesis)</strong> ï¼Œå®ƒæè¿°äº† <strong>å±æ€§ (hypothesis)</strong> é—´çš„ <strong>æ¨¡å¼ (pattern)</strong> æˆ–ä¸€èˆ¬å…³ç³»ã€‚å‡è¯´ä¹Ÿå¯ä»¥å¯¹å®ƒæè¿°çš„æ¨¡å¼è¿›è¡Œè§£é‡Šã€‚æˆ‘ä»¬å»ºç«‹è¿™æ ·ä¸€ä¸ªå‡è¯´ï¼šå§œé»„è‰²çŒ«ä¸€èˆ¬éƒ½ä¼šè¶…é‡ï¼Œæ¦‚ç‡æ¯”å…¶ä»–é¢œè‰²çš„çŒ«è¦é«˜å¾—å¤šã€‚æˆ‘å¯ä»¥ç”¨è§£é‡Šæ¥å»¶ä¼¸è¿™ä¸ªå‡è¯´ï¼Œå°±æ˜¯æ¯›è‰²å’Œè‚¥èƒ–é—´çš„ç›¸å…³æ€§ã€‚æ¯”å¦‚ï¼Œé€šè¿‡è¯æ˜æ§åˆ¶å§œé»„æ¯›è‰²å’Œå‘å‡ºé¥±è…¹ä¿¡å·çš„åŸºå› æ˜¯è¿é”çš„ã€‚</p><p>å‡è¯´çš„ <strong>å¯ä¿¡åº¦èŒƒå›´ (plausibility)</strong> å¯ä»¥ä»éå¸¸ä¸ç¡®å®šåˆ°éå¸¸ç¡®å®šã€‚ä¸€ä¸ªå‡è¯´è‹¥æ˜¯æ²¡æœ‰æ”¯æŒï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸ç¡®å®šçš„ã€‚æ¯”å¦‚è¿™æ˜¯ä¸ªæ–°ä¸”æœªç»æ£€éªŒçš„å‡è¯´ã€‚å‡è¯´ä¹Ÿèƒ½è¢«å¾ˆå¤šå®è¯ç ”ç©¶å¼ºçƒˆæ”¯æŒï¼Œä»è€Œå˜å¾—æ›´ç¡®å®šã€‚</p><p><img src="/images/sci-claim_1.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å‡è®¾çš„ä¸€ç§ç‰¹æ®Šç±»å‹å°±æ˜¯ <strong>å®šå¾‹ (law)</strong> ï¼Œå®šå¾‹æ˜¯å¯¹ <strong>å…³ç³» (relation)</strong> æˆ–æ¨¡å¼éå¸¸ç²¾ç¡®çš„æè¿° â€”â€” ç²¾ç¡®åˆ°æ€»æ˜¯èƒ½ç”¨ <strong>æ•°å­¦å…¬å¼ (mathematical equations)</strong> è¡¨è¾¾ã€‚å®ƒä»¬é€šå¸¸è¢«è¯æ˜å¾—å¾ˆå®Œæ•´ï¼Œæ‰€ä»¥å®ƒä»¬å¦‚æ­¤ç²¾ç¡®ã€‚æ¯”å¦‚ï¼Œæˆ‘æŠŠçŒ«é£Ÿç›†ä» 56 ç±³é«˜çš„åœ°æ–¹æ‰”ä¸‹å»ï¼Œä¸”æˆ‘çŸ¥é“ä¸‡æœ‰å¼•åŠ›å¸¸æ•°ï¼Œç„¶åç”¨ç‰›é¡¿çš„ä¸‡æœ‰å¼•åŠ›å®šå¾‹å°±èƒ½å¾ˆå‡†ç¡®åœ°é¢„æµ‹è¿™ä¸ªç¢—æ‰åˆ°åœ°ä¸Šè¦èŠ±å¤šé•¿æ—¶é—´ã€‚</p><p>å®šå¾‹èƒ½åšå‡ºå¾ˆç²¾ç¡®çš„é¢„æµ‹ ä½†å®ƒä»¬é€šå¸¸ä¸ä¼šè§£é‡Šå…¶æè¿°çš„å…³ç³»ã€‚åœ¨è¿™é‡Œï¼Œæ˜¯è·ç¦»ã€æ—¶é—´å’Œé‡åŠ›ä¹‹é—´çš„å…³ç³»ã€‚å½“ç„¶ï¼Œç¤¾ä¼šç§‘å­¦æ–¹é¢çš„å®šå¾‹å¾ˆå°‘èƒ½è¡¨è¾¾æˆå…¬å¼ã€‚æˆ‘ä»¬å¯¹ä¸ªäººå’Œäººç¾¤çš„äº†è§£è¿˜å¤ªå°‘ï¼Œè¿˜ä¸èƒ½å¾—åˆ°å¦‚æ­¤ç²¾åº¦çš„å›ºå®šè¡Œä¸ºæ¨¡å¼ï¼Œå¹¶ç”¨æ¥æ¨æµ‹å‡ºç§‘å­¦å®šå¾‹ã€‚</p><p><img src="/images/sci-claim_2.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®²è®² <strong>â€œç†è®º (theory)â€</strong> çš„æ¦‚å¿µã€‚åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œç†è®ºæ„å‘³ç€ <strong>æœªè¢«è¯æ˜çš„ (unsubstantiated)</strong> å‘½é¢˜ï¼Œæœ‰æ ¹æ®çš„çŒœæƒ³ã€‚ä½†æ˜¯åœ¨ç§‘å­¦ä¸­ï¼Œç†è®ºæŒ‡çš„æ˜¯è®¸å¤šç›¸å…³ç°è±¡çš„æ€»ä½“è§£é‡Šã€‚åœ¨è‡ªç„¶å’Œè¡Œä¸ºç§‘å­¦ä¸­ï¼Œç†è®ºç”±è¢«ç»éªŒè¯æ®å¼ºçƒˆæ”¯æŒçš„å„ç§å‡è¯´æ„æˆã€‚åœ¨ç¤¾ä¼šç§‘å­¦ä¸­ï¼Œæ›´å¤šçš„æ˜¯å®šæ€§ç ”ç©¶å’Œå†å²æ¯”è¾ƒçš„æ–¹æ³•ã€‚å½“ç†è®ºç»å—ä½äº†é€»è¾‘ä¸Šã€å†å²ä¸Šæˆ–å®šæ€§åˆ†æçš„é©³æ–¥æ—¶ï¼Œå¯ä»¥è®¤ä¸ºè¯¥ç†è®ºé«˜åº¦å¯ä¿¡ã€‚</p><p><img src="/images/sci-claim_3.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>åœ¨ç§‘å­¦èŒƒç•´é‡Œï¼Œç†è®ºçš„è§£é‡Šæœ€ä¸ºå®Œå–„ï¼Œæ˜¯æˆ‘ä»¬æ‹¥æœ‰çš„æœ€æ¥è¿‘å‡†ç¡®çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒä»¬ç”±ç»ç§‘å­¦æ–¹æ³•å®¡è§†å¹¶ç•™å­˜çš„å‡è¯´æ„æˆã€‚å½“ç„¶ï¼Œè¿™ä¸æ„å‘³ç€ç§‘å­¦ç†è®ºæ˜¯ç¡®å®šæˆ–çœŸå®çš„ã€‚ä¸–ä¸Šæœ‰è®¸å¤šè¯æ˜å®Œå¤‡çš„ç†è®ºæœ€ç»ˆä¹Ÿè¢«å–ä»£äº†ï¼Œæ¯”å¦‚ç‰›é¡¿åŠ›å­¦å°±ä¸ºç›¸å¯¹è®ºè®©è·¯äº†ã€‚ <strong>ç§‘å­¦çš„ä¸–ç•Œé‡Œæ²¡æœ‰ç¡®å®šæ€§ï¼Œåªæœ‰æš‚æ—¶çš„æœ€ä½³è§£é‡Š (provisional best explanation)ã€‚</strong></p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;éç§‘å­¦çš„æ–¹æ³•-Non-scientific-Methods&quot;&gt;&lt;a href=&quot;#éç§‘å­¦çš„æ–¹æ³•-Non-scientific-Methods&quot; class=&quot;headerlink&quot; title=&quot;éç§‘å­¦çš„æ–¹æ³• (Non-scientific Methods)&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="social-science" scheme="https://theinfinitegame.tech/categories/social-science/"/>
    
    
      <category term="è®¡é‡æ–¹æ³•" scheme="https://theinfinitegame.tech/tags/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"/>
    
      <category term="ç¤¾ä¼šç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E7%A4%BE%E4%BC%9A%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹äºŒåä¸‰ | ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-type-i-and-type-ii-errors/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-type-i-and-type-ii-errors/</id>
    <published>2020-02-03T05:58:06.000Z</published>
    <updated>2020-02-03T13:46:55.170Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯"><a href="#ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯" class="headerlink" title="ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯"></a>ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯</h1><p>å›å¿†ä¸€ä¸‹æ­¤å‰æåˆ°è¿‡çš„åº­å®¡çš„ä¾‹å­ã€‚è¢«å‘Šæ–¹çš„è¾©æŠ¤å¾‹å¸ˆçš„è§‚ç‚¹æ˜¯è¢«å‘Šæ˜¯æ— è¾œçš„ï¼Œå…¬è¯‰æ–¹åˆ™è¯•å›¾è¯´æœé™ªå®¡å›¢å’Œæ³•å®˜è¢«å‘Šæ˜¯æœ‰ç½ªçš„ã€‚ä¸¾è¯æœ‰ç½ªçš„è´£ä»»åœ¨äºåŸå‘Šã€‚è¢«å‘Šåªæœ‰åœ¨åŸå‘Šæä¾›æœ‰åŠ›è¯æ®é©³æ–¥è¢«å‘Šå‡å®šæ— ç½ªçš„æƒ…å†µä¸‹æ‰èƒ½è¢«è®¤å®šä¸ºæœ‰ç½ªã€‚</p><p>åœ¨å®¡åˆ¤æ—¶ï¼Œæœ‰å››ç§å¯èƒ½çš„ç»“æœã€‚ä¸€ï¼Œè¢«å‘Šç¡®å®æœ‰ç½ªä¸”è¢«åˆ¤æœ‰ç½ªï¼Œè¿™æ˜¯ä¸ªæ­£ç¡®çš„å†³å®šã€‚äºŒï¼Œè¢«å‘Šç¡®å®æ— è¾œä¸”è¢«åˆ¤æ— ç½ªï¼Œè¿™ä¹Ÿæ˜¯æ­£ç¡®çš„å†³å®šã€‚ä¸‰ï¼Œè¢«å‘Šå®é™…ä¸Šæ˜¯æ— è¾œçš„ï¼Œä½†è¢«åˆ¤æœ‰ç½ªï¼Œè¿™æ˜¯é”™è¯¯çš„å†³å®šã€‚å››ï¼Œè¢«å‘Šå®é™…ä¸Šæœ‰ç½ªçš„ï¼Œä½†æ˜¯è¢«åˆ¤æ— ç½ªï¼Œè¿™ä¹Ÿæ˜¯é”™è¯¯çš„å†³å®šã€‚</p><p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å®æ–½æ˜¾è‘—æ€§æ£€éªŒæ—¶ä¼šå‘ç”Ÿçš„æƒ…å†µã€‚è¾©æ–¹è§‚ç‚¹ç±»ä¼¼é›¶å‡è®¾ä¸ºçœŸï¼Œè€Œè¢«å‘Šæœ‰ç½ªåˆ™ç­‰æ•ˆäºé›¶å‡è®¾ä¸ºå‡ã€‚åˆ¤è¢«å‘Šæœ‰ç½ªç±»ä¼¼æ‹’ç»é›¶å‡è®¾ï¼Œè€Œæ— ç½ªé‡Šæ”¾åˆ™ç­‰åŒäºä¸æ‹’ç»é›¶å‡è®¾ã€‚è¿™ä¼šå¯¼è‡´å››ç§å¯èƒ½çš„æƒ…å½¢ã€‚å…¶ä¸­çš„ä¸¤ç§ï¼Œä½ åšäº†æ­£ç¡®çš„å†³å®šï¼ŒåŒ…æ‹¬é›¶å‡è®¾çš„ç¡®ä¸ºçœŸå¹¶ä¸”ä½ æ²¡æœ‰æ‹’ç»å®ƒä»¥åŠé›¶å‡è®¾çš„ç¡®ä¸ºå‡å¹¶ä¸”ä½ æ‹’ç»äº†å®ƒã€‚ä½†ä¹Ÿæœ‰ä¸¤ç§ä½ åšäº†é”™è¯¯çš„å†³å®šï¼ŒåŒ…æ‹¬é›¶å‡è®¾ä¸ºçœŸè€Œä½ æ‹’ç»äº†å®ƒä»¥åŠé›¶å‡è®¾çš„ç¡®ä¸ºå‡è€Œä½ æ²¡æœ‰æ‹’ç»å®ƒã€‚ç¬¬ä¸€ä¸ªé”™è¯¯æˆ‘ä»¬ç§°ä¸º <strong>ç¬¬ä¸€ç±»é”™è¯¯ (type I error)</strong> ï¼Œæˆ–è€…è¯´ <strong>ä¼ªé˜³æ€§ (false positive)</strong> ã€‚ç¬¬ä¸ªé”™è¯¯æˆ‘ä»¬ç§°ä¸º <strong>ç¬¬äºŒç±»é”™è¯¯ (type II error)</strong> ï¼Œæˆ–è€…è¯´ <strong>ä¼ªé˜´æ€§ (false negative)</strong> ã€‚</p><img src="/images/t1t2_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è®©æˆ‘ç»™ä½ ä¸¾ä¸ªä¾‹å­ã€‚æƒ³è±¡ä½ çš„é›¶å‡è®¾æ˜¯ï¼šç¾å›½çš„æŒè¯æ°´è‚ºæ½œæ°´è€…æ€»ä½“ï¼Œ 50% æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚æ¢è¨€ä¹‹ï¼Œ $ \pi = 0.5 $ ã€‚å¤‡é€‰å‡è®¾æ˜¯å®ƒæ˜¯å¦å¤–ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œæ¢è¨€ä¹‹ï¼Œ $ \pi \neq 0.5 $ ã€‚ä½ é—®äº†ä¸€ç»„ç®€å•éšæœºæŠ½æ ·çš„ 500 ä¸ªç¾å›½æ½œæ°´è€…ï¼Œä½ å‘ç°æœ‰ 0.56 çš„æ¯”ä¾‹æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚ç°åœ¨ï¼Œå‡å®šä½ çš„é›¶å‡è®¾å®é™…ä¸Šæ˜¯çœŸçš„ï¼Œå½“ä½ å†³å®šåŸºäºä½ çš„æ ·æœ¬æ•°æ®æ‹’ç»é›¶å‡è®¾æ—¶ï¼Œä¸€ä¸ªç¬¬ä¸€ç±»é”™è¯¯å°±å‡ºç°äº†ã€‚ </p><img src="/images/t1t2_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><a id="more"></a><p>å¦‚æœé›¶å‡è®¾ä¸ºçœŸï¼ŒæŠ½æ ·åˆ†å¸ƒæ˜¯åƒä¸‹é¢è¿™æ ·çš„ï¼š</p><img src="/images/t1t2_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å¦‚æœä½ çš„æ˜¾è‘—æ€§æ°´å¹³ $ \alpha $ ç­‰äº 0.05 ï¼Œé€šè¿‡æŸ¥è¯¢ z è¡¨å¾—åˆ°ä¸´ç•Œå€¼æ˜¯ -1.96 å’Œ 1.96 ã€‚ä½ çš„æ£€éªŒç»Ÿè®¡é‡è½åœ¨æ‹’ç»åŸŸå†…ã€‚æ¢è¨€ä¹‹ï¼Œä½ è¦æ‹’ç»é›¶å‡è®¾ã€‚è¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„æ¦‚ç‡æ˜¯ 0.025 åŠ ä¸Š 0.025 ï¼Œç­‰äº 0.05 ã€‚æ„å‘³ç€ç¬¬ä¸€ç±»é”™è¯¯å‘ç”Ÿçš„æ¦‚ç‡ç­‰äºæ˜¾è‘—æ€§æ°´å¹³ã€‚</p><img src="/images/t1t2_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ç”±æ­¤ï¼Œä½ å¯èƒ½æƒ³åˆ°è¦é™ä½æ˜¾è‘—æ€§æ°´å¹³ã€‚</p><img src="/images/t1t2_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ä½†æ˜¯ï¼Œè¿™ä¸ä¸€å®šæ˜¯ä¸ªå¥½ä¸»æ„ã€‚å¦‚æœä½ åœ¨é›¶å‡è®¾å®é™…ä¸ºçœŸæ—¶é™ä½äº†é”™è¯¯åœ°æ‹’ç»å®ƒçš„æ¦‚ç‡ï¼Œä½ å®é™…ä¸Šå¢åŠ äº†é›¶å‡è®¾å®é™…ä¸ºå‡è€Œä½ é”™è¯¯åœ°æ²¡æœ‰æ‹’ç»å®ƒçš„æ¦‚ç‡ã€‚ </p><img src="/images/t1t2_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>çŠ¯ç¬¬äºŒç±»é”™è¯¯çš„æ¦‚ç‡æˆ‘ä»¬ç§°ä¸º $ \beta $ ã€‚</p><img src="/images/t1t2_7.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è®¡ç®— $ \beta $ ç›¸å½“å¤æ‚ï¼Œå®ƒä¾èµ–å„ç§å› ç´ ï¼Œä¾‹å¦‚ $ \alpha $ çš„å€¼ï¼Œæ ·æœ¬å®¹é‡ä»¥åŠå‚æ•°çš„çœŸå®å€¼ã€‚åŸºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šå»è®¡ç®— $ \beta $ çš„å€¼ï¼Œä½†é‡è¦çš„æ˜¯ä½ éœ€è¦æ„è¯†åˆ°ï¼Œå½“æˆ‘ä»¬è¯•å›¾é™ä½æŸä¸€ç±»é”™è¯¯çš„æ¦‚ç‡æ—¶ï¼Œå¦ä¸€ç±»é”™è¯¯çš„æ¦‚ç‡ä¼šä¸Šå‡ã€‚</p><img src="/images/t1t2_8.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å½“é›¶å‡è®¾ä¸ºå‡æ—¶ï¼Œå¹¶ä¸”ä½ å®æ–½äº†æ£€éªŒï¼Œä½ å¸Œæœ›æ£€éªŒçš„ <strong>åŠŸæ•ˆ (power)</strong> æ˜¯é«˜çš„ã€‚æ£€éªŒçš„åŠŸæ•ˆæ˜¯æ‹’ç»é›¶å‡è®¾çš„æ¦‚ç‡ï¼Œç»™å®šå®ƒä¸ºå‡ï¼Œæ¢è¨€ä¹‹ï¼Œä¸€ä¸ªæ£€éªŒçš„åŠŸæ•ˆç­‰äº 1 å‡å»ç¬¬äºŒç±»é”™è¯¯çš„æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯ $ 1 - \beta $ ã€‚</p><img src="/images/t1t2_9.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ä¸ºä»€ä¹ˆåŠŸæ•ˆè¿™ä¹ˆé‡è¦å‘¢ï¼Ÿæ˜¯è¿™æ ·çš„ï¼Œå½“ä½ è¦å®æ–½ä¸€é¡¹ç ”ç©¶ä¹‹å‰ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç¡®å®šä½ éœ€è¦å¤šå°‘çš„å‚ä¸è€…ã€‚åœ¨ä½ å®æ–½å®Œç ”ç©¶ä¹‹åï¼Œå®ƒèƒ½å¸®åŠ©ä½ ç¡®å®šç»“è®ºä¸æ˜¯ç»Ÿè®¡æ˜¾è‘—çš„ã€‚</p><p>æœ€åä¸€ä¸ªæç¤ºï¼Œåœ¨å®è·µä¸­ï¼Œä½ æ°¸è¿œæ— ä»å¾—çŸ¥æŸä¸ªå†³å®šæ­£ç¡®ä¸å¦ã€‚æˆ‘ä»¬å”¯ä¸€èƒ½åšçš„æ˜¯æ§åˆ¶åšå‡ºä¸æ­£ç¡®å†³å®šçš„æ¦‚ç‡ã€‚</p><hr><h1 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h1><p>æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªå¯¹é²¸é²¨æ„Ÿå…´è¶£çš„æ½œæ°´è€…ï¼Œä½ æƒ³è¦çŸ¥é“è¿™äº›å·¨å¤§çš„åŠ¨ç‰©å¹³å‡çš„èº«é•¿æœ‰å¤šå°‘ã€‚æˆ‘ä»¬è¿˜å‡è®¾ä½ å·²ç»èŠ±è´¹äº†å¾ˆå¤šå¹´åœ¨ä¸–ç•Œå„åœ°ç ”ç©¶äº†è¿™äº›ç”Ÿç‰©ã€‚è¿™äº›å¹´ä½ å·²ç»æµ‹é‡äº† 258 å¤´é²¸é²¨ã€‚å› ä¸ºä½ å·²ç»æµ‹é‡äº†ä¸–ç•Œå„åœ°çš„é²¸é²¨ï¼Œæˆ‘ä»¬å‡å®šè¿™ 258 å¤´é²¸é²¨å¯ä»¥è¢«çœ‹ä½œä¸€ä¸ªç®€å•éšæœºæ ·æœ¬ã€‚å¹³å‡çš„é•¿åº¦ç­‰äº 8.3 ç±³ï¼Œæ ·æœ¬æ ‡å‡†å·®æ˜¯ 3.4 ç±³ï¼Œå¹¶ä¸”é²¸é²¨é•¿åº¦çš„åˆ†å¸ƒä¹Ÿè¿‘ä¼¼æ­£æ€åˆ†å¸ƒã€‚</p><img src="/images/t1t2ex_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ£€éªŒä¸‰ç§å¤‡é€‰å‡è®¾å’Œä¸€ç§é›¶å‡è®¾ï¼šé²¸é²¨æ€»ä½“çš„é•¿åº¦å‡å€¼ç­‰äº 8 ç±³ã€‚ç¬¬ä¸€ä¸ªå‡è®¾æ˜¯æ€»ä½“å‡å€¼ä¸æ˜¯ 8 ç±³ã€‚ç¬¬äºŒä¸ªå‡è®¾æ˜¯å‡å€¼å¤§äº 8 ç±³ï¼Œç¬¬ä¸‰ä¸ªå‡è®¾æ˜¯æ€»ä½“å‡å€¼å°äº 8 ç±³ã€‚æ‰€æœ‰è¿™å‡ ç§æƒ…å†µä¸­ï¼Œæˆ‘ä»¬éƒ½æŠŠæ˜¾è‘—æ€§æ°´å¹³è®¾ä¸º 0.10 ã€‚ </p><img src="/images/t1t2ex_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¾—æ£€æŸ¥æˆ‘ä»¬çš„å‡å®šã€‚å¦‚æˆ‘ä¹‹å‰è¯´è¿‡çš„ï¼Œé²¸é²¨çš„é€‰æ‹©å¯ä»¥çœ‹ä½œæ˜¯ç®€å•éšæœºæŠ½æ ·ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹Ÿçœ‹åˆ°é²¸é²¨èº«é•¿çš„åˆ†å¸ƒè¿‘ä¼¼æ­£æ€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±é¢„æœŸæ€»ä½“åˆ†å¸ƒä¼šå’Œæ­£æ€åˆ†å¸ƒå·®å¼‚å·¨å¤§ã€‚å†è€…ï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸ªé—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ ·æœ¬é‡ç›¸å½“å¤§ã€‚ </p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¡ç®—æ£€éªŒç»Ÿè®¡é‡ï¼Œå®ƒçš„å€¼å¯¹äºå‡ ä¸ªå‡è®¾éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ¯•ç«Ÿï¼Œæ ·æœ¬å‡å€¼å’Œé›¶å‡è®¾ä¸€æ ·ã€‚</p><img src="/images/t1t2ex_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ä»£å…¥å…¬å¼ï¼Œ 8.3 å‡å» 8 ï¼Œé™¤ä»¥ 3.4 é™¤ä»¥ 258 çš„å¹³æ–¹æ ¹ï¼Œç­‰äºå¤§çº¦ 1.42 ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¼€å§‹ç¬¬ä¸€ä¸ªå¤‡é€‰å‡è®¾ï¼Œå®ƒæ–­è¨€æ€»ä½“å‡å€¼ä¸æ˜¯ 8 ç±³ã€‚æˆ‘ä»¬ç”»å‡ºç›¸å…³çš„æŠ½æ ·åˆ†å¸ƒï¼Œå¹¶æ˜¾ç¤ºé›¶å‡è®¾çš„å€¼ã€‚æˆ‘ä»¬éœ€è¦åŸºäº 0.01 çš„æ˜¾è‘—æ€§æ°´å¹³åšåŒå°¾æ£€éªŒï¼ŒæŸ¥è¯¢ t è¡¨æ ¼å¾—åˆ°ä¸´ç•Œå€¼ -1.66 å’Œ 1.66 ï¼Œæ£€éªŒç»Ÿè®¡é‡ç­‰äº 1.42 ä¸åœ¨æ‹’ç»åŸŸå†…å› ä¸ºæˆ‘ä»¬ä¸æ‹’ç»é›¶å‡è®¾ã€‚è¿™æ„å‘³ç€åŸºäº 0.10 çš„æ˜¾è‘—æ€§æ°´å¹³ï¼Œæˆ‘ä»¬ä¸èƒ½å¾—å‡ºæ€»ä½“å‡å€¼ä¸æ˜¯ 8 çš„ç»“è®ºã€‚</p><img src="/images/t1t2ex_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ç¬¬äºŒä¸ªå¤‡é€‰å‡è®¾æ˜¯æ€»ä½“å‡å€¼å¤§äº 8 ã€‚æŠ½æ ·åˆ†å¸ƒä¸€æ ·ï¼Œä½†è¿™ä¸€æ¬¡æˆ‘ä»¬åšå³å°¾æ£€éªŒã€‚æŸ¥è¯¢ t è¡¨æ ¼å¾—ä¸´ç•Œå€¼æ˜¯ 1.29 ï¼Œè¿™ä¸€æ¬¡æ£€éªŒç»Ÿè®¡é‡æ˜¯è½åœ¨æ‹’ç»åŸŸå†…ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‹’ç»é›¶å‡è®¾ï¼Œå¹¶ä¸”ä¸‹ç»“è®ºæ€»ä½“çš„å‡å€¼çš„ç¡®å¤§äº 8 ã€‚</p><img src="/images/t1t2ex_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æœ€åçš„å¤‡é€‰å‡è®¾æ˜¯æ€»ä½“å‡å€¼å°äº 8 ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åšå·¦å°¾æ£€éªŒï¼Œå®ƒæ˜¯å³å°¾çš„é•œåƒï¼Œæ‰€ä»¥ç›¸å…³çš„ä¸´ç•Œå€¼æ˜¯ -1.29 ã€‚ç°åœ¨æˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯ 1.42 ï¼Œå¯¹äºä¸´ç•Œå€¼æ—¶ä¸€ä¸ªæç«¯å€¼ï¼Œä½†å®ƒåœ¨åˆ†å¸ƒçš„å¦ä¸€è¾¹ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä¹Ÿä¸åœ¨æ‹’ç»åŸŸå†…ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿä¸æ‹’ç»é›¶å‡è®¾ã€‚</p><img src="/images/t1t2ex_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æœ€åçš„ä¾‹å­æ˜¾ç¤ºï¼Œç”»å‡ºæŠ½æ ·åˆ†å¸ƒå¾ˆé‡è¦ã€‚å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šæ— æ³•æ³¨æ„åˆ°æ£€éªŒç»Ÿè®¡é‡ç›¸å¯¹äºä¸´ç•Œå€¼å¤„äºåˆ†å¸ƒçš„å¦ä¸€è¾¹ã€‚ä¸è®ºæ£€éªŒçš„ç»“æœå¦‚ä½•ï¼Œæœ‰ä¸¤ä»¶äº‹æ˜¯å¯ä»¥ç¡®å®šçš„ã€‚ç¬¬ä¸€ï¼Œé²¸é²¨çœŸçš„å¾ˆå¤§ã€‚ç¬¬äºŒï¼Œæ•™ç¨‹å³å°†ç»“æŸï¼Œæˆ‘è¦æ”¾å‡å•¦ï½æ„Ÿè°¢é˜…è¯»ï¼</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç±»é”™è¯¯å’Œç¬¬äºŒç±»é”™è¯¯&lt;/h1&gt;&lt;p&gt;å›å¿†ä¸€ä¸‹æ­¤å‰æåˆ°è¿‡çš„åº­å®¡çš„ä¾‹å­ã€‚è¢«å‘Šæ–¹çš„è¾©æŠ¤å¾‹å¸ˆçš„è§‚ç‚¹æ˜¯è¢«å‘Šæ˜¯æ— è¾œçš„ï¼Œå…¬è¯‰æ–¹åˆ™è¯•å›¾è¯´æœé™ªå®¡å›¢å’Œæ³•å®˜è¢«å‘Šæ˜¯æœ‰ç½ªçš„ã€‚ä¸¾è¯æœ‰ç½ªçš„è´£ä»»åœ¨äºåŸå‘Šã€‚è¢«å‘Šåªæœ‰åœ¨åŸå‘Šæä¾›æœ‰åŠ›è¯æ®é©³æ–¥è¢«å‘Šå‡å®šæ— ç½ªçš„æƒ…å†µä¸‹æ‰èƒ½è¢«è®¤å®šä¸ºæœ‰ç½ªã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®¡åˆ¤æ—¶ï¼Œæœ‰å››ç§å¯èƒ½çš„ç»“æœã€‚ä¸€ï¼Œè¢«å‘Šç¡®å®æœ‰ç½ªä¸”è¢«åˆ¤æœ‰ç½ªï¼Œè¿™æ˜¯ä¸ªæ­£ç¡®çš„å†³å®šã€‚äºŒï¼Œè¢«å‘Šç¡®å®æ— è¾œä¸”è¢«åˆ¤æ— ç½ªï¼Œè¿™ä¹Ÿæ˜¯æ­£ç¡®çš„å†³å®šã€‚ä¸‰ï¼Œè¢«å‘Šå®é™…ä¸Šæ˜¯æ— è¾œçš„ï¼Œä½†è¢«åˆ¤æœ‰ç½ªï¼Œè¿™æ˜¯é”™è¯¯çš„å†³å®šã€‚å››ï¼Œè¢«å‘Šå®é™…ä¸Šæœ‰ç½ªçš„ï¼Œä½†æ˜¯è¢«åˆ¤æ— ç½ªï¼Œè¿™ä¹Ÿæ˜¯é”™è¯¯çš„å†³å®šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å®æ–½æ˜¾è‘—æ€§æ£€éªŒæ—¶ä¼šå‘ç”Ÿçš„æƒ…å†µã€‚è¾©æ–¹è§‚ç‚¹ç±»ä¼¼é›¶å‡è®¾ä¸ºçœŸï¼Œè€Œè¢«å‘Šæœ‰ç½ªåˆ™ç­‰æ•ˆäºé›¶å‡è®¾ä¸ºå‡ã€‚åˆ¤è¢«å‘Šæœ‰ç½ªç±»ä¼¼æ‹’ç»é›¶å‡è®¾ï¼Œè€Œæ— ç½ªé‡Šæ”¾åˆ™ç­‰åŒäºä¸æ‹’ç»é›¶å‡è®¾ã€‚è¿™ä¼šå¯¼è‡´å››ç§å¯èƒ½çš„æƒ…å½¢ã€‚å…¶ä¸­çš„ä¸¤ç§ï¼Œä½ åšäº†æ­£ç¡®çš„å†³å®šï¼ŒåŒ…æ‹¬é›¶å‡è®¾çš„ç¡®ä¸ºçœŸå¹¶ä¸”ä½ æ²¡æœ‰æ‹’ç»å®ƒä»¥åŠé›¶å‡è®¾çš„ç¡®ä¸ºå‡å¹¶ä¸”ä½ æ‹’ç»äº†å®ƒã€‚ä½†ä¹Ÿæœ‰ä¸¤ç§ä½ åšäº†é”™è¯¯çš„å†³å®šï¼ŒåŒ…æ‹¬é›¶å‡è®¾ä¸ºçœŸè€Œä½ æ‹’ç»äº†å®ƒä»¥åŠé›¶å‡è®¾çš„ç¡®ä¸ºå‡è€Œä½ æ²¡æœ‰æ‹’ç»å®ƒã€‚ç¬¬ä¸€ä¸ªé”™è¯¯æˆ‘ä»¬ç§°ä¸º &lt;strong&gt;ç¬¬ä¸€ç±»é”™è¯¯ (type I error)&lt;/strong&gt; ï¼Œæˆ–è€…è¯´ &lt;strong&gt;ä¼ªé˜³æ€§ (false positive)&lt;/strong&gt; ã€‚ç¬¬ä¸ªé”™è¯¯æˆ‘ä»¬ç§°ä¸º &lt;strong&gt;ç¬¬äºŒç±»é”™è¯¯ (type II error)&lt;/strong&gt; ï¼Œæˆ–è€…è¯´ &lt;strong&gt;ä¼ªé˜´æ€§ (false negative)&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/t1t2_1.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;è®©æˆ‘ç»™ä½ ä¸¾ä¸ªä¾‹å­ã€‚æƒ³è±¡ä½ çš„é›¶å‡è®¾æ˜¯ï¼šç¾å›½çš„æŒè¯æ°´è‚ºæ½œæ°´è€…æ€»ä½“ï¼Œ 50% æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚æ¢è¨€ä¹‹ï¼Œ $ \pi = 0.5 $ ã€‚å¤‡é€‰å‡è®¾æ˜¯å®ƒæ˜¯å¦å¤–ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œæ¢è¨€ä¹‹ï¼Œ $ \pi \neq 0.5 $ ã€‚ä½ é—®äº†ä¸€ç»„ç®€å•éšæœºæŠ½æ ·çš„ 500 ä¸ªç¾å›½æ½œæ°´è€…ï¼Œä½ å‘ç°æœ‰ 0.56 çš„æ¯”ä¾‹æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚ç°åœ¨ï¼Œå‡å®šä½ çš„é›¶å‡è®¾å®é™…ä¸Šæ˜¯çœŸçš„ï¼Œå½“ä½ å†³å®šåŸºäºä½ çš„æ ·æœ¬æ•°æ®æ‹’ç»é›¶å‡è®¾æ—¶ï¼Œä¸€ä¸ªç¬¬ä¸€ç±»é”™è¯¯å°±å‡ºç°äº†ã€‚ &lt;/p&gt;
&lt;img src=&quot;/images/t1t2_2.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹äºŒåäºŒ | åˆ†æ­¥è®¡åˆ’å’Œç½®ä¿¡åŒºé—´</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-step-by-step-plan-and-ci/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-step-by-step-plan-and-ci/</id>
    <published>2020-02-03T01:47:28.000Z</published>
    <updated>2020-02-03T12:21:50.853Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆ†æ­¥è®¡åˆ’"><a href="#åˆ†æ­¥è®¡åˆ’" class="headerlink" title="åˆ†æ­¥è®¡åˆ’"></a>åˆ†æ­¥è®¡åˆ’</h1><p>æ¯”è¾ƒä»¥ä¸‹ä¸¤ç§æœŸæœ›ã€‚ä¸€ï¼Œä½ æœŸæœ›è¶…è¿‡åŠæ•°çš„æŒè¯ç¾å›½æ½œæ°´è€…æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚äºŒï¼Œæ‰€æœ‰æŒè¯ç¾å›½æ½œæ°´è€…çš„å¹³å‡æ½œæ°´æ—¶é•¿è¶…è¿‡ 35 å°æ—¶ã€‚ç¬¬ä¸€çœ¼ï¼Œä¸¤ä¸ªæœŸæœ›çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚ä½†æ˜¯ï¼Œåœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œä½ é¢å¯¹çš„æ˜¯æ¯”ä¾‹ï¼Œä½ æ„Ÿå…´è¶£çš„æ˜¯æ½œæ°´ç»éªŒè¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´è€…çš„æ¯”ä¾‹ã€‚è€Œç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œä½ å…³å¿ƒçš„æ˜¯å‡å€¼ã€‚ä½ æƒ³çŸ¥é“æ½œæ°´æ—¶é•¿çš„å‡å€¼ã€‚å› æ­¤ï¼Œå½“å®æ–½æ˜¾è‘—æ€§æ£€éªŒæ—¶ï¼Œä½ éœ€è¦ç‰¹åˆ«æ³¨æ„ä½ çš„æ–¹æ³•ã€‚</p><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†ä»¥åˆ†å¸ƒè®¡åˆ’çš„æ–¹å¼æ¥å¼•å¯¼ä½ ã€‚æƒ³è±¡ä½ é—®äº†ä¸€ä¸ªå®¹é‡æ˜¯ 500 ä¸ªæŒè¯æ½œæ°´è€…çš„ç®€å•éšæœºæ ·æœ¬ï¼Œä»–ä»¬çš„æ½œæ°´æ—¶é•¿æ˜¯å¤šå°‘ä¸ªå°æ—¶ã€‚å‡è®¾ä½ å‘ç° 0.57 çš„æ¯”ä¾‹æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒï¼Œæ—¶é•¿å‡å€¼æ˜¯ 35.5 å°æ—¶ï¼Œå‡å€¼æ˜¯ 8 å°æ—¶ã€‚åœ¨æˆ‘ä»¬çš„æ ·æœ¬ä¸­ï¼Œ<br>æ½œæ°´ç»éªŒçš„å˜é‡åˆ†å¸ƒè¿‘ä¼¼æ­£æ€ã€‚ä¸‹é¢æ˜¯åˆ†å¸ƒè®¡åˆ’å…¨å›¾ï¼š</p><img src="/images/sbs_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ç¬¬ä¸€æ­¥ï¼Œè¯„ä¼°ä½ é¢å¯¹çš„æ˜¯æ¯”ä¾‹è¿˜æ˜¯å‡å€¼ï¼Œè¿™ä¸ªæˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ã€‚ç¬¬ä¸€ä¸ªä¾‹å­æ˜¯æ¯”ä¾‹ï¼Œç¬¬äºŒä¸ªä¾‹å­æ˜¯å‡å€¼ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œå½¢å¼åŒ–ä½ çš„å‡è®¾ã€‚åœ¨æ¯”ä¾‹çš„ä¾‹å­ä¸­ï¼Œé›¶å‡è®¾æ˜¯ï¼š$ \pi = \pi_0 $ ï¼Œåœ¨å‡å€¼çš„ä¾‹å­ä¸­ï¼Œé›¶å‡è®¾æ˜¯ $ \mu = \mu_0 $ ã€‚æˆ‘ä»¬å¯ä»¥æœ‰ä¸‰ç§ç±»å‹çš„å¤‡é€‰å‡è®¾ï¼šå¦‚æœä½ åšåŒå°¾æ£€éªŒï¼Œæ˜¯ $ \pi\neq\pi_0 $ æˆ–è€… $ \mu\neq\mu_0 $ ï¼›å¦‚æœä½ åšå•å°¾çš„å³å°¾æ£€éªŒï¼Œæ˜¯ $ \pi\geq\pi_0 $ æˆ–è€… $ \mu\geq\mu_0 $ ï¼›å¦‚æœä½ åšå•å°¾çš„å·¦å°¾æ£€éªŒï¼Œæ˜¯ $ \pi\leq\pi_0 $ ï¼Œ$ \mu\leq\mu_0 $ ã€‚æˆ‘ä»¬é›¶å‡è®¾æ˜¯ï¼š $ \pi=0.5,\mu=35 $ ï¼Œå¤‡é€‰å‡è®¾æ˜¯ $ \pi\geq0.5,\mu\geq35 $ ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å®æ–½å³å°¾æ£€éªŒã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œæ£€æŸ¥ä½ çš„å‡å®šæ˜¯å¦æ»¡è¶³ã€‚åœ¨ä¸¤ä¸ªä¾‹å­ä¸­ï¼ŒéšæœºåŒ–éƒ½æ˜¯å¿…è¦çš„ã€‚ä½ çš„æ ·æœ¬å¿…é¡»é€šè¿‡éšæœºæŠ½æ ·çš„æ–¹æ³•æ”¶é›†ï¼Œæˆ–è€…è¯´ï¼ŒéšæœºåŒ–çš„å®éªŒã€‚åœ¨æ¯”ä¾‹çš„ä¾‹å­ä¸­ï¼Œæ ¹æ®é›¶å‡è®¾çš„æ¯”ä¾‹ï¼Œæ ·æœ¬å®¹é‡ä¹˜ä»¥æ¯”ä¾‹ä»¥åŠ 1 å‡å»æ ·æœ¬å®¹é‡å†ä¹˜ä»¥æ¯”ä¾‹ï¼Œå¿…é¡»ç­‰äºæˆ–è€…å¤§äº 15 ã€‚å‡å€¼çš„ä¾‹å­åˆ™è¦æ±‚æ€»ä½“åˆ†å¸ƒè¿‘ä¼¼æ­£æ€ã€‚ä½†å®è·µä¸­ï¼Œè¿™ä¸€ç‚¹åªæœ‰æ ·æœ¬å®¹é‡å¾ˆå°ï¼Œä¸”åšçš„æ˜¯å•å°¾æ£€éªŒæ—¶æ‰é‡è¦ã€‚å¯¹äºæˆ‘ä»¬çš„ä¾‹å­ï¼Œæ‰€æœ‰çš„å‡å®šéƒ½æ»¡è¶³ã€‚</p><p>ç¬¬å››æ­¥ï¼Œç¡®å®šæ˜¾è‘—æ€§æ°´å¹³ $ \alpha $ ã€‚å¸¸ç”¨çš„æ˜¾è‘—æ€§æ°´å¹³æ˜¯ 0.05 ã€‚æˆ‘ä»¬çš„æ£€éªŒå°†åŸºäº $ \alpha=0.05 $ ã€‚</p><p>ç¬¬äº”æ­¥ï¼Œè®¡ç®—æ£€éªŒç»Ÿè®¡é‡ã€‚åœ¨æ¯”ä¾‹çš„ä¾‹å­ä¸­ï¼Œå…¬å¼æ˜¯ $ z = \frac {p-\pi_0}{se_0} , se_0 = \sqrt {\frac {\pi_0 (1-\pi_0)}{n}} $ ï¼Œåœ¨å‡å€¼çš„ä¾‹å­ä¸­ï¼Œå…¬å¼æ˜¯ $ t = \frac {\bar x-\mu_0}{se_0} , se_0 = \frac {s}{n} $ ã€‚æ³¨æ„ï¼Œåœ¨æ¯”ä¾‹çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ z åˆ†å¸ƒï¼Œè€Œåœ¨å‡å€¼çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ t åˆ†å¸ƒã€‚</p><p>ç¬¬å…­æ­¥ï¼ŒæŠ½å–ç›¸å…³çš„æŠ½æ ·åˆ†å¸ƒï¼Œå±•ç¤ºé›¶å‡è®¾å’Œæ£€éªŒç»Ÿè®¡é‡ï¼Œè¡¥ä¸Šæ‹’ç»åŸŸå’Œå¯¹åº”çš„ä¸´ç•Œå€¼ã€‚åœ¨æ¯”ä¾‹çš„æ¡ˆä¾‹ä¸­ï¼Œ</p><p>ç¬¬ä¸ƒæ­¥ï¼Œè¯„ä¼°ä½ çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯å¦è½åœ¨æ‹’ç»åŸŸå†…ã€‚</p><p>ç¬¬å…«æ­¥ï¼Œå†³å®šæ˜¯å¦æ‹’ç»é›¶å‡è®¾ã€‚</p><p>ç¬¬ä¹æ­¥ï¼Œè§£é‡Šä½ çš„å‘ç°ã€‚</p><p>åœ¨ä¸‹ç»“è®ºä¹‹å‰ï¼Œå€¼å¾—æé†’çš„æ˜¯ï¼Œä¸æ‹’ç»é›¶å€¼å‡è®¾å¹¶ä¸æš—å«ä½ å°±å¯ä»¥æ¥å—é›¶å€¼å‡è®¾ã€‚åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸æ‹’ç»é›¶å€¼å‡è®¾ï¼Œå³æ½œæ°´æ—¶é•¿ç­‰äº 35 å°æ—¶çš„å‡è®¾ï¼Œä½†å¹¶ä¸èƒ½å¾—å‡ºæ½œæ°´æ—¶é•¿å°±ç­‰äº 35 å°æ—¶çš„ç»“è®ºã€‚</p><hr><h1 id="æ˜¾è‘—æ€§æ£€éªŒå’Œç½®ä¿¡åŒºé—´"><a href="#æ˜¾è‘—æ€§æ£€éªŒå’Œç½®ä¿¡åŒºé—´" class="headerlink" title="æ˜¾è‘—æ€§æ£€éªŒå’Œç½®ä¿¡åŒºé—´"></a>æ˜¾è‘—æ€§æ£€éªŒå’Œç½®ä¿¡åŒºé—´</h1><p>å‡è®¾ä½ é—®æ ·æœ¬å®¹é‡ä¸º 500 çš„æ°´è‚ºæ½œæ°´è€…ä»–ä»¬æ½œæ°´äº†å¤šå°‘ä¸ªå°æ—¶ï¼Œå‡å€¼æ˜¯ 36 å°æ—¶ï¼Œæ ‡å‡†å·®æ˜¯ 8 å°æ—¶ï¼Œå˜é‡çš„æ ·æœ¬åˆ†å¸ƒè¿‘ä¼¼äºæ­£æ€ã€‚åŸºäºæ ·æœ¬ä¿¡æ¯ï¼Œä½ å¸Œæœ›æ¨æ–­æ€»ä½“çš„å‚æ•° $ \mu $ ï¼Œè¿™æ˜¯æˆ‘ä»¬æ‰€çŸ¥çš„æ¨æ–­ç»Ÿè®¡å­¦ â€”â€” åŸºäºæ ·æœ¬ä¿¡æ¯å¾—å‡ºæ ·æœ¬æ‰€åœ¨æ€»ä½“çš„ç»“è®ºã€‚  </p><p>æ¨æ–­ç»Ÿè®¡å­¦æœ‰ä¸¤ç§æ–¹æ³•ã€‚å…¶ä¸€ï¼Œé€šè¿‡å‡å€¼çš„ç½®ä¿¡åŒºé—´æ¥æ¨æ–­åŒºé—´ä¼°è®¡ã€‚å…¶äºŒï¼Œç”¨æ˜¾è‘—æ€§æ£€éªŒæ¥æ¨æ–­ç‚¹ä¼°è®¡ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºè¿™ä¸¤ç§æ–¹æ³•å…¶å®å…³è”å¯†åˆ‡ã€‚</p><img src="/images/sbs_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å‡å®šä½ é¢„æœŸæ½œæ°´æ—¶é•¿çš„å‡å€¼ä¸æ˜¯ 35 å°æ—¶ï¼Œä½ å°†åšä¸€ä¸ªæ˜¾è‘—æ€§æ£€éªŒã€‚æˆ‘ä»¬å¯¹å‡å€¼æ„Ÿå…´è¶£ï¼Œæ£€éªŒç»Ÿè®¡é‡å¦‚ä¸‹ï¼š</p><img src="/images/sbs_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>é›¶å‡è®¾æ˜¯ï¼š $ \mu = 35 $ ï¼Œå¤‡é€‰å‡è®¾æ˜¯ï¼š $ \mu \neq 35 $ ã€‚æˆ‘ä»¬çš„å‡å®šæ»¡è¶³ï¼Œåˆ†æåŸºäºç®€å•éšæœºæ ·æœ¬å¹¶ä¸”æ ·æœ¬è¶³å¤Ÿå¤§ï¼Œå¹¶ä¸”æ ·æœ¬è¿‘ä¼¼æ­£æ€åˆ†å¸ƒã€‚æ£€éªŒç»Ÿè®¡é‡ç­‰äº 36 å‡å» 35 ï¼Œé™¤ä»¥ 8 é™¤ä»¥ 500 çš„å¹³æ–¹æ ¹ï¼Œç­‰äº 2.80 ã€‚æŠ½æ ·åˆ†å¸ƒçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ã€‚</p><img src="/images/sbs_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥è¯¢ t è¡¨æ‰¾åˆ°å¯¹åº”åŒå°¾æ£€éªŒæ˜¾è‘—æ€§æ°´å¹³ 0.05 çš„ä¸´ç•Œç‚¹æ˜¯ $ \pm1.984 $ ã€‚å› æ­¤æˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡è½åœ¨æ‹’ç»åŸŸå†…ã€‚æˆ‘ä»¬å°†æ‹’ç»é›¶å‡è®¾ï¼Œå¾—å‡ºæ½œæ°´æ—¶é•¿ä¸ç­‰äº 35 å°æ—¶çš„ç»“è®ºã€‚</p><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æ„é€  95% çš„ç½®ä¿¡åŒºé—´ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå…¬å¼å¦‚ä¸‹ï¼šæ ·æœ¬å‡å€¼ï¼ŒåŠ å‡ 95% ç½®ä¿¡æ°´å¹³å¯¹åº”çš„ t åˆ†æ•°ï¼Œä¹˜ä»¥æ ‡å‡†è¯¯å·®ï¼Œè¿™ä¸ªæ ‡å‡†è¯¯å·®ç­‰äºæ ‡å‡†å·®é™¤ä»¥æ ·æœ¬å®¹é‡çš„å¹³æ–¹æ ¹ã€‚ç›¸å…³çš„ t åˆ†æ•°æ˜¯ 1.984 ï¼Œä»£å…¥å…¬å¼ï¼Œå¾—åˆ°ç½®ä¿¡åŒºé—´æ˜¯ 35.29 åˆ° 36.71 ã€‚ç”±æ­¤æˆ‘ä»¬æœ‰ä¿¡å¿ƒè¯´ï¼Œé€šè¿‡æ— é™é‡å¤çš„æŠ½æ ·ï¼Œ 95% çš„æƒ…å†µä¸‹åŒºé—´ä¼šåŒ…å«å®é™…çš„æ€»ä½“å‡å€¼ã€‚è¿™ä¸ªåŒºé—´ç»™äº†æˆ‘ä»¬å…³äºæ€»ä½“å‡å€¼çš„ä¸€ä¸ªæœ‰è¯´æœåŠ›çš„èŒƒå›´ã€‚å’Œæ˜¾è‘—æ€§æµ‹è¯•ä¸€æ ·ï¼Œè¿™ä¸ªç½®ä¿¡åŒºé—´ä¹Ÿå‘Šè¯‰æˆ‘ä»¬ï¼Œæ€»ä½“çš„æ ·æœ¬å‡å€¼ä¸æ˜¯ 35 ã€‚é€šå¸¸ï¼ŒåŒå°¾æ˜¾è‘—æ€§æ£€éªŒçš„ç»“æœä¸ç½®ä¿¡åŒºé—´çš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚</p><img src="/images/sbs_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æ›´å‡†ç¡®çš„è¯´ï¼Œå¦‚æœåŒå°¾æ˜¾è‘—æ€§æ£€éªŒçš„ P å€¼ç­‰äºæˆ–è€…å°äº 0.05 ï¼Œé‚£ä¹ˆ 95% ç½®ä¿¡åŒºé—´ä¹Ÿä¸åŒ…å«é›¶å‡è®¾çš„å€¼ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœåŒå°¾æ£€éªŒçš„ P å€¼å¤§äº 0.05 ï¼Œé‚£ä¹ˆ 95% ç½®ä¿¡åŒºé—´å°†åŒ…å«é›¶å‡è®¾çš„å€¼ã€‚</p><img src="/images/sbs_5_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è¿™å¬èµ·æ¥å¾ˆåˆç†ï¼Œå¯¹å§ï¼Ÿå®ƒä»¥ä¸‹å›¾è¡¨ç¤ºã€‚ä½ ä¼šçœ‹åˆ°ï¼Œè§‚å¯Ÿå€¼ 36 è½åœ¨æ‹’ç»åŸŸå†…ï¼Œè€Œå¯¹åº”çš„ç½®ä¿¡åŒºé—´ä¹Ÿä¸åŒ…å«é›¶å‡è®¾çš„æ€»ä½“å‡å€¼ã€‚</p><img src="/images/sbs_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ç°åœ¨å‡è®¾è§‚å¯Ÿåˆ°çš„å‡å€¼æ˜¯ 35.5 ï¼Œè€Œä¸æ˜¯ 36 ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡å°†å˜æˆ 1.40 ï¼Œå®ƒä¸è½åœ¨æ‹’ç»åŸŸå†…ã€‚æˆ‘ä»¬å› æ­¤ä¸æ‹’ç»é›¶å‡è®¾ï¼Œç›¸ä¼¼çš„ï¼Œç½®ä¿¡åŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ç¼–ç¨‹ 34.79 å’Œ 36.21 ï¼Œåˆ™åŒ…å«äº†é›¶å‡è®¾çš„å‡å€¼ 35 ã€‚</p><img src="/images/sbs_7.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æˆ‘ä»¬å¯ä»¥æœ‰ä¿¡æ¯è¯´ï¼Œé€šè¿‡æ— é™é‡å¤æŠ½æ ·ï¼Œ 95% çš„æƒ…å†µåŒºé—´ä¼šåŒ…å«å®é™…çš„æ€»ä½“å‡å€¼ã€‚è¿™æ„å‘³ç€é›¶å‡è®¾æœ‰è¯´æœåŠ›ï¼Œæˆ‘ä»¬ä¸è¯¥æ‹’ç»é›¶å‡è®¾ã€‚ä¹Ÿè¯´æ˜äº†ï¼Œæ„å»ºç½®ä¿¡åŒºé—´çš„æ–¹æ³•å’ŒåŒå°¾å‡è®¾æ£€éªŒçš„æ–¹æ³•è™½ç„¶çœ‹èµ·æ¥ä¸åŒï¼Œä½†æ˜¯æ•°å­¦ä¸Šæ˜¯ç›¸å…³çš„ï¼Œå½¼æ­¤ä¸€è‡´ã€‚</p><img src="/images/sbs_8.jpg" width="68%" height="68%" style="margin: 10 auto;"><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åˆ†æ­¥è®¡åˆ’&quot;&gt;&lt;a href=&quot;#åˆ†æ­¥è®¡åˆ’&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ­¥è®¡åˆ’&quot;&gt;&lt;/a&gt;åˆ†æ­¥è®¡åˆ’&lt;/h1&gt;&lt;p&gt;æ¯”è¾ƒä»¥ä¸‹ä¸¤ç§æœŸæœ›ã€‚ä¸€ï¼Œä½ æœŸæœ›è¶…è¿‡åŠæ•°çš„æŒè¯ç¾å›½æ½œæ°´è€…æœ‰è¶…è¿‡ 35 å°æ—¶çš„æ½œæ°´ç»éªŒã€‚äºŒï¼Œæ‰€æœ‰æŒè¯ç¾å›½æ½œæ°´è€…çš„å¹³å‡æ½œæ°´æ—¶é•¿è¶…è¿‡ 
      
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹äºŒåä¸€ | å‡è®¾æ£€éªŒå’Œæ˜¾è‘—æ€§æ£€éªŒ</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-hypotheses-and-significance-test/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-hypotheses-and-significance-test/</id>
    <published>2020-02-02T05:57:35.000Z</published>
    <updated>2020-02-02T13:15:49.363Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‡è®¾"><a href="#å‡è®¾" class="headerlink" title="å‡è®¾"></a>å‡è®¾</h1><p>æ•™ç¨‹æ¥åˆ°æœ€åä¸€ä¸ªæ¨¡å—ï¼Œå¾ˆå¿«æˆ‘è¦æ”¾å‡äº†ã€‚æ˜å¤©æˆ‘å°†èƒŒèµ·è¡Œå›Šï¼Œå‡ºå‘å»æ½œæ°´ã€‚å¥½å§ï¼Œè®©æˆ‘ä»¬å†è°¨æ…ä¸€ç‚¹ï¼Œæˆ‘å¹¶ä¸å®Œå…¨ç¡®å®šæ˜å¤©æˆ‘èƒ½æˆè¡Œã€‚æˆ‘çš„èˆªç­å¯èƒ½å»¶è¯¯ï¼Œæˆ‘å¯èƒ½ç¡è¿‡å¤´è¯¯äº†èˆªç­ï¼Œæˆ–è€…å¯èƒ½ç”Ÿç—…å¯¼è‡´æ— æ³•å»æ½œæ°´ã€‚æ€»ä¹‹ï¼Œæˆ‘æœŸæœ›æ˜å¤©å‡ºå‘ï¼Œä½†æˆ‘å¹¶ä¸èƒ½å®Œå…¨åœ°ç¡®å®šã€‚æˆ–è€…è¯´ï¼Œä¸èƒ½ 100% ç¡®å®šã€‚</p><p>å½“ç ”ç©¶äººå‘˜å¯¹äºä»–ä»¬æ„Ÿå…´è¶£çš„å‚æ•°æœ‰æ‰€æœŸå¾…æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºçš„æ˜¯ <strong>ç»Ÿè®¡å‡è®¾ (statistical hypotheses)</strong> ã€‚è¿™ä¸€èŠ‚å°†ä»‹ç»ç»Ÿè®¡å‡è®¾ã€‚ä»–ä»¬æ„æˆäº† <strong>æ˜¾è‘—æ€§æ£€éªŒ (significance testing)</strong> æ–¹æ³•ä¸­æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚ä¸€ä¸ªç»Ÿè®¡å‡è®¾ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå…³äºæ€»ä½“çš„æœŸæœ›ã€‚é€šå¸¸ï¼Œå‡è®¾ä¼šè¢«å½¢å¼åŒ–ä¸ºä¸€æ¡å¯¹æ€»ä½“å‚æ•°æŒæœ‰ç‰¹å®šå€¼æˆ–è€…è½åœ¨ç‰¹å®šèŒƒå›´çš„å£°æ˜ã€‚è¿™ç§å£°æ˜æ˜¯åŸºäºç ”ç©¶æˆ–è€…ç†è®ºã€‚åŸºäºæ ·æœ¬çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬è¯„ä»·ä¸€ä¸ªå‡è®¾é è°±ä¸å¦ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸ºæ˜¾è‘—æ€§æ£€éªŒï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ ·æœ¬æ•°æ®æ¥æ£€éªŒæå‰å½¢å¼åŒ–çš„å‡è®¾çš„æ–¹æ³•ã€‚å°±åƒç½®ä¿¡åŒºé—´ä¸€æ ·ï¼Œæ˜¾è‘—æ€§æ£€éªŒæ˜¯ä¸€ç§æ¨æ–­ç»Ÿè®¡å­¦çš„æ–¹æ³•ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ç”¨æ ·æœ¬æ•°æ®æ¥æ¨æ–­å…³äºæ€»ä½“å‚æ•°çš„ç»“è®ºã€‚</p><img src="/images/hypo_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æˆ‘ä»¬å…ˆæ¥çœ‹ <strong>é›¶å‡è®¾æ£€éªŒ (null-hypothesis testing)</strong> ï¼Œåœ¨è¿™ç§æ£€éªŒä¸­ï¼Œæ˜¾è‘—æ€§æ£€éªŒåŸºäºä¸¤ä¸ªå‡è®¾ï¼Œ <strong>é›¶å‡è®¾ (null hypothesis)</strong> å’Œ <strong>å¤‡é€‰å‡è®¾ (alternative hypothesis)</strong> ã€‚é›¶å‡è®¾ä»¥ $ H_0 $ æ³¨è®°ï¼Œå¤‡é€‰å‡è®¾ä»¥  $ H_a $ æ³¨è®°ã€‚é›¶å‡è®¾æ–­è¨€ä½ æ„Ÿå…´è¶£çš„å‚æ•°æ˜¯æŸä¸ªç‰¹å®šå€¼ã€‚å®ƒé€šå¸¸ä»£è¡¨å˜é‡ä¹‹é—´æ²¡æœ‰å…³è”çš„æƒ…å†µï¼Œæˆ–è€…ç»„ä¸ç»„ä¹‹é—´æ²¡æœ‰å·®å¼‚çš„æƒ…å†µã€‚å®ƒæ˜¯ä¸€ä¸ªå½“ä½ çš„æ ·æœ¬æ•°æ®è¡¨æ˜å®ƒä¸å¤ªå¯èƒ½å‘ç”Ÿæ—¶éœ€è¦è¢«æ‹’ç»çš„å‡è®¾ã€‚è€Œå¤‡é€‰å‡è®¾æ–­è¨€ä½ æ„Ÿå…´è¶£çš„å‚æ•°è½åœ¨å¦ä¸€ä¸ªèŒƒå›´ã€‚é€šå¸¸ï¼Œé›¶å‡è®¾å’Œå¤‡é€‰å‡è®¾äº’æ–¥ã€‚å¦‚æœä½ åšæ˜¾è‘—æ€§æµ‹è¯•ï¼Œå‡è®¾é›¶å‡è®¾ä¸ºçœŸï¼Œé™¤éä½ çš„æ•°æ®æœ‰å¾ˆå¼ºçš„åé¢è¯æ®ã€‚</p><img src="/images/hypo_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æƒ³è±¡ä¸€ä¸ªæ³•åº­çš„åº­å®¡ã€‚è¢«å‘Šæ–¹çš„è¾©æŠ¤å¾‹å¸ˆçš„è§‚ç‚¹æ˜¯è¢«å‘Šæ˜¯æ— è¾œçš„ï¼Œå…¬è¯‰æ–¹åˆ™è¯•å›¾è¯´æœé™ªå®¡å›¢å’Œæ³•å®˜è¢«å‘Šæ˜¯æœ‰ç½ªçš„ã€‚ä¸¾è¯æœ‰ç½ªçš„è´£ä»»åœ¨äºåŸå‘Šã€‚è¢«å‘Šåªæœ‰åœ¨åŸå‘Šæä¾›æœ‰åŠ›è¯æ®é©³æ–¥è¢«å‘Šå‡å®šæ— ç½ªçš„æƒ…å†µä¸‹æ‰èƒ½è¢«è®¤å®šä¸ºæœ‰ç½ªã€‚è¿™æ­£æ˜¯æ˜¾è‘—æ€§æ£€éªŒé‡Œå‘ç”Ÿçš„äº‹æƒ…ã€‚è¾©æŠ¤æ— è¾œç›¸å½“äºé›¶å‡è®¾ï¼Œè€Œæœ‰ç½ªé¢„æœŸåˆ™ç­‰åŒäºå¤‡é€‰å‡è®¾ã€‚</p><img src="/images/hypo_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åœ¨ç ”ç©¶å®è·µä¸­ï¼Œä½ å¯¹äºå‚æ•°çš„æœŸæœ›æ˜¯ä»¥å¤‡é€‰å‡è®¾çš„æ–¹å¼å‡ºç°ï¼Œè€Œé›¶å‡è®¾å°±æ˜¯å¯¹ç«‹é¢ï¼Œä½†å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå•å€¼ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªèŒƒå›´ã€‚ä½ åªæœ‰åœ¨æ•°æ®æä¾›å¼ºåŠ›ä½è¯æ—¶æ‰èƒ½è®¤å®šé›¶å‡è®¾æˆç«‹ã€‚</p><img src="/images/hypo_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><a id="more"></a><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä½ æœ‰ç†ç”±ç›¸ä¿¡å…¨ä½“ç¾å›½äººä¸­æœ‰ 3% æœ‰è¿‡æ°´è‚ºæ½œæ°´çš„ç»å†ã€‚é‚£ä¹ˆè¿™é‡Œçš„é›¶å‡è®¾å’Œå¤‡é€‰å‡è®¾åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä½ çš„æœŸæœ›è¢«è§†ä¸ºå¤‡é€‰å‡è®¾ã€‚æˆ‘ä»¬æŠŠå®ƒå†™ä¸‹æ¥ï¼Œ $ H_a:\pi\leq0.03 $ ï¼Œé›¶å‡è®¾æ˜¯å¯¹ç«‹é¢ï¼Œä½†å¿…é¡»è¡¨ç¤ºä¸ºå•ä¸€å€¼ï¼Œå› æ­¤ $ H_0:\pi=0.03 $ ã€‚</p><img src="/images/hypo_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å‡è®¾ä½ å¯¹æ°´è‚ºæ½œæ°´çš„æœ€å¤§æ·±åº¦å¾ˆæ„Ÿå…´è¶£ã€‚ä½ æœ‰ç†ç”±æœŸæœ›ç¾å›½æ½œæ°´è€…çš„æœ€å¤§æ½œæ°´æ·±åº¦å‡å€¼ <em>ä¸æ˜¯</em> 25 ç±³ã€‚ä½ çš„å¤‡é€‰å‡è®¾æ˜¯ $ \mu\neq25 $ ï¼Œé›¶å‡è®¾æ˜¯ $ \mu=25 $ ã€‚å¾ˆç®€å•ï¼Œä¸æ˜¯å—ï¼Ÿ</p><img src="/images/hypo_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è®°ä½è¿™æ¡ï¼šåœ¨æ˜¾è‘—æ€§æ£€éªŒä¸­ï¼Œä½ æ€»æ˜¯å‡å®šä½ çš„é›¶å‡è®¾æˆç«‹ï¼Œå¦‚æœä½ ä¸ºå¤‡é€‰å‡è®¾æ‰¾åˆ°è¶³å¤Ÿçš„æ”¯æ’‘ï¼Œå°±æ‹’ç»é›¶å‡è®¾ã€‚å¦‚æœä½ æ²¡æœ‰æ‰¾åˆ°è¶³å¤Ÿçš„è¯æ®ï¼Œä½ å°±ä¸èƒ½æ‹’ç»å®ƒã€‚ä½†æ²¡èƒ½æ‹’ç»é›¶å‡è®¾å¹¶ä¸æ„å‘³ç€é›¶å‡è®¾å°±æ˜¯çœŸçš„ã€‚ä½ å¯ä»¥æ‹¿æ³•åº­çš„ä¾‹å­å†å›å‘³ä¸€ä¸‹ã€‚åœ¨åº­å®¡ä¸­ï¼Œè¢«å‘Šè¢«å‡å®šæ— ç½ªã€‚å¦‚æœæœ‰è¶³å¤Ÿçš„è¯æ®è¯æ˜ä»–æˆ–è€…å¥¹æœ‰ç½ªï¼Œåˆ™å®šç½ªã€‚æ²¡æœ‰è¶³å¤Ÿçš„è¯æ®ï¼Œè¢«å‘Šåˆ™ä¸ä¼šè¢«å®šç½ªã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€ä½ å¯ä»¥å¾—å‡ºä»–æˆ–è€…å¥¹æ˜¯æ— è¾œçš„ç»“è®ºã€‚</p><!-- more --><h1 id="å…³äºæ¯”ä¾‹çš„æ£€éªŒ"><a href="#å…³äºæ¯”ä¾‹çš„æ£€éªŒ" class="headerlink" title="å…³äºæ¯”ä¾‹çš„æ£€éªŒ"></a>å…³äºæ¯”ä¾‹çš„æ£€éªŒ</h1><p>å‡å®šä½ å¯¹æœ‰å¤šå°‘ç¾å›½äººæœ‰è¿‡æ°´è‚ºæ½œæ°´ç»å†è¿™ä¸ªé—®é¢˜æ„Ÿå…´è¶£ï¼Œä½ ä¹Ÿæœ‰ç†ç”±ç›¸ä¿¡å°‘äº 3% çš„ç¾å›½äººæœ‰è¿™ç§ç»å†ã€‚è¿™æ„å‘³ç€ä½ çš„å¤‡é€‰å‡è®¾æ˜¯ $ \pi\leq0.03 $ ï¼Œä½ çš„é›¶å‡è®¾æ˜¯ $ \pi=0.03 $ ã€‚</p><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨å¯¹æ¯”ä¾‹æ„Ÿå…´è¶£æ—¶å®æ–½æ˜¾è‘—æ€§æ£€éªŒã€‚æˆ‘ä»¬æ˜¯è¿™æ ·æ¥å®æ–½æ£€éªŒçš„ï¼šå…ˆå‡å®šæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ€»ä½“å‚æ•°æœ‰æŸä¸ªå€¼ï¼Œåœ¨æˆ‘ä»¬æ”¶é›†åˆ°æ¥è‡ªæ€»ä½“çš„æ ·æœ¬åä¼°è®¡è¿™ä¸ªå€¼çš„å¯èƒ½æ€§ã€‚å› ä¸ºæˆ‘ä»¬çœ‹åˆ°æ˜¯ä¸€ä¸ªæ ·æœ¬ï¼Œæ‰€ä»¥èšç„¦åœ¨æŠ½æ ·åˆ†å¸ƒã€‚æˆ‘ä»¬å¯ä»¥å†³å®šï¼Œæ¯”å¦‚ç»™å®šæ€»ä½“æ¯”ä¾‹æ˜¯ 0.03 æ—¶æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒã€‚çœ‹ä¸‹å›¾ï¼Œæˆ‘ä»¬è¿™æ ·æ¥å®æ–½æ£€éªŒï¼šè¯„ä¼°æ ‡å‡†å·®ï¼ˆå› ä¸ºé¢å¯¹çš„æ˜¯æŠ½æ ·åˆ†å¸ƒï¼Œæ‰€ä»¥æ˜¯æ ‡å‡†è¯¯å·®ï¼‰ï¼Œæ ·æœ¬è§‚å¯Ÿåˆ°çš„æ¯”ä¾‹è¿œç¦»æ€»ä½“æ¯”ä¾‹ï¼Œè¿™ä¸ªæ ‡å‡†è¯¯å·®çš„æ•°å€¼æˆ‘ä»¬ç§°ä¸º <strong>æ£€éªŒç»Ÿè®¡é‡ (test statistic)</strong> ã€‚</p><img src="/images/tap_0.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æƒ³è±¡æˆ‘ä»¬æŠ½å–äº† 1000 ä¸ªç¾å›½äººï¼Œå—è¯•è€…ä¸­æœ‰æ°´è‚ºæ½œæ°´ç»å†çš„äººæ¯”ä¾‹ç­‰äº 0.02 ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿™ä¹ˆåšï¼š</p><img src="/images/tap_0_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ä½ çœ‹åˆ°ä¸€ä¸ªæ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒï¼Œæˆ‘ä»¬å‡å®šé›¶å€¼å‡è®¾ä¸ºçœŸï¼Œæ€»ä½“æ¯”ä¾‹ç¡®å®ç­‰äº 0.03 ã€‚é‚£ä¹ˆä¸€ä¸ªæ ·æœ¬æ¯”ä¾‹ä¸º 0.02 çš„æ€»ä½“ï¼Œæœ‰å¤šå¤§çš„å¯èƒ½æ€§å…¶æ¯”ä¾‹çœŸçš„æ˜¯ 0.03 å‘¢ï¼Ÿä¸ºäº†å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è®¡ç®—æ£€éªŒç»Ÿè®¡é‡ï¼Œæˆ–è€…è¯´æ ·æœ¬ç»Ÿè®¡å’Œå‡å®šçš„æ€»ä½“å‚æ•°ä¹‹é—´çš„åç§»å¹…åº¦ã€‚æ ‡å‡†è¯¯å·®è¿œç¦»å‡å€¼çš„æ•°é‡ç”¨ z åˆ†æ•°è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æ ·æœ¬ç»Ÿè®¡é‡è·ç¦»æ€»ä½“å‡å€¼æœ‰å¤šå°‘ä¸ª z åˆ†æ•°ã€‚ å…¬å¼å¦‚ä¸‹ï¼š</p><img src="/images/tap_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å…ˆè®¡ç®—é›¶å‡è®¾çš„æ ‡å‡†è¯¯å·®ï¼Œå®ƒç­‰äº 0.03 ä¹˜ä»¥ 0.97 å†é™¤ä»¥ 1000 ï¼Œå–å¹³æ–¹æ ¹ï¼Œå¤§çº¦æ˜¯ 0.005 ã€‚å› ä¸ºæˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯ 0.02 å‡å» 0.03 ï¼Œé™¤ä»¥ 0.005 ï¼Œç­‰äº -1.85 ã€‚è¿™æ„å‘³ç€å½“é›¶å‡è®¾ä¸ºçœŸæ—¶ï¼Œæˆ‘ä»¬çš„æ ·æœ¬æ¯”ä¾‹è½åœ¨æ€»ä½“æ¯”ä¾‹ 1.85 ä¸ªæ ‡å‡†è¯¯å·®ä¹‹ä¸‹ã€‚ è¿™æ˜¯å¦è¶³ä»¥æ‹’ç»é›¶å‡è®¾å‘¢ï¼Ÿ</p><img src="/images/tap_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åŸºäºè¿™ä¸ªä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢ z è¡¨æ ¼ï¼Œå¯¹åº”çš„æ¦‚ç‡å€¼æ˜¯ 0.0322 ï¼Œè¿™ä¸ªæ¦‚ç‡å€¼æˆ‘ä»¬ç§°ä¸º <strong>P å€¼ (P-value)</strong> ã€‚ P å€¼å‘Šè¯‰æˆ‘ä»¬ï¼ŒåŸºäºæ€»ä½“æ¯”ä¾‹æ˜¯ 0.03 çš„å‰æï¼Œè¦æ‰¾åˆ°ä¸€ä¸ªæ¯”ä¾‹æ˜¯ 0.02 çš„æ ·æœ¬ï¼Œå¯èƒ½æ€§æ˜¯å¾ˆä½çš„ã€‚ä½†æ˜¯å¦ä½åˆ°å¯ä»¥æ‹’ç»é›¶å‡è®¾äº†å‘¢ï¼Ÿè¿™å–å†³äºæˆ‘ä»¬é€‰æ‹© <strong>æ˜¾è‘—æ€§æ°´å¹³ (significance level)</strong> ã€‚åœ¨æˆ‘ä»¬å®æ–½æ£€éªŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†³å®š P å€¼è¦è¾¾åˆ°å¤šå°ä»¥æ‹’ç»é›¶å‡è®¾ã€‚æœ€å¸¸ç”¨çš„æ˜¾è‘—æ€§æ°´å¹³æ˜¯ 0.05 ï¼Œè¿™æ—¶æˆ‘ä»¬è¯´æ ·æœ¬æä¾›äº†è¶³å¤Ÿçš„è¯æ®æ‹’ç»é›¶å‡è®¾ã€‚æˆ‘ä»¬çš„ P å€¼æ˜¯ 0.3222 ï¼Œå°äº 0.05 ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬æŠŠæ˜¾è‘—æ€§æ°´å¹³è®¾ç½®åœ¨ 0.05 ï¼Œæˆ‘ä»¬éœ€è¦æ‹’ç»é›¶å‡è®¾ã€‚è¿™ä¹Ÿè¢«æˆ‘ä»¬ç§°ä¸º <strong>æ‹’ç»åŸŸ (reject region)</strong> ã€‚</p><img src="/images/tap_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å½¢æˆæ‹’ç»åŸŸè¾¹ç•Œçš„ä¸´ç•Œ z å€¼æ˜¯ -1.64 ï¼Œä½ å¯ä»¥é€šè¿‡æŸ¥è¯¢ z è¡¨æ ¼å¾—åˆ°å®ƒï¼Œå®ƒå¯¹åº” 0.05 æ¦‚ç‡çš„å·¦å°¾ã€‚æˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯ -1.85 ï¼Œè½åœ¨æ‹’ç»åŸŸå†…ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ‹’ç»é›¶å‡è®¾ï¼Œå¹¶ä¸”å¾—å‡ºç»“è®ºï¼šç¾å›½æœ‰æ°´è‚ºæ½œæ°´ç»å†çš„äººçš„æ¯”ä¾‹ä½äº 0.03 ã€‚æˆ‘ä»¬è¯´ï¼Œè¿™ä¸ªç»“è®ºæ˜¯ <strong>ç»Ÿè®¡æ˜¾è‘—çš„ (statistically significant)</strong> ã€‚</p><img src="/images/tap_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„æ£€éªŒåŸºäºå¤‡é€‰å‡è®¾æ˜¯ $ \pi\leq0.03 $ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªèšç„¦åœ¨æŠ½æ ·åˆ†å¸ƒçš„ä¸€è¾¹ â€”â€” å·¦è¾¹ã€‚è¿™å«åš <strong>å•å°¾æ£€éªŒ (one-tailed test)</strong> ã€‚é‚£å¦‚æœæˆ‘ä»¬çš„å¤‡é€‰æ£€éªŒæ˜¯ $ \pi\neq0.03 $ å‘¢ï¼Ÿå¦‚æœæ˜¯é‚£æ ·çš„è¯ï¼Œæˆ‘ä»¬å°†ä¸å†åªèšç„¦åœ¨åˆ†å¸ƒçš„å·¦è¾¹ï¼Œè€Œåˆ†å¸ƒçš„ä¸¤è¾¹ã€‚è¿™ç§æ£€éªŒå«åš <strong>åŒå°¾æ£€éªŒ (two-tailed test)</strong> ã€‚ </p><img src="/images/tap_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å¦‚æœæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨ 0.05 ä½œä¸ºæ˜¾è‘—æ€§æ°´å¹³ï¼Œè¿™æ„å‘³ç€å·¦è¾¹å¯¹åº”çš„ç´¯ç§¯æ¦‚ç‡æ˜¯ 0.025 ï¼Œå³è¾¹ä¹Ÿæ˜¯ã€‚åŒæ ·å¯ä»¥æŸ¥è¯¢ z è¡¨å¾—åˆ°ï¼Œå¯¹åº”çš„æ‹’ç»åŸŸçš„ä¸´ç•Œç‚¹åˆ†åˆ«æ˜¯ -1.96 å’Œ 1.96 ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡ -1.85 ä¸å†è½åœ¨æ‹’ç»åŸŸå†…ï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸èƒ½å†æ‹’ç»é›¶å‡è®¾ $ \pi = 0.03 $ ã€‚è¿™è¯´æ˜ï¼Œé€‰æ‹©å•å°¾æˆ–è€…åŒå°¾æ£€éªŒï¼Œå¯¹äºç»“è®ºæœ‰é‡å¤§çš„å·®åˆ«ã€‚å®è·µä¸­ï¼ŒåŒå°¾æ£€éªŒè¦å¸¸ç”¨çš„å¤šã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼Œåªæœ‰ä½ æœ‰éå¸¸å¥½çš„ç†è®ºä¾æ®æ—¶æ‰ä½¿ç”¨å•å°¾æ£€éªŒã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥æ”¹å˜æ˜¾è‘—æ€§æ°´å¹³ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾è‘—æ€§æ°´å¹³è®¾ç½®ä¸º 0.01 ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨ P å€¼å°äº 0.01 æ—¶æ‹’ç»é›¶å‡è®¾ã€‚å¦‚æœåšå•å°¾æ£€éªŒï¼Œ 0.01 çš„æ˜¾è‘—æ€§æ°´å¹³å¯¹äº -2.33 ã€‚</p><img src="/images/tap_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ£€éªŒç»Ÿè®¡é‡æ²¡æœ‰è½åœ¨æ‹’ç»åŸŸï¼Œå› æ­¤ä¸æ‹’ç»é›¶å‡è®¾ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å¦‚ä½ æ‰€è§ï¼Œé€‰æ‹©å•å°¾æˆ–è€…åŒå°¾æ£€éªŒï¼Œä¼šå¼ºçƒˆåœ°æ”¹å˜ç»“æœã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼Œå¤§éƒ¨åˆ†å•å°¾æˆ–è€…åŒå°¾æ£€éªŒéƒ½æ˜¯åŸºäº 0.05 çš„æ˜¾è‘—æ€§æ°´å¹³ã€‚</p><img src="/images/tap_7.jpg" width="68%" height="68%" style="margin: 10 auto;"><h1 id="å…³äºå‡å€¼çš„æ£€éªŒ"><a href="#å…³äºå‡å€¼çš„æ£€éªŒ" class="headerlink" title="å…³äºå‡å€¼çš„æ£€éªŒ"></a>å…³äºå‡å€¼çš„æ£€éªŒ</h1><p>ä½ å¥½å¥‡æ½œæ°´è€…ä¼šåœ¨æ°´ä¸‹å¾…å¤šé•¿æ—¶é—´å—ï¼Ÿè¿™ä¸ªæ—¶é—´å–å†³äºä»–ä»¬çš„æ°§æ°”ç½ï¼Œç»éªŒï¼Œæ½œæ°´æ·±åº¦ä»¥åŠè®¸å¤šå…¶ä»–å› ç´ ã€‚å‡è®¾ä½ æœ‰ç†ç”±æœŸæœ›ç¾å›½æ½œæ°´è€…åœ¨æºå¸¦å¹³å‡æ°´å¹³çš„æ°§æ°”ç½ä¸‹æ½œåˆ°å¹³å‡æ·±åº¦ï¼Œå¯ä»¥å¾…åœ¨æ°´ä¸‹è¶…è¿‡ 60 åˆ†é’Ÿï¼Œå¹¶ä¸”å‡è®¾ä½ ä¹Ÿæ¥è§¦åˆ°äº† 100 ä¸ªæœ‰ç»éªŒçš„ç¾å›½æ°´è‚ºæ½œæ°´è€…ï¼Œæµ‹é‡äº†ä»–ä»¬åœ¨æºå¸¦å¹³å‡æ°´å¹³çš„æ°§æ°”ç½å¾…åœ¨å¹³å‡æ·±åº¦ä¸‹çš„æ—¶é•¿ã€‚è¿™ä¸ªæ ·æœ¬çš„å‡å€¼æ˜¯ 62 åˆ†é’Ÿï¼Œæ ‡å‡†å·®æ˜¯ 5 åˆ†é’Ÿã€‚</p><p>ä½ é¢„æœŸæ½œæ°´è€…å¯ä»¥åœ¨æ°´ä¸‹å¾…è¶…è¿‡ 60 åˆ†é’Ÿï¼Œè¿™å¯¼è‡´äº†ä¸‹é¢è¿™æ ·ä¸€ä¸ªé›¶å‡è®¾ï¼š $ \mu = 60 $ ï¼Œå¤‡é€‰å‡è®¾æ˜¯ $ \mu\geq60 $ ã€‚æˆ‘ä»¬å®æ–½ä¸€ä¸ªå…³äºæ€»ä½“å‡å€¼çš„æ˜¾è‘—æ€§æ£€éªŒï¼ŒæŠ½æ ·åˆ†å¸ƒå¦‚ä¸‹ï¼š</p><img src="/images/tam_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è¿™æ˜¯ä¸€ä¸ªå‡å€¼ç­‰äº 60 çš„æ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒï¼Œ 60 æ˜¯é›¶å‡è®¾çš„å€¼ã€‚é‚£ä¹ˆåŸºäºè¿™æ ·ä¸€ä¸ªæ€»ä½“ï¼Œä¸€ä¸ªæ ·æœ¬çš„å‡å€¼ç­‰äº 60 çš„å¯èƒ½æ€§æœ‰å¤šå¤§å‘¢ï¼Ÿ åŒæ ·ï¼Œä¸ºäº†å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è®¡ç®—æ£€éªŒç»Ÿè®¡é‡ï¼Œå®ƒæ˜¯æ ·æœ¬å‡å€¼åç¦»æ€»ä½“å‡å€¼çš„æ ‡å‡†è¯¯å·®ã€‚ä½ å¯èƒ½è®°å¾—å¦‚ä½•è®¡ç®—æ ‡å‡†è¯¯å·® â€”â€” æˆ‘ä»¬éœ€è¦ç”¨æ€»ä½“çš„æ ‡å‡†å·®ï¼Œå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“è¿™ä¸ªå€¼ï¼Œéœ€è¦ç”¨æ ·æœ¬æ ‡å‡†å·®ä¼°è®¡ã€‚å› ä¸ºè¿™éšå«ç€é¢å¤–çš„è¯¯å·®ï¼Œæˆ‘ä»¬å¼•å…¥ t åˆ†å¸ƒæ¥å–ä»£ z åˆ†å¸ƒã€‚</p><img src="/images/tam_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯é€šè¿‡ä¸‹é¢çš„å…¬å¼è®¡ç®—ï¼š</p><img src="/images/tam_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>ç”±æ ·æœ¬å‡å€¼å‡å»é›¶å‡è®¾çš„å‡å€¼ï¼Œç„¶åé™¤ä»¥æ ·æœ¬å‡å€¼çš„æ ‡å‡†è¯¯å·®ã€‚æ ‡å‡†è¯¯å·®ç­‰äºæ ·æœ¬æ ‡å‡†å·®é™¤ä»¥æ ·æœ¬å®¹é‡çš„å¹³æ–¹æ ¹ã€‚</p><p>æˆ‘ä»¬å…ˆè®¡ç®—å‡ºæ ‡å‡†è¯¯å·®ï¼Œ 5 é™¤ä»¥ 100 çš„å¹³æ–¹æ ¹ï¼Œå¾— 0.5 ã€‚ 62 å‡å» 60 ï¼Œå†é™¤ä»¥ 0.5 ï¼Œå¾—åˆ° 4 ã€‚è¿™æ˜¯å¦è¶³ä»¥æ‹’ç»é›¶å‡è®¾å‘¢ï¼Ÿä»ç„¶å–å†³äºæ˜¾è‘—æ€§æ°´å¹³ã€‚è®©æˆ‘ä»¬å¼•å…¥æœ€å¸¸ç”¨çš„æ˜¾è‘—æ€§æ°´å¹³ 0.05 ã€‚åšå•å°¾æ£€éªŒï¼ŒæŸ¥è¯¢ t è¡¨ï¼Œä¸´ç•Œå€¼æ˜¯ 1.67 ã€‚</p><img src="/images/tam_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æ³¨æ„åˆ°æˆ‘ä»¬çš„è‡ªç”±åº¦æ˜¯ 99 ï¼Œä½†è¡¨é‡Œå‘ä¸‹æœ€æ¥è¿‘çš„æ˜¯ 60 ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥çœ‹ $ t_{90%} $ ï¼Œå› ä¸ºå³å°¾ç´¯ç§¯æ¦‚ç‡ 0.05 ã€‚ä½ éœ€è¦è®°ä½ï¼Œ $ t_{90%} $ ä»£è¡¨ç½®ä¿¡æ°´å¹³ä¸º 90% ï¼Œä¹Ÿå°±è¡¨ç¤ºåˆ†å¸ƒçš„ä¸¤å°¾åŠ èµ·æ¥æœ‰ 10% ï¼Œå·¦å³å°¾å„ 0.05 ã€‚</p><p>ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡ 4 è½åœ¨æ‹’ç»åŸŸå†…ï¼Œæ„å‘³ç€æˆ‘ä»¬éœ€è¦æ‹’ç»æ€»ä½“å‡å€¼æ˜¯ 60 åˆ†é’Ÿçš„é›¶å‡è®¾ã€‚</p><img src="/images/tam_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æˆ‘ä»¬å¯ä»¥æ€»ç»“ï¼Œå¹³å‡æƒ…å†µä¸‹ï¼Œæœ‰ç»éªŒçš„ç¾å›½æ½œæ°´è€…æºå¸¦å¹³å‡çš„æ°§æ°”é‡æ½œåˆ°å¹³å‡çš„æ·±åº¦ï¼Œèƒ½å¤Ÿåœ¨æ°´ä¸‹å¾…è¶…è¿‡ 60 åˆ†é’Ÿã€‚å¦‚æœæˆ‘ä»¬çš„æœŸæœ›å¹¶ä¸æ˜¯è¶…è¿‡ 60 åˆ†é’Ÿï¼Œè€Œæ˜¯ä¸ç­‰äº 60 åˆ†é’Ÿå‘¢ï¼Ÿ</p><img src="/images/tam_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åšåŒå°¾æ£€éªŒã€‚å‡è®¾æ˜¾è‘—æ€§æ°´å¹³è®¾ç½®ä¸º 0.01 ï¼Œå·¦å°¾å’Œå³å°¾çš„ç´¯ç§¯æ¦‚ç‡åˆ†åˆ«ä¸º 0.005 ã€‚æŸ¥è¡¨ï¼Œå¯¹åº”çš„ä¸´ç•Œå€¼åˆ†åˆ«ä¸º -2.66 å’Œ 2.66 ï¼Œè€Œæˆ‘ä»¬çš„æ£€éªŒç»Ÿè®¡é‡æ˜¯ 4 ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ‹’ç»é›¶å‡è®¾ï¼Œå¹¶å¯¹æˆ‘ä»¬çš„å‘ç°åšç»Ÿè®¡æ˜¾è‘—çš„ç»“è®ºã€‚</p><img src="/images/tam_7.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>å› ä¸ºæˆ‘ä»¬ç°åœ¨åšäº†åŒå°¾æ£€éªŒï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä¸´æ—¶ç»“è®ºç°åœ¨å˜æˆäº†æœ‰ç»éªŒçš„ç¾å›½æ½œæ°´è€…åœ¨æºå¸¦å¹³å‡æ°§æ°”é‡ï¼Œæ½œåˆ°å¹³å‡æ·±åº¦åï¼Œèƒ½å¾…åœ¨æ°´ä¸‹çš„å¹³å‡æ—¶é—´ä¸ç­‰äº 60 åˆ†é’Ÿã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‡è®¾&quot;&gt;&lt;a href=&quot;#å‡è®¾&quot; class=&quot;headerlink&quot; title=&quot;å‡è®¾&quot;&gt;&lt;/a&gt;å‡è®¾&lt;/h1&gt;&lt;p&gt;æ•™ç¨‹æ¥åˆ°æœ€åä¸€ä¸ªæ¨¡å—ï¼Œå¾ˆå¿«æˆ‘è¦æ”¾å‡äº†ã€‚æ˜å¤©æˆ‘å°†èƒŒèµ·è¡Œå›Šï¼Œå‡ºå‘å»æ½œæ°´ã€‚å¥½å§ï¼Œè®©æˆ‘ä»¬å†è°¨æ…ä¸€ç‚¹ï¼Œæˆ‘å¹¶ä¸å®Œå…¨ç¡®å®šæ˜å¤©æˆ‘èƒ½æˆè¡Œã€‚æˆ‘çš„èˆªç­å¯èƒ½å»¶è¯¯ï¼Œæˆ‘å¯èƒ½ç¡è¿‡å¤´è¯¯äº†èˆªç­ï¼Œæˆ–è€…å¯èƒ½ç”Ÿç—…å¯¼è‡´æ— æ³•å»æ½œæ°´ã€‚æ€»ä¹‹ï¼Œæˆ‘æœŸæœ›æ˜å¤©å‡ºå‘ï¼Œä½†æˆ‘å¹¶ä¸èƒ½å®Œå…¨åœ°ç¡®å®šã€‚æˆ–è€…è¯´ï¼Œä¸èƒ½ 100% ç¡®å®šã€‚&lt;/p&gt;
&lt;p&gt;å½“ç ”ç©¶äººå‘˜å¯¹äºä»–ä»¬æ„Ÿå…´è¶£çš„å‚æ•°æœ‰æ‰€æœŸå¾…æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºçš„æ˜¯ &lt;strong&gt;ç»Ÿè®¡å‡è®¾ (statistical hypotheses)&lt;/strong&gt; ã€‚è¿™ä¸€èŠ‚å°†ä»‹ç»ç»Ÿè®¡å‡è®¾ã€‚ä»–ä»¬æ„æˆäº† &lt;strong&gt;æ˜¾è‘—æ€§æ£€éªŒ (significance testing)&lt;/strong&gt; æ–¹æ³•ä¸­æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚ä¸€ä¸ªç»Ÿè®¡å‡è®¾ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå…³äºæ€»ä½“çš„æœŸæœ›ã€‚é€šå¸¸ï¼Œå‡è®¾ä¼šè¢«å½¢å¼åŒ–ä¸ºä¸€æ¡å¯¹æ€»ä½“å‚æ•°æŒæœ‰ç‰¹å®šå€¼æˆ–è€…è½åœ¨ç‰¹å®šèŒƒå›´çš„å£°æ˜ã€‚è¿™ç§å£°æ˜æ˜¯åŸºäºç ”ç©¶æˆ–è€…ç†è®ºã€‚åŸºäºæ ·æœ¬çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬è¯„ä»·ä¸€ä¸ªå‡è®¾é è°±ä¸å¦ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸ºæ˜¾è‘—æ€§æ£€éªŒï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ ·æœ¬æ•°æ®æ¥æ£€éªŒæå‰å½¢å¼åŒ–çš„å‡è®¾çš„æ–¹æ³•ã€‚å°±åƒç½®ä¿¡åŒºé—´ä¸€æ ·ï¼Œæ˜¾è‘—æ€§æ£€éªŒæ˜¯ä¸€ç§æ¨æ–­ç»Ÿè®¡å­¦çš„æ–¹æ³•ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ç”¨æ ·æœ¬æ•°æ®æ¥æ¨æ–­å…³äºæ€»ä½“å‚æ•°çš„ç»“è®ºã€‚&lt;/p&gt;
&lt;img src=&quot;/images/hypo_1.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ &lt;strong&gt;é›¶å‡è®¾æ£€éªŒ (null-hypothesis testing)&lt;/strong&gt; ï¼Œåœ¨è¿™ç§æ£€éªŒä¸­ï¼Œæ˜¾è‘—æ€§æ£€éªŒåŸºäºä¸¤ä¸ªå‡è®¾ï¼Œ &lt;strong&gt;é›¶å‡è®¾ (null hypothesis)&lt;/strong&gt; å’Œ &lt;strong&gt;å¤‡é€‰å‡è®¾ (alternative hypothesis)&lt;/strong&gt; ã€‚é›¶å‡è®¾ä»¥ $ H_0 $ æ³¨è®°ï¼Œå¤‡é€‰å‡è®¾ä»¥  $ H_a $ æ³¨è®°ã€‚é›¶å‡è®¾æ–­è¨€ä½ æ„Ÿå…´è¶£çš„å‚æ•°æ˜¯æŸä¸ªç‰¹å®šå€¼ã€‚å®ƒé€šå¸¸ä»£è¡¨å˜é‡ä¹‹é—´æ²¡æœ‰å…³è”çš„æƒ…å†µï¼Œæˆ–è€…ç»„ä¸ç»„ä¹‹é—´æ²¡æœ‰å·®å¼‚çš„æƒ…å†µã€‚å®ƒæ˜¯ä¸€ä¸ªå½“ä½ çš„æ ·æœ¬æ•°æ®è¡¨æ˜å®ƒä¸å¤ªå¯èƒ½å‘ç”Ÿæ—¶éœ€è¦è¢«æ‹’ç»çš„å‡è®¾ã€‚è€Œå¤‡é€‰å‡è®¾æ–­è¨€ä½ æ„Ÿå…´è¶£çš„å‚æ•°è½åœ¨å¦ä¸€ä¸ªèŒƒå›´ã€‚é€šå¸¸ï¼Œé›¶å‡è®¾å’Œå¤‡é€‰å‡è®¾äº’æ–¥ã€‚å¦‚æœä½ åšæ˜¾è‘—æ€§æµ‹è¯•ï¼Œå‡è®¾é›¶å‡è®¾ä¸ºçœŸï¼Œé™¤éä½ çš„æ•°æ®æœ‰å¾ˆå¼ºçš„åé¢è¯æ®ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/hypo_2.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;æƒ³è±¡ä¸€ä¸ªæ³•åº­çš„åº­å®¡ã€‚è¢«å‘Šæ–¹çš„è¾©æŠ¤å¾‹å¸ˆçš„è§‚ç‚¹æ˜¯è¢«å‘Šæ˜¯æ— è¾œçš„ï¼Œå…¬è¯‰æ–¹åˆ™è¯•å›¾è¯´æœé™ªå®¡å›¢å’Œæ³•å®˜è¢«å‘Šæ˜¯æœ‰ç½ªçš„ã€‚ä¸¾è¯æœ‰ç½ªçš„è´£ä»»åœ¨äºåŸå‘Šã€‚è¢«å‘Šåªæœ‰åœ¨åŸå‘Šæä¾›æœ‰åŠ›è¯æ®é©³æ–¥è¢«å‘Šå‡å®šæ— ç½ªçš„æƒ…å†µä¸‹æ‰èƒ½è¢«è®¤å®šä¸ºæœ‰ç½ªã€‚è¿™æ­£æ˜¯æ˜¾è‘—æ€§æ£€éªŒé‡Œå‘ç”Ÿçš„äº‹æƒ…ã€‚è¾©æŠ¤æ— è¾œç›¸å½“äºé›¶å‡è®¾ï¼Œè€Œæœ‰ç½ªé¢„æœŸåˆ™ç­‰åŒäºå¤‡é€‰å‡è®¾ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/hypo_3.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;åœ¨ç ”ç©¶å®è·µä¸­ï¼Œä½ å¯¹äºå‚æ•°çš„æœŸæœ›æ˜¯ä»¥å¤‡é€‰å‡è®¾çš„æ–¹å¼å‡ºç°ï¼Œè€Œé›¶å‡è®¾å°±æ˜¯å¯¹ç«‹é¢ï¼Œä½†å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå•å€¼ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªèŒƒå›´ã€‚ä½ åªæœ‰åœ¨æ•°æ®æä¾›å¼ºåŠ›ä½è¯æ—¶æ‰èƒ½è®¤å®šé›¶å‡è®¾æˆç«‹ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/hypo_4.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹äºŒå | æ ·æœ¬å®¹é‡</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-sample-size/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-sample-size/</id>
    <published>2020-02-02T03:05:16.000Z</published>
    <updated>2020-02-02T03:43:13.026Z</updated>
    
    <content type="html"><![CDATA[<p>è¿˜æ˜¯å‰é¢çš„æ–°ç”Ÿå„¿çˆ¶æ¯ç¡è§‰å‡å°‘æ—¶é•¿çš„ä¾‹å­ï¼Œç”±äºæˆ‘ä»¬æ— æ³•å»è¯¢é—®ä½ å®¶ä¹¡æ‰€æœ‰çš„å¹´è½»çˆ¶æ¯ã€‚æˆ‘ä»¬é‡‡å–ç®€å•éšæœºæŠ½æ ·ã€‚ä¸€ä¸ªå¾ˆå…³é”®çš„é—®é¢˜æ˜¯ â€”â€” æ ·æœ¬åº”è¯¥å–å¤šå¤§ã€‚åº”è¯¥æ˜¯ 50 ä¸ªå°±å¤Ÿäº†ï¼Ÿæˆ–è€… è‡³å°‘ 300 ä¸ªæˆ–è€… 1000 ä¸ªï¼Ÿ</p><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†å¸ƒè®¨è®ºå¯¹å‡å€¼å’Œæ¯”ä¾‹æ„Ÿå…´è¶£çš„ä¸åŒæƒ…å†µã€‚</p><p>å…ˆä»å‡å€¼å¼€å§‹ã€‚æ ·æœ¬å®¹é‡ä¸»è¦å–å†³äºä¸‰ä¸ªå› ç´ ã€‚é¦–å…ˆæ˜¯ä½ æƒ³è¦çš„ç²¾åº¦ã€‚è®°å¾—å—ï¼Œç½®ä¿¡åŒºé—´æ˜¯é€šè¿‡ç‚¹ä¼°è®¡åŠ å‡ä¸€ä¸ªè¯¯å·®ç•Œé™æ¥å¾—åˆ°çš„ã€‚ä½ å…è®¸å¤šå¤§çš„è¯¯å·®ç•Œé™ï¼Œå¦‚æœä½ å¸Œæœ›å®ƒè¶Šå°ï¼Œé‚£ä¹ˆä½ çš„æ ·æœ¬å®¹é‡å°±å¾—è¶Šå¤§ã€‚å…¶æ¬¡ï¼Œä½ çš„æ ·æœ¬å®¹é‡è¿˜ä¾èµ–ä½ æƒ³è¦çš„ç½®ä¿¡æ°´å¹³ã€‚è¶Šå¤§çš„ç½®ä¿¡æ°´å¹³ï¼Œéœ€è¦è¶Šå¤§çš„æ ·æœ¬å®¹é‡ã€‚æœ€åï¼Œæ•°æ®çš„å˜å¼‚æ€§ä¹Ÿå½±å“æ ·æœ¬å®¹é‡çš„é€‰æ‹©ã€‚ä½ çš„å˜é‡çš„æ ‡å‡†å·®è¶Šå¤§ï¼Œä½ éœ€è¦çš„æ ·æœ¬å®¹é‡ä¹Ÿè¶Šå¤§ã€‚å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$ n = \frac {\sigma^2z^2}{m^2} $$</p><p>n ä»£è¡¨æ ·æœ¬å®¹é‡ï¼Œm ä»£è¡¨è¯¯å·®ç•Œé™ï¼Œ$ \sigma $ ä»£è¡¨æ€»ä½“çš„æ ‡å‡†å·®ï¼Œ z ä»£è¡¨ z åˆ†æ•°ã€‚æ˜¾è€Œæ˜“è§ï¼Œä½ ä¸çŸ¥é“æ€»ä½“çš„æ ‡å‡†å·®ï¼Œè€Œä¸”ä½ è¿˜æ²¡æŠ½å–æ ·æœ¬ä¹Ÿä¸çŸ¥é“æ ·æœ¬çš„æ ‡å‡†å·®ã€‚æ‰€ä»¥ï¼Œä½ éœ€è¦åˆ©ç”¨ <strong>åˆç†çš„çŒœæµ‹ (educated guess)</strong> æ¥ä¼°è®¡ä¸€ä¸ªå€¼ã€‚</p><p>è®©æˆ‘æ¥æ¼”ç¤ºè¿™ä¸ªè¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ã€‚æƒ³è±¡æˆ‘ä»¬æƒ³è¦ 95% çš„ç½®ä¿¡æ°´å¹³ï¼Œå¯¹åº”è¿™ä¸ªç½®ä¿¡æ°´å¹³çš„ z åˆ†æ•°æ˜¯ 1.96 ï¼Œå¹¶ä¸”æˆ‘ä¸å¸Œæœ›è¯¯å·®ç•Œé™å®½è¿‡ 0.3 å°æ—¶ï¼Œå°±å– 0.3 å°æ—¶å§ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å¡«å®Œè¿™ä¸ªå…¬å¼çš„ä¸€éƒ¨åˆ†äº†ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹ $ \sigma $ è¿›è¡Œåˆç†çŒœæµ‹äº†ã€‚å¦‚æœå·²ç»å­˜åœ¨è¿™æ–¹é¢çš„ç ”ç©¶è€Œä¸”ä½ çŸ¥é“å˜é‡çš„æ ‡å‡†å·®ï¼Œå¯ä»¥ç®€å•åœ°é‡‡çº³è¿™ä¸ªæ ‡å‡†å·®ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™æ ·ä¸€ä¸ªç ”ç©¶ä¹‹å‰å¹¶æœªåšè¿‡ï¼Œå°±å¿…é¡»é æˆ‘ä»¬è‡ªå·±çš„çŒœæµ‹ã€‚æˆ‘å…ˆå‡å®šæŸäº›çˆ¶æ¯æ ¹æœ¬æ²¡æ³•ç¡ï¼ŒæŸäº›çˆ¶æ¯ç¡è§‰å°‘äº 5 ä¸ªå°æ—¶ï¼Œå¹¶ä¸”çˆ¶æ¯ä»¬ä¹Ÿä¸å¯èƒ½ç¡çš„æ¯”ä¹‹å‰è¿˜å¤šã€‚å› æ­¤ï¼Œæˆ‘ä»¬å‡å®šå˜é‡æœä»æ­£æ€åˆ†å¸ƒï¼Œ 95% çš„çˆ¶æ¯ç¡è§‰æ—¶é—´ä»‹äº 0 åˆ° 5 ä¸ªå°æ—¶ä¹‹é—´ã€‚å‡å€¼æ˜¯ 2.5 å°æ—¶ï¼Œæ ‡å‡†å·®æ˜¯ 1.25 å°æ—¶ã€‚æ¯•ç«Ÿï¼Œ 95% æ˜¯è½åœ¨å‡å€¼å·¦å³ä¸¤ä¸ªæ ‡å‡†å·®èŒƒå›´å†…ï¼Œä¸¤ä¸ªæ ‡å‡†å·®ç­‰äº 2.5 ï¼Œé‚£ä¹ˆä¸€ä¸ªæ ‡å‡†å·®å°±æ˜¯ 1.25 ã€‚æˆ‘ä»¬ç”¨è¿™ç»„æ•°å­—å®Œæˆå…¬å¼ï¼Œå¾—åˆ° 66.69 ï¼Œå–æ•´ï¼Œå¾—å‡ºç»“è®ºæˆ‘ä»¬éœ€è¦ 67 ä¸ªå—è¯•è€…ã€‚</p><p>å¯¹äºæ¯”ä¾‹æ„Ÿå…´è¶£è€Œä¸æ˜¯å‡å€¼çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥é‡‡å–ç±»ä¼¼çš„æ–¹å¼ã€‚å‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“æ–°ç”Ÿå„¿åœ¨æ¢å°¿å¸ƒæ—¶ä¾¿ä¾¿çš„æ¯”ä¾‹ï¼Œæˆ‘æƒ³è¦ 99% çš„ç½®ä¿¡æ°´å¹³ï¼Œè¯¯å·®ç•Œé™ 0.10 ã€‚å…¬å¼éå¸¸ç›¸ä¼¼ï¼š</p><p>$$ n = \frac {p (1-p) z^2}{m^2} $$</p><p>m æ˜¯ 0.10 ï¼Œz å¯ç”±æŸ¥è¡¨å¾— 2.58 ï¼Œå®ƒå¯¹åº” 99% ç½®ä¿¡æ°´å¹³ã€‚æˆ‘ä»¬ä¸çŸ¥é“çš„æ˜¯ p ã€‚è¿˜æ˜¯é‡‡ç”¨åˆç†çš„çŒœæµ‹ï¼Œæˆ–è€…é‡‡ç”¨ä¸€ç§è¢«ç§°ä¸º <strong>å®‰å…¨æ–¹æ³• (safe approach)</strong> çš„æ–¹å¼ã€‚ä½ ä¼šå‘ç° $ p (1-p) $ çš„æœ€å¤§å€¼æ˜¯ 0.25 ï¼Œå®ƒå‘ç”Ÿåœ¨ p = 0.5 çš„æ—¶å€™ï¼Œäºæ˜¯æˆ‘ä»¬ç”¨ p = 0.5 å®Œæˆå…¬å¼ï¼Œ0.5 ä¹˜ä»¥ 0.5 ä¹˜ä»¥ 2.58 çš„å¹³æ–¹é™¤ä»¥ 0.10 çš„å¹³æ–¹ï¼Œå¾—åˆ° 166.41 ï¼Œå³ 167 ä½å—è¯•è€…ã€‚</p><p>åœ¨ç†æƒ³ä¸–ç•Œä¸­ï¼Œä½ å¯ä»¥å»å¯»æ±‚å¤§æ ·æœ¬ï¼Œæ¯”å¦‚è¯´ 1000 ä½å—è¯•è€…æˆ–è€…æ›´å¤šã€‚ä½†æ˜¯ï¼Œåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬çš„æ—¶é—´æœ‰é™ï¼Œèµ„æºæœ‰é™ï¼Œæ— æ³•æŠ½å–å¤§æ ·æœ¬ã€‚å› æ­¤ï¼Œè®¡ç®—æ‰€éœ€çš„æ ·æœ¬å®¹é‡å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠæˆæœ¬é™åˆ°æœ€ä½ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿˜æ˜¯å‰é¢çš„æ–°ç”Ÿå„¿çˆ¶æ¯ç¡è§‰å‡å°‘æ—¶é•¿çš„ä¾‹å­ï¼Œç”±äºæˆ‘ä»¬æ— æ³•å»è¯¢é—®ä½ å®¶ä¹¡æ‰€æœ‰çš„å¹´è½»çˆ¶æ¯ã€‚æˆ‘ä»¬é‡‡å–ç®€å•éšæœºæŠ½æ ·ã€‚ä¸€ä¸ªå¾ˆå…³é”®çš„é—®é¢˜æ˜¯ â€”â€” æ ·æœ¬åº”è¯¥å–å¤šå¤§ã€‚åº”è¯¥æ˜¯ 50 ä¸ªå°±å¤Ÿäº†ï¼Ÿæˆ–è€… è‡³å°‘ 300 ä¸ªæˆ–è€… 1000 ä¸ªï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†å¸ƒè®¨è®ºå¯¹å‡å€¼å’Œæ¯”ä¾‹æ„Ÿå…´è¶£çš„ä¸åŒ
      
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹åä¹ | æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´å’Œç½®ä¿¡æ°´å¹³</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-confidence-interval-for-proportion/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-confidence-interval-for-proportion/</id>
    <published>2020-02-02T02:28:44.000Z</published>
    <updated>2020-02-28T05:48:27.346Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´"><a href="#æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´"></a>æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´</h1><p>åœ¨è¿‡å»çš„å‡ å‘¨ä¸­æˆ‘è®¤è¯†åˆ°æ–°ç”Ÿå„¿å–œæ¬¢æ’ä¾¿ï¼Œé¢‘ç¹åœ°æ’ä¾¿ã€‚æ°å¥½æˆ‘çš„å¥³å„¿ Lois å°¤å…¶å–œæ¬¢åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹æ’ä¾¿ â€”â€” åœ¨æˆ‘ç»™å¥¹æ¢å°¿å¸ƒçš„æ—¶å€™ã€‚æˆ‘è¯´çœŸçš„ï¼Œä¸€æ—¦å¥¹å†³å®šä¸Šå•æ‰€ (answer natureâ€™s call) ï¼Œä¸€ä¸Šå°±æ˜¯å…­æ¬¡ã€‚æ˜¯çš„ï¼Œå…­æ¬¡ï¼Œå‘ç”Ÿåœ¨æ¢å°¿å¸ƒçš„è¿‡ç¨‹ä¸­ã€‚</p><p><img src="/images/statistics_cip_1.jpg" width="33%" height="33%" style="margin: 10 auto;"></p><p>è¿™æ­£å¸¸å—ï¼Ÿæˆ‘ä¸ç¡®å®šï¼Œä½†æˆ‘çŸ¥é“æˆ‘éœ€è¦ææ¸…æ¥šã€‚å‡å®šæˆ‘éšæœºé—® 100 ä¸ªæ–°ç”Ÿå„¿çš„çˆ¶æ¯ï¼Œä»–ä»¬çš„å®å®æ˜¯å¦å–œæ¬¢åœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ã€‚åœ¨è¿™ä¸€èŠ‚æ•™ç¨‹ä¸­ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ï¼Œå¦‚ä½•åŸºäºè¿™æ ·ä¸€ä¸ªç ”ç©¶ï¼Œæ„å»ºä¸€ä¸ªä¼°è®¡æ€»ä½“æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´ã€‚</p><p>å‡å®šæˆ‘çš„ 100 çš„å—è¯•è€…é‡Œæœ‰ 17% æŠ¥å‘Šä»–ä»¬çš„å®å®å–œæ¬¢åœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ï¼Œ 83% çš„å—è¯•è€…æŠ¥å‘Šä»–ä»¬çš„å®å®ä¸ä¼šè¿™æ ·åšã€‚æˆ‘ä»¬ç”±æ­¤å¾—åˆ°ä¸€ä¸ª 0.17 çš„æ¯”ä¾‹ï¼Œè¿™ä¸ªæ¯”ä¾‹çš„æ–°ç”Ÿå„¿çˆ¶æ¯çš„å®å®å–œæ¬¢åœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ã€‚å½“æˆ‘ä»¬ä¸ºæ¯”ä¾‹æ„å»ºç½®ä¿¡åŒºé—´æ—¶ï¼Œæˆ‘ä»¬å¼•å…¥æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåªè¦æ ·æœ¬è¶³å¤Ÿå¤§ï¼Œè¿™ä¸ªæŠ½æ ·åˆ†å¸ƒå°±æ˜¯æ­£æ€åˆ†å¸ƒï¼Œå¹¶ä¸”å‡å€¼ç­‰äºæ€»ä½“æ¯”ä¾‹ $\pi$ ï¼Œæ ‡å‡†å·® $\sigma<em>p$ ç­‰äº $ \sqrt {\frac {\pi (1-\pi)}{n}} $ ã€‚æˆ‘ä»¬è¿˜çŸ¥é“ï¼Œæ‰¾åˆ°ä¸€ä¸ªæ¯”ä¾‹å¤„äºå‡å€¼ä¸¤ä¸ªæ ‡å‡†å·®èŒƒå›´å†…çš„æ ·æœ¬çš„æ¦‚ç‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ€»ä½“çš„æ¯”ä¾‹ï¼Œæ˜¯ 0.95 ã€‚ æ›´ç²¾ç¡®çš„è¯´ï¼Œå¦‚æœæˆ‘ä»¬å¯¹åº”æ¦‚ç‡çš„ z åˆ†æ•°ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ° 1.96 ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æœ‰ 95% çš„æœºä¼šç¡®å®šæˆ‘ä»¬çš„æ ·æœ¬æ¯”ä¾‹ä¼šè½åœ¨æ€»ä½“æ¯”ä¾‹ 1.96 ä¸ªæ ‡å‡†å·®èŒƒå›´å†…ï¼Œè¿™è¢«æˆ‘ä»¬ç§°ä¸º <em>_è¯¯å·®ç•Œé™ (margin of error)</em></em> ã€‚æˆ‘ä»¬ç”¨äºè®¡ç®— 95% ç½®ä¿¡åŒºé—´çš„å…¬å¼å¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">p\pm1.96\sigma_p , \sigma_p = \sqrt {\frac {\pi (1-\pi)}{n}}</script><p>å…¶ä¸­ 1.96 æ˜¯å¯¹åº” 95% ç½®ä¿¡åŒºé—´çš„ z åˆ†æ•°ã€‚æ‰€ä»¥ä¸Šé¢çš„å…¬å¼æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆï¼š</p><script type="math/tex; mode=display">p\pm {Z_{95\%}}\sigma_p , \sigma_p = \sqrt {\frac {\pi (1-\pi)}{n}}</script><p>æˆ‘ä»¬è¿™é‡Œè®¨è®ºçš„æ˜¯ 95% çš„ç½®ä¿¡åŒºé—´ï¼Œæ„å‘³ç€å¦‚æœæˆ‘ä»¬èƒ½ä»æ€»ä½“æŠ½å–æ— é™å¤šçš„æ ·æœ¬ï¼Œé‚£ä¹ˆ 95% çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ç½®ä¿¡åŒºé—´ä¼šåŒ…å«æ€»ä½“æ¯”ä¾‹ $\pi$ ã€‚ä¸è¿‡ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“æ€»ä½“æ¯”ä¾‹ $\pi$ çš„å€¼ï¼Œæ‰€ä»¥å°±æ— ä»è®¡ç®—æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªä¼°è®¡å€¼æ¥ä»£æ›¿æ€»ä½“å‚æ•° $\pi$ ï¼Œè¿™ä¸ªä¼°è®¡å€¼æ¥è‡ªæ ·æœ¬ç»Ÿè®¡é‡ï¼Œ $P$ ï¼Œç”±æ­¤å¾—åˆ°ä¸‹é¢çš„å…¬å¼ï¼š</p><script type="math/tex; mode=display">p\pm {Z_{95\%}}(se) , se = \sqrt {\frac {p (1-p)}{n}}</script><p>å°±åƒæˆ‘ä»¬ä¸ºå‡å€¼æ„å»ºç½®ä¿¡åŒºé—´æ—¶ä¸€æ ·ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªä¼°è®¡çš„æ ‡å‡†å·®ä¸º <strong>æ ‡å‡†è¯¯å·® (standard error)</strong> ï¼Œåˆç§°ä¸ºæ ‡å‡†è¯¯ã€‚ ä½œä¸ºä¸å‡å€¼çš„ç½®ä¿¡åŒºé—´çš„å¯¹æ¯”ï¼Œåœ¨æ„å»ºæ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸ä½¿ç”¨ t åˆ†å¸ƒã€‚ä¸è¿‡ï¼Œä½ çš„æ•°æ®éœ€è¦æ»¡è¶³ä¸€ä¸ªå¿…è¦çš„å‡å®šã€‚ä½ å¿…é¡»è¦æœ‰è‡³å°‘ 15 ä¸ªæˆåŠŸå’Œ 15 ä¸ªå¤±è´¥ã€‚æ¢è¨€ä¹‹ï¼Œ $np \geq 15$ å¹¶ä¸” $n (1-p) \geq 15$ ã€‚å¦‚æœä¸æ»¡è¶³ï¼Œé‚£ ä½ å°±ä¸èƒ½åŸºäºä¸Šé¢çš„å…¬å¼è®¡ç®—ç½®ä¿¡åŒºé—´ã€‚ç°åœ¨å›åˆ°ä¾‹å­ï¼Œæˆ‘ä»¬æœ‰ 0.17 çš„æ¯”ä¾‹æŠ¥å‘Šå®å®åœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ã€‚å…¬å¼å¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">p\pm {Z_{95\%}}(se) , se = \sqrt {\frac {p (1-p)}{n}}</script><p>è®©æˆ‘ä»¬å…ˆè®¡ç®—æ ‡å‡†è¯¯å·®ã€‚0.17 ä¹˜ä»¥ 0.83 ï¼Œé™¤ä»¥ 100 ï¼Œç„¶åå–å¹³æ–¹æ ¹ï¼Œç»“æœæ˜¯ 0.038 ã€‚è¯¯å·®ç•Œé™ç­‰äº 1.96 ä¹˜ä»¥ 0.038 ï¼Œçº¦å®šäº 0.07 ã€‚ 0.17 å‡å» 0.07 ç­‰äº 0.10 ï¼Œ0.17 åŠ ä¸Š 0.07 ç­‰äº 0.24 ã€‚å› æ­¤æˆ‘ä»¬çš„ç½®ä¿¡åŒºé—´æ˜¯ 0.10 åˆ° 0.24 ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æœ‰ 95% çš„ä¿¡å¿ƒè¯´ï¼Œæ€»ä½“æ¯”ä¾‹è½åœ¨ 0.10 åˆ° 0.24 ä¹‹é—´ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æŠ½å–æ— é™å¤šå®¹é‡ä¸º 100 çš„æ ·æœ¬ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸ªæ ·æœ¬æˆ‘ä»¬è®¡ç®—è¿™ä¸ªè¯¯å·®ç•Œé™ä¸‹çš„ç½®ä¿¡åŒºé—´ï¼Œæœ‰ 95% çš„æƒ…å†µè¿™ä¸ªåŒºé—´ä¼šåŒ…å«æ€»ä½“çš„æ¯”ä¾‹ã€‚è¿™ä¸ª 95% ç½®ä¿¡åŒºé—´è¯´æ˜ï¼Œå¤§éƒ¨åˆ†å®å®å¹¶ä¸å–œæ¬¢åœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä»–ä»¬ç¡®å®åœ¨è¿™ä¸ªæ—¶å€™æ’ä¾¿äº†ï¼Œä¹Ÿå¹¶å¥‡æ€ªã€‚æˆ‘ä»¬æœ‰ 95% çš„ä¿¡å¿ƒè¯´æœ‰ 10% åˆ° 24% çš„å®å®ç¡®å®ä¼šåœ¨æ¢å°¿å¸ƒæ—¶æ’ä¾¿ã€‚</p><hr><h1 id="ç½®ä¿¡æ°´å¹³"><a href="#ç½®ä¿¡æ°´å¹³" class="headerlink" title="ç½®ä¿¡æ°´å¹³"></a>ç½®ä¿¡æ°´å¹³</h1><p>95% çš„ç½®ä¿¡åŒºé—´ï¼Œå‘Šè¯‰æˆ‘ä»¬å¯¹äºæˆ‘ä»¬çš„ç‚¹ä¼°è®¡æœ‰ 95% çš„å¯ä¿¡åº¦ï¼Œè¿™ä¸ªç‚¹ä¼°è®¡å¯ä»¥æ˜¯å‡å€¼æˆ–è€…æ¯”ä¾‹ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœèƒ½å¤ŸæŠ½å–æ— é™å¤šçš„æ ·æœ¬ï¼Œè¿‘ä¼¼äºæˆ‘ä»¬å½“å‰çš„æ ·æœ¬ï¼Œå¯¹æ‰€æœ‰çš„æ ·æœ¬åŸºäºç›¸åŒçš„è¯¯å·®ç•Œé™è®¡ç®— 95% çš„ç½®ä¿¡åŒºé—´ã€‚é‚£ä¹ˆ 95% çš„æƒ…å†µä¸‹ï¼Œæ€»ä½“çš„å‚æ•°å€¼å›è½åœ¨è¿™ä¸ªç½®ä¿¡åŒºé—´å†…ã€‚åŒæ—¶ä¹Ÿæ„å‘³ç€ï¼Œ 5% çš„æƒ…å†µï¼Œè¿™ä¸ªæ–¹æ³•ä¼šäº§ç”Ÿä¸€ä¸ªä¸åŒ…å«å®é™…æ€»ä½“å‚æ•°çš„åŒºé—´ã€‚</p><p>å¦‚æœä½ å¸Œæœ›å‡å°‘é”™è¯¯æ¨æ–­çš„å¯èƒ½æ€§ï¼Œä½ å¯ä»¥è¯‰è¯¸æ›´å¤§çš„ç½®ä¿¡åŒºé—´ï¼Œæ¯”å¦‚è¯´ 99% ã€‚è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†å‘ä½ æ¼”ç¤ºå¦‚ä½•æ”¹å˜ç½®ä¿¡æ°´å¹³ï¼Œä»¥åŠè¿™ä¹ˆåšä¼šå¸¦æ¥ä»€ä¹ˆç»“æœã€‚</p><p>99% ç½®ä¿¡åŒºé—´å’Œ 95% ç½®ä¿¡åŒºé—´çš„å”¯ä¸€åŒºåˆ«æ˜¯ä¸åŒçš„ z åˆ†æ•°ï¼Œé€šè¿‡æŸ¥è¯¢ z è¡¨ï¼Œä»£å…¥å…¬å¼ï¼Œæœ€ç»ˆæˆ‘ä»¬ç®—å¾— 99% ç½®ä¿¡åŒºé—´æ˜¯ 0.07 åˆ° 0.27 ã€‚å¯¹äº 90% çš„ç½®ä¿¡åŒºé—´ï¼Œç»“æœæ˜¯ 0.11 åˆ° 0.23 ã€‚</p><p>æˆ‘ä»¥å›¾å½¢æ¼”ç¤ºï¼Œä½ ä¼šçœ‹åˆ°ï¼Œæ›´é«˜çš„ç½®ä¿¡æ°´å¹³å¯¼è‡´æ›´å®½çš„ç½®ä¿¡åŒºé—´ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬æƒ³è·å¾—å¯ä¿¡åº¦è¶Šé«˜çš„æ¨æ–­ï¼Œé‚£ä¹ˆå°±è¦æ¥å—æ›´å®½çš„è¯¯å·®ç•Œé™ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ä¿¡åº¦å’Œç²¾åº¦ä¹‹é—´æŠ˜ä¸­ã€‚åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é‡‡ç”¨ 95% ç½®ä¿¡åŒºé—´ã€‚</p><p><img src="/images/statistics_cil.jpg" width="33%" height="33%" style="margin: 10 auto;"></p><p>è¿™ä¸ªåŸç†åŒæ ·é€‚ç”¨äºå‡å€¼çš„ç½®ä¿¡åŒºé—´ï¼ŒåŒºåˆ«åœ¨äºåœ¨æ¯”ä¾‹ä¸­ï¼Œæˆ‘ä»¬æŸ¥è¯¢ç›¸å…³çš„ z åˆ†æ•°è€Œåœ¨å‡å€¼çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æŸ¥è¯¢ç›¸å…³çš„ t åˆ†æ•°ï¼Œå¹¶ä¸”å‡å€¼çš„è®¡ç®—ä¸­è¿˜è¦ç”¨åˆ°è‡ªç”±åº¦ï¼Œå³ n å‡å» 1 ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´&quot;&gt;&lt;a href=&quot;#æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´&quot; class=&quot;headerlink&quot; title=&quot;æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´&quot;&gt;&lt;/a&gt;æ¯”ä¾‹çš„ç½®ä¿¡åŒºé—´&lt;/h1&gt;&lt;p&gt;åœ¨è¿‡å»çš„å‡ å‘¨ä¸­æˆ‘è®¤è¯†åˆ°æ–°ç”Ÿå„¿å–œæ¬¢æ’ä¾¿ï¼Œé¢‘ç¹åœ°æ’ä¾¿ã€‚æ°å¥½æˆ‘çš„å¥³å„¿ Lois å°¤å…¶å–œæ¬¢åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹æ’ä¾¿
      
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹åå…« | å‡å€¼çš„æ¨æ–­å’Œç½®ä¿¡åŒºé—´</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-inference-and-confidence-interval/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-inference-and-confidence-interval/</id>
    <published>2020-02-01T03:03:48.000Z</published>
    <updated>2020-02-27T09:08:54.796Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç»Ÿè®¡æ¨æ–­"><a href="#ç»Ÿè®¡æ¨æ–­" class="headerlink" title="ç»Ÿè®¡æ¨æ–­"></a>ç»Ÿè®¡æ¨æ–­</h1><p>è¿™ä¸€èŠ‚æˆ‘ä»¬ä»¥ç¡çœ ä¸ºä¾‹ã€‚å‡è®¾ä½ é€šå¸¸æ¯æ™šç¡ 8 ä¸ªå°æ—¶ï¼Œä½ çªç„¶åšäº†å¹´è½»çˆ¸çˆ¸æˆ–è€…å¹´è½»å¦ˆå¦ˆï¼Œä½ çš„ç¡çœ æ—¶é—´å‡å°‘åˆ°æ¯æ™š 5 ä¸ªå°æ—¶ï¼Œè¿™æ„å‘³ç€æ¯æ™šå‡å°‘ 3 ä¸ªå°æ—¶ï¼Œç›¸å½“äºæ¯å‘¨ 20 ä¸ªå°æ—¶ï¼Œæ¯å¹´ 1000 ä¸ªå°æ—¶ï¼Œå·®ä¸å¤š 40 å¤©ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœä½ å®¶å®å®ç»§ç»­ä¿æŒä»– / å¥¹çš„ç¡çœ æ—¶é—´ï¼Œä¸€å¹´ä¹‹åä½ ä¼šæ¯”ä¹‹å‰å°‘ç¡ å¤§çº¦ 40 å¤©ã€‚</p><p>å›åˆ°ç»Ÿè®¡å­¦ï¼Œæƒ³è±¡ä½ æƒ³è¦çŸ¥é“ä½ å®¶ä¹¡çš„å¹´è½»çˆ¶æ¯åœ¨å­©å­åˆšå‡ºç”Ÿé‚£ä¸€å¹´å‡å°‘äº†å¤šå°‘ç¡çœ ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­æˆ‘ä»¬å°†è®¨è®ºç»Ÿè®¡æ¨æ–­ã€‚æˆ‘ä»¬ä¼šåŸºäºæ ·æœ¬ä¿¡æ¯ï¼Œå¾—å‡ºå…³äºæ€»ä½“çš„ç»“è®ºã€‚æˆ‘ä»¬å°†ä¼šåŒºåˆ†ä¸¤ç§ç»Ÿè®¡æ¨æ–­çš„æ–¹æ³•ï¼Œä¸€ç§å« <strong>ç»Ÿè®¡ä¼°è®¡ (statistical estimation)</strong> ï¼Œå¦ä¸€ç§å« <strong>å‡è®¾æ£€éªŒ (hypothesis testing)</strong> ã€‚åœ¨è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å…ˆäº†è§£ç»Ÿè®¡ä¼°è®¡ã€‚ </p><p>æœ‰ä¸¤ç§æ–¹å¼ä¼°è®¡æ€»ä½“å‚æ•°çš„å€¼ï¼Œå…¶ä¸€å« <strong>ç‚¹ä¼°è®¡ (point estimate)</strong> ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹äºæ€»ä½“å‚æ•°çš„æœ€ä½³çŒœæƒ³ã€‚å…¶äºŒæ˜¯ <strong>åŒºé—´ä¼°è®¡ (interval estimate)</strong> ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ‘ä»¬é¢„æœŸå‚æ•°ä¼šè½åœ¨çš„èŒƒå›´ã€‚ </p><p>æƒ³è±¡æˆ‘ä»¬æŠ½å–äº† 60 ä¸ªå—è¯•è€…æ ·æœ¬ï¼Œæœ‰äº†ç¬¬ä¸€ä¸ªå°å­©åæ¯æ™šå‡å°‘çš„ç¡çœ å°æ—¶æ•°å‡å€¼ä¸º 2.6 å°æ—¶ã€‚è¿™ä¸ªå‡å€¼æ˜¯ä¸€ä¸ªå¯¹äºæ€»ä½“å‡å€¼å¾ˆå¥½çš„ç‚¹ä¼°è®¡ã€‚æ¢è¨€ä¹‹ï¼Œ$ \bar x $ ï¼Œæ˜¯ä¸€ä¸ªå¯¹äº $ \mu $ çš„å¾ˆå¥½çš„ç‚¹ä¼°è®¡ã€‚ä¸è¿‡ï¼Œå•ä¸€çš„ç‚¹ä¼°è®¡æ— æ³•å‘Šè¯‰æˆ‘ä»¬ä¼°è®¡æ˜¯å¦æ¥è¿‘æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ€»ä½“å‚æ•°ã€‚å› æ­¤ï¼Œç ”ç©¶äººå‘˜é€šå¸¸è¿˜å¸Œæœ›çŸ¥é“ç‚¹ä¼°è®¡å¯èƒ½çš„å‡†ç¡®åº¦ã€‚ä»–ä»¬å€Ÿç”±è®¡ç®—åŒºé—´ä¼°è®¡æ¥æ˜¾ç¤ºè¿™ç§å‡†ç¡®åº¦ã€‚</p><p>åŒºé—´ä¼°è®¡æ˜¯ä¸€ä¸ªæœ€æœ‰å¯èƒ½åŒ…å«æ€»ä½“å®é™…å‚æ•°å€¼çš„æ•°å­—åŒºé—´ã€‚åŸºäºæˆ‘ä»¬çš„æ ·æœ¬å‡å€¼ 2.6 å°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹ï¼Œæ¯”å¦‚è¯´ï¼Œä½ å®¶ä¹¡æ–°ç”Ÿå„¿çˆ¶æ¯æ¯æ™šç¡çœ å‡å°‘çš„å¹³å‡å°æ—¶æ•°ä»‹äº 2.3 å°æ—¶åˆ° 2.9 å°æ—¶ä¹‹é—´ã€‚</p><p>è¿™ä¸ªåŒºé—´åŒ…å«æ€»ä½“å‚æ•°å€¼çš„æ¦‚ç‡ï¼Œè¢«æˆ‘ä»¬ç§°ä¸º <strong>ç½®ä¿¡æ°´å¹³ (confidence level)</strong> ï¼Œç½®ä¿¡æ°´å¹³æ€»æ˜¯ä¸€ä¸ªæ¥è¿‘ 1 çš„å€¼ï¼Œå¤šæ•°æƒ…å†µä¸‹æ˜¯ 0.95 ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†è®¨è®ºæœ‰ 95% ç½®ä¿¡æ°´å¹³çš„åŒºé—´ã€‚</p><a id="more"></a><hr><h1 id="å·²çŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´"><a href="#å·²çŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="å·²çŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´"></a>å·²çŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´</h1><p>å‡è®¾æˆ‘ä»¬çŸ¥é“ 60 ä¸ªå¹´è½»çˆ¶æ¯çš„æ ·æœ¬åœ¨ç¬¬ä¸€ä¸ªå°å­©å‡ºç”Ÿåç¡çœ å‡å°‘å°æ—¶æ•°çš„æ ‡å‡†å·®æ˜¯ 0.9 å°æ—¶ï¼Œä¹ŸçŸ¥é“æ€»ä½“çš„æ ‡å‡†å·®æ˜¯ 1.1 å°æ—¶ã€‚ï¼ˆå®è·µä¸­ï¼Œä¸å¤ªå¯èƒ½çŸ¥é“è¿™ä¸ªå‚æ•°ï¼Œä½†è¿™é‡Œæˆ‘ä»¬å…ˆå‡å®šä½ çŸ¥é“ï¼‰</p><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åŸºäºæ ·æœ¬ä¿¡æ¯å’Œæ€»ä½“çš„æ ‡å‡†å·®æ¥æ„é€  <strong>ç½®ä¿¡åŒºé—´ (confidence interval)</strong> ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹è¿™æ ·ä¸€ä¸ªç½®ä¿¡åŒºé—´åº”è¯¥å¦‚ä½•è§£è¯»ã€‚</p><p>ä¸ºäº†æ„é€ ä¸€ä¸ªç½®ä¿¡åŒºé—´ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°æ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬æ˜¯åœ¨å¤„ç†ä¸€ä¸ªæ¥è‡ªæ€»ä½“çš„æ ·æœ¬ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œåªè¦æ ·æœ¬è¶³å¤Ÿå¤§ï¼ŒæŠ½æ ·åˆ†å¸ƒå°±æ˜¯æ­£æ€åˆ†å¸ƒçš„ï¼Œå¹¶ä¸”å‡å€¼ç­‰äºæ€»ä½“çš„å‡å€¼ï¼Œæ ‡å‡†å·®ç­‰äºæ€»ä½“çš„æ ‡å‡†å·®é™¤ä»¥æ ·æœ¬æ•° n çš„å¹³æ–¹æ ¹ã€‚æˆ‘ä»¬è¿˜çŸ¥é“ï¼Œæ‰¾åˆ°è·ç¦»æ ·æœ¬å‡å€¼å°‘äºç­‰äºä¸¤ä¸ªæ ‡å‡†å·®çš„æ¦‚ç‡æ˜¯ 0.95 ã€‚æ›´ç²¾ç¡®çš„ï¼Œå¦‚æœæŸ¥è¯¢å¯¹åº”æ¦‚ç‡çš„ z åˆ†æ•°ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ° -1.96 å’Œ 1.96 ã€‚</p><p>è¿™æ„å‘³ç€æˆ‘ä»¬æœ‰ 95% çš„æœºä¼šä»¤æ ·æœ¬å‡å€¼è½åœ¨æ€»ä½“å‡å€¼ 1.96 ä¸ªæ ‡å‡†å·®èŒƒå›´å†…ã€‚ 1.96 ä¸ªæ ‡å‡†å·®çš„è·ç¦»æˆ‘ä»¬ç§°ä¸º <strong>è¯¯å·®ç•Œé™ (margin error)</strong> ã€‚è¯¯å·®ç•Œé™å‘Šè¯‰æˆ‘ä»¬ç”¨æ ·æœ¬å‡å€¼ $ \bar x $ ä¼°è®¡æ€»ä½“å‡å€¼çš„å‡†ç¡®ç¨‹åº¦ã€‚ 95% ç½®ä¿¡åŒºé—´çš„å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/images/ci_1.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å®ƒæ˜¯ç”±ç‚¹ä¼°è®¡æˆ–è€…æ ·æœ¬å‡å€¼åŠ å‡è¯¯å·®ç•Œé™ï¼Œå³ 1.96 ä¸ªæ ‡å‡†å·®ã€‚æ³¨æ„æˆ‘ä»¬æ˜¯åœ¨å¤„ç†æ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒã€‚å› æ­¤åˆ†å¸ƒçš„æ ‡å‡†å·®ç­‰äº $ \frac {\sigma}{\sqrt {n}} $ ã€‚æ¥ä¸‹æ¥è¯·é›†ä¸­æ³¨æ„åŠ›ï¼Œå› ä¸ºè¿‡ç¨‹ä¼šæœ‰ç‚¹å¤æ‚ã€‚ </p><p>å‡è®¾ä½ æŠ½å–ä¸€ä¸ªæ ·æœ¬ï¼Œæ ·æœ¬å‡å€¼ç”±æŸä¸ªç‚¹è¡¨ç¤ºï¼Œä»å‡å€¼å¾€ä¸¤ä¾§æœ‰ä¸€æ ¹çº¿è¡¨ç¤ºè¯¯å·®ç•Œé™ã€‚å®ƒä»¬ä¸€èµ·æ„æˆäº† 95% çš„ç½®ä¿¡åŒºé—´ã€‚å¦‚æœæ ·æœ¬å‡å€¼è½åœ¨çº¢è‰²åŒºåŸŸï¼Œåˆ™ç½®ä¿¡åŒºé—´åŒ…å«æ€»ä½“å‡å€¼ $ \mu $ ã€‚å¦‚æœæ ·æœ¬å‡å€¼ä¸è½åœ¨çº¢è‰²åŒºåŸŸï¼Œåˆ™ç½®ä¿¡åŒºé—´ä¸åŒ…å«æ€»ä½“å‡å€¼ $ \mu $ ã€‚æˆ‘ä»¬è®¨è®ºçš„æ˜¯ 95% çš„ç½®ä¿¡åŒºé—´ï¼Œè¿™æ„å‘³ç€éšæœºé€‰æ‹©ä¸€ä¸ªæ ·æœ¬ï¼Œå®ƒåŒ…å«æ€»ä½“å‡å€¼çš„æ¦‚ç‡æ˜¯ 0.95 ï¼Œä¸åŒ…å«æ€»ä½“å‡å€¼çš„ 0.05 ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœæˆ‘ä»¬æŠ½å–æ— é™å¤šä¸ªæ ·æœ¬ï¼Œ 95% çš„æƒ…å†µï¼Œæˆ‘ä»¬çš„ç½®ä¿¡åŒºé—´ä¼šåŒ…å«æ€»ä½“çš„å‡å€¼ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬å›åˆ°ä¾‹å­ã€‚ä¾‹å­ä¸­æ ·æœ¬å‡å€¼æ˜¯ 2.6 å°æ—¶ã€‚æ€»ä½“æ ‡å‡†å·® 1.1 ã€‚æ ·æœ¬å®¹é‡æ˜¯ 60 ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†è®¡ç®—ç½®ä¿¡åŒºé—´éœ€è¦çš„å…¨éƒ¨æ•°å­—ã€‚å…¬å¼å¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">\bar x\pm1.96\sigma_{\bar x}</script><p>æˆ‘ä»¬çŸ¥é“ $ \sigma_{\bar x} = \frac {\sigma}{\sqrt {n}} $ ï¼Œå³ $ \frac {1.1}{\sqrt {60}} $ ï¼Œå¾—åˆ° 0.142 ã€‚æ¥ä¸‹æ¥è®¡ç®—è¯¯å·®ç•Œé™ï¼Œ 1.96 ä¹˜ä»¥ 0.142 ï¼Œçº¦ç­‰äº 0.28 ã€‚æ ·æœ¬å‡å€¼ç­‰äº 2.6 ï¼Œå› æ­¤ 95% ç½®ä¿¡åŒºé—´æ˜¯ 2.6 å‡å» 0.28 åˆ° 2.6 åŠ ä¸Š 0.28 çš„åŒºé—´ï¼Œå³ 2.32 åˆ° 2.88 ã€‚æˆ‘ä»¬å¯ä»¥è¯´ï¼Œæˆ‘ä»¬æœ‰ 95% çš„ä¿¡å¿ƒç¡®å®šè¿™ä¸ªåŒºé—´åŒ…å«äº†å®é™…çš„æ€»ä½“å‡å€¼ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œå¦‚æœæˆ‘ä»¬ä»æ€»ä½“ä¸­æŠ½å–æ— é™å¤šä¸ªå¤§å°ä¸º 60 çš„æ ·æœ¬ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬è®¡ç®—è¯¯å·®ç•Œé™ï¼Œ 95% çš„æƒ…å†µä¸‹ï¼Œæ€»ä½“çš„å‡å€¼ä¼šè½åœ¨æ ·æœ¬çš„ç½®ä¿¡åŒºé—´å†…ã€‚</p><p><img src="/images/ci_2.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å¦‚æœæ–°ç”Ÿå„¿çˆ¶æ¯çš„è¿™ç§å¢ƒå†µä¼šæŒç»­ä¸€å¹´ï¼Œæˆ‘ä»¬æœ‰ 95% çš„ä¿¡æ¯è¯´ï¼Œè¿™äº›äººä¼šå‡å°‘ 2.32 ä¹˜ä»¥ 365 å°æ—¶åˆ° 2.88 ä¹˜ä»¥ 365 å°æ—¶çš„ç¡çœ æ—¶é—´ï¼Œæˆ–è€…è¯´ï¼Œ 846.8 å°æ—¶åˆ° 1,051.2 å°æ—¶ï¼Œåˆæˆ–è€…è¯´ï¼Œ 35.3 åˆ° 43.8 ä¸ªæ•´å¤©ã€‚</p><hr><h1 id="æœªçŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´"><a href="#æœªçŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="æœªçŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´"></a>æœªçŸ¥æ€»ä½“æ ‡å‡†å·®ï¼Œæ±‚å‡å€¼çš„ç½®ä¿¡åŒºé—´</h1><p>95% ç½®ä¿¡åŒºé—´ç”¨äºè¯„ä¼°æ€»ä½“çš„å‡å€¼ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬æˆ‘ä»¬æœ‰ 95% çš„ä¿¡æ¯è¿™ä¸ªåŒºé—´åŒ…å«å®é™…çš„æ€»ä½“å‡å€¼ã€‚åˆ©ç”¨è¿™ä¸ªå…¬å¼ $ \sigma_{\bar x} = \frac {\sigma}{\sqrt {n}} $ ï¼Œä½ å¯ä»¥è®¡ç®—åŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚è¿™ä¸ªå…¬å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºäº†è®¡ç®—ç½®ä¿¡åŒºé—´ï¼Œä½ éœ€è¦çŸ¥é“æ€»ä½“çš„æ ‡å‡†å·®ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬é€šå¸¸å¹¶ä¸çŸ¥é“è¿™ä¸ªå‚æ•°ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬æœ¬æ¥å°±åœ¨ç”¨æ ·æœ¬æ¨æµ‹æ€»ä½“çš„å‚æ•°ã€‚</p><p>è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨ä¸çŸ¥é“æ€»ä½“å‚æ•°çš„æƒ…å†µä¸‹åšå‡ºæ¨æ–­ã€‚è§£å†³æ–¹æ¡ˆæ˜¯æˆ‘ä»¬ä¼°è®¡æ€»ä½“çš„æ ‡å‡†å·®ï¼Œå› è€Œæˆ‘ä»¬è¦å¼•å…¥å¦ä¸€ä¸ªåˆ†å¸ƒï¼Œå®ƒå« <strong>T åˆ†å¸ƒ</strong> ã€‚è®©æˆ‘æ¥å‘Šè¯‰å®ƒå¦‚ä½•å·¥ä½œã€‚</p><p>æƒ³è±¡æˆ‘ä»¬é—®äº† 60 ä¸ªå¹´è½»å®¶åº­ä»–ä»¬åœ¨æœ‰äº†ç¬¬ä¸€ä¸ªå­©å­ä¹‹åç¡çœ æ—¶é—´å°‘äº†å¤šå°‘ä¸ªå°æ—¶ï¼Œå‡å€¼æ˜¯ 2.6 å°æ—¶ï¼Œæ ‡å‡†å·®æ˜¯ 0.9 å°æ—¶ã€‚ä¸ºäº†æ„å»ºä¸€ä¸ª 95% çš„ç½®ä¿¡åŒºé—´ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° $\bar x\pm1.96 \sigma<em>{\bar x}$ ï¼Œ<br>æˆ–è€…å¯ä»¥å†™æˆ $\bar x\pm {Z</em>{95 \%}} \sigma_{\bar x}$ ã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä¸çŸ¥é“æ€»ä½“çš„æ ‡å‡†å·®ã€‚</p><p><img src="/images/ci_3.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å› æ­¤æˆ‘ä»¬ç”¨æ ·æœ¬çš„æ ‡å‡†å·®æ¥ä¼°è®¡æ€»ä½“çš„æ ‡å‡†å·®ï¼Œå…¬å¼å˜æˆ: $\bar x\pm {Z_{95 \%}} s_e$ ï¼Œå…¶ä¸­ $ s_e = \frac {s}{\sqrt {n}} $</p><p><img src="/images/ci_4.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>æˆ‘ä»¬æŠŠ $ se $ è¿™ä¸ªä¼°è®¡çš„æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ç§°ä¸º <strong>æ ‡å‡†è¯¯å·® (standard error)</strong> ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¯ä¼°è®¡æ ‡å‡†å·®ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¡ç®—ä¸­å¼•å…¥äº†é¢å¤–çš„è¯¯å·®ã€‚åŸºäºæ­¤ï¼Œæˆ‘ä»¬å¼•å…¥å¦ä¸€ä¸ªåˆ†å¸ƒï¼Œ z åˆ†å¸ƒã€‚ç”±äºé¢å¤–çš„è¯¯å·®ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ T åˆ†å¸ƒï¼Œå…¬å¼å¦‚ä¸‹ã€‚</p><p>$\bar x\pm {t_{95 \%}} se$</p><p><img src="/images/ci_5.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>ç°åœ¨è®©æˆ‘æ¥è¯¦ç»†è§£é‡Š t åˆ†å¸ƒå’Œ t åˆ†æ•°ã€‚ t åˆ†å¸ƒè·Ÿæ ‡å‡†æ­£æ€åˆ†å¸ƒéå¸¸ä¹‹ç›¸ä¼¼ï¼Œå®ƒæ˜¯é’Ÿå½¢çš„ï¼Œå¯¹ç§°çš„ï¼Œå¹¶ä¸”å‡å€¼æ˜¯ 0 ã€‚ä½†æ˜¯ï¼Œå®ƒæœ‰ä¸€ç‚¹ç‚¹åŒºåˆ«ã€‚ å› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¯ä¼°è®¡æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼Œæˆ‘ä»¬å¼•å…¥äº†é¢å¤–çš„è¯¯å·®ã€‚å½“æˆ‘ä»¬çš„æ ·æœ¬æ¯”è¾ƒå°æ—¶ï¼Œè¿™ä¸ªè¯¯å·®å¾ˆå¯è§‚ã€‚ t åˆ†å¸ƒå°†è¿™å°æ ·æœ¬çš„è¿™ä¸ªè¯¯å·®è€ƒè™‘åœ¨å†…äº†ï¼Œå› æ­¤å®ƒæ¯”æ ‡å‡†æ­£æ€åˆ†å¸ƒç¨å¾®å®½ä¸€ç‚¹ï¼Œæ ‡å‡†å·®æ›´å¤§ä¸€äº›ã€‚å¦‚ä¸‹ï¼š</p><p><img src="/images/ci_5_2.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>é»‘è‰²çš„åˆ†å¸ƒæ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œè“è‰²çš„åˆ†å¸ƒæ˜¯ t åˆ†å¸ƒã€‚ t åˆ†å¸ƒçš„å‡†ç¡®å½¢çŠ¶å–å†³äºæ ·æœ¬å®¹é‡ã€‚æ ·æœ¬è¶Šå¤§ï¼Œt åˆ†å¸ƒè¶Šæ¥è¿‘æ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚æ›´å‡†ç¡®çš„è¯´ï¼Œ t åˆ†å¸ƒçš„å½¢çŠ¶å–å†³äºå•ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ç§°ä¸º <strong>è‡ªç”±åº¦ (degrees of freedom)</strong> ï¼Œä»¥ $ df $ æ³¨è®°ã€‚ t åˆ†å¸ƒä¸­çš„è‡ªç”±åº¦ç­‰äºæ ·æœ¬å®¹é‡ n - 1 ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å®é™…ä¸Šæœ‰è®¸å¤šä¸åŒçš„ t åˆ†å¸ƒï¼Œæ¯ä¸€ä¸ªéƒ½æœ‰å•ç‹¬çš„ $ df $ã€‚æ¯”å¦‚ï¼Œè‡ªç”±åº¦ä¸º 2 çš„ t åˆ†å¸ƒï¼š</p><p><img src="/images/ci_6.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è‡ªç”±åº¦ä¸º 5 çš„ t åˆ†å¸ƒï¼š</p><p><img src="/images/ci_7.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è‡ªç”±åº¦ä¸º 30 çš„ t åˆ†å¸ƒï¼š</p><p><img src="/images/ci_8.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬æœ‰ 30 æˆ–è€…æ›´å¤§è‡ªç”±åº¦æ—¶ï¼Œ t åˆ†å¸ƒå‡ ä¹å°±ç­‰åŒäºæ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚æ›´å‡†ç¡®çš„è¯´ï¼Œæ ‡å‡†æ­£æ€åˆ†å¸ƒå…¶å®å°±æ˜¯è‡ªç”±åº¦ç­‰äºæ— é™çš„ t åˆ†å¸ƒã€‚ </p><p><img src="/images/ci_9.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>åŒæ ‡å‡†æ­£æ€åˆ†å¸ƒå’Œ z åˆ†æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºç‰¹å®šçš„ t åˆ†æ•°å¯»æ‰¾ç´¯ç§¯æ¦‚ç‡ã€‚é‡è¦çš„åŒºåˆ«åœ¨äºï¼Œè¿™äº›æ¦‚ç‡ä¾èµ–äºè‡ªç”±åº¦ã€‚å½“ä½ è®¡ç®—ä¸€ä¸ª 95% ç½®ä¿¡åŒºé—´æ—¶ï¼Œä½ å¯ä»¥ä¸ºæ‰€æœ‰å¯èƒ½çš„è‡ªç”±åº¦æ‰¾åˆ°å¯¹åº” 95% ç½®ä¿¡æ°´å¹³çš„ t åˆ†æ•°ï¼Œè¿™ä¸ªè¡¨æ ¼ç§°ä¸º <strong>t è¡¨æ ¼</strong> ï¼Œå®ƒå’Œ z è¡¨æ ¼ç±»ä¼¼ã€‚</p><p><img src="/images/ci_10.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è®©æˆ‘ç”¨ç¡çœ æ—¶é—´çš„ä¾‹å­æ¥æ¼”ç¤ºã€‚æ ·æœ¬ä¸­ç¡çœ å‡å°‘å°æ—¶æ•°çš„å‡å€¼æ˜¯ 2.6 å°æ—¶ï¼Œæ ‡å‡†å·®æ˜¯ 0.9 å°æ—¶ï¼Œæ ·æœ¬å®¹é‡æ˜¯ 60 ã€‚è®¡ç®— 95% ç½®ä¿¡åŒºé—´çš„å…¬å¼ï¼š</p><p><img src="/images/ci_11.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>è®©æˆ‘ä»¬ä»æ ‡å‡†è¯¯å·®å¼€å§‹ï¼Œå®ƒç­‰äºæ ·æœ¬æ ‡å‡†å·®é™¤ä»¥ n çš„å¹³æ–¹æ ¹ï¼Œå³ 0.9 é™¤ä»¥ 60 çš„å¹³æ–¹æ ¹ï¼Œå¾—åˆ° 0.116 ã€‚æˆ‘ä»¬çš„æ ‡å‡†è¯¯å·®ï¼Œæˆ–è€…è¯´ï¼Œä¼°è®¡çš„æ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ç­‰äº 0.116 ã€‚ä¸ºäº†è®¡ç®—è¯¯å·®ç•Œé™ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æ ‡å‡†è¯¯å·®ä¹˜ä»¥ 95% ç½®ä¿¡åŒºé—´çš„ t åˆ†æ•°ã€‚å¦‚ä½ æ‰€çŸ¥ï¼Œ t åˆ†æ•°å–å†³äºè‡ªç”±åº¦ã€‚è‡ªç”±åº¦ df ç­‰äº n - 1 ã€‚æˆ‘ä»¬æœ‰ 60 ä¸ªæ ·æœ¬ï¼Œå› æ­¤ 60-1 çš„ 50 ã€‚åœ¨ t è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬åœ¨åˆ—ä¸­æŸ¥æ‰¾ 95% ç½®ä¿¡æ°´å¹³ï¼Œåœ¨è¡Œä¸­æŸ¥æ‰¾ 59 è‡ªç”±åº¦ã€‚å› ä¸ºè¡¨æ ¼ä¸­æ²¡æœ‰æŠ¥å‘Š 59 è‡ªç”±åº¦ï¼Œæˆ‘ä»¬å‘ä¸‹å– 50 è‡ªç”±åº¦ã€‚å¯¹åº”çš„ t åˆ†æ•°æ˜¯ 2.009 ã€‚</p><p><img src="/images/ci_12.jpg" width="68%" height="68%" style="margin: 10 auto;"></p><p>å› æ­¤æˆ‘ä»¬ç”¨ 0.116 ä¹˜ä»¥ 2.009 ï¼Œå¤§çº¦ 0.23 ã€‚ä»æ ·æœ¬å‡å€¼ 2.6 ä¸­åŠ å‡è¿™ä¸ªå€¼åï¼Œå¾—åˆ°æˆ‘ä»¬çš„ç½®ä¿¡åŒºé—´æ˜¯ 2.37 åˆ° 2.83 ã€‚æˆ‘ä»¬æœ‰ 95% çš„ä¿¡å¿ƒè®¤ä¸ºè¿™ä¸ªåŒºé—´åŒ…å«å®é™…çš„æ€»ä½“å‡å€¼ã€‚</p><p>ä¸ºäº†è®¡ç®—æ€»ä½“å‡å€¼çš„ç½®ä¿¡åŒºé—´ï¼Œæœ‰ä¸¤ä¸ªå‡å®šéœ€è¦æ»¡è¶³ã€‚é¦–å…ˆï¼Œä½ çš„æ•°æ®æ˜¯éšæœºè·å–çš„ã€‚æ¢è¨€ä¹‹ï¼Œæ ·æœ¬å¿…é¡»æ˜¯éšæœºæ ·æœ¬ï¼Œå¦åˆ™ä½ çš„å‘ç°å°±ä¸æ˜¯åˆæ³•çš„ã€‚å…¶æ¬¡ï¼Œæ€»ä½“å¿…é¡»è¿‘ä¼¼æ­£æ€åˆ†å¸ƒã€‚è¿™ä¸€ç‚¹å¯èƒ½æ˜¯ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ€»ä½“ä¸­çš„è®¸å¤šå˜é‡å¯èƒ½å¹¶ä¸æ˜¯æ­£æ€åˆ†å¸ƒçš„ã€‚ä¸è¿‡ï¼Œå¥½æ¶ˆæ¯æ˜¯ï¼Œé‡‡ç”¨ t åˆ†å¸ƒæ¥æ„é€ ç½®ä¿¡åŒºé—´ï¼Œå¯ä»¥æœ‰æ•ˆå¯¹æŠ—ç¬¬äºŒä¸ªå‡è®¾ç ´åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿è¿åäº†å‡è®¾ï¼Œè¿™ç§ç»Ÿè®¡æ–¹æ³•ä»ç„¶æ˜¯å¥å£®çš„ã€‚æœ€åï¼Œåœ¨åŸºäº t åˆ†å¸ƒæ„é€ ç½®ä¿¡åŒºé—´æ˜¯ï¼Œä½ è¿˜éœ€è¦å¯¹å¼‚å¸¸å€¼ä¿æŒæœºè­¦ã€‚å¦‚æœæ•°æ®é‡Œæœ‰å¼‚å¸¸å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šå¤±æ•ˆã€‚å› æ­¤è¦è®°å¾—åœ¨å¼€å§‹ä¹‹å‰æ£€æŸ¥æ•°æ®ã€‚</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç»Ÿè®¡æ¨æ–­&quot;&gt;&lt;a href=&quot;#ç»Ÿè®¡æ¨æ–­&quot; class=&quot;headerlink&quot; title=&quot;ç»Ÿè®¡æ¨æ–­&quot;&gt;&lt;/a&gt;ç»Ÿè®¡æ¨æ–­&lt;/h1&gt;&lt;p&gt;è¿™ä¸€èŠ‚æˆ‘ä»¬ä»¥ç¡çœ ä¸ºä¾‹ã€‚å‡è®¾ä½ é€šå¸¸æ¯æ™šç¡ 8 ä¸ªå°æ—¶ï¼Œä½ çªç„¶åšäº†å¹´è½»çˆ¸çˆ¸æˆ–è€…å¹´è½»å¦ˆå¦ˆï¼Œä½ çš„ç¡çœ æ—¶é—´å‡å°‘åˆ°æ¯æ™š 5 ä¸ªå°æ—¶ï¼Œè¿™æ„å‘³ç€æ¯æ™šå‡å°‘ 3 ä¸ªå°æ—¶ï¼Œç›¸å½“äºæ¯å‘¨ 20 ä¸ªå°æ—¶ï¼Œæ¯å¹´ 1000 ä¸ªå°æ—¶ï¼Œå·®ä¸å¤š 40 å¤©ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœä½ å®¶å®å®ç»§ç»­ä¿æŒä»– / å¥¹çš„ç¡çœ æ—¶é—´ï¼Œä¸€å¹´ä¹‹åä½ ä¼šæ¯”ä¹‹å‰å°‘ç¡ å¤§çº¦ 40 å¤©ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°ç»Ÿè®¡å­¦ï¼Œæƒ³è±¡ä½ æƒ³è¦çŸ¥é“ä½ å®¶ä¹¡çš„å¹´è½»çˆ¶æ¯åœ¨å­©å­åˆšå‡ºç”Ÿé‚£ä¸€å¹´å‡å°‘äº†å¤šå°‘ç¡çœ ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­æˆ‘ä»¬å°†è®¨è®ºç»Ÿè®¡æ¨æ–­ã€‚æˆ‘ä»¬ä¼šåŸºäºæ ·æœ¬ä¿¡æ¯ï¼Œå¾—å‡ºå…³äºæ€»ä½“çš„ç»“è®ºã€‚æˆ‘ä»¬å°†ä¼šåŒºåˆ†ä¸¤ç§ç»Ÿè®¡æ¨æ–­çš„æ–¹æ³•ï¼Œä¸€ç§å« &lt;strong&gt;ç»Ÿè®¡ä¼°è®¡ (statistical estimation)&lt;/strong&gt; ï¼Œå¦ä¸€ç§å« &lt;strong&gt;å‡è®¾æ£€éªŒ (hypothesis testing)&lt;/strong&gt; ã€‚åœ¨è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å…ˆäº†è§£ç»Ÿè®¡ä¼°è®¡ã€‚ &lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼ä¼°è®¡æ€»ä½“å‚æ•°çš„å€¼ï¼Œå…¶ä¸€å« &lt;strong&gt;ç‚¹ä¼°è®¡ (point estimate)&lt;/strong&gt; ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹äºæ€»ä½“å‚æ•°çš„æœ€ä½³çŒœæƒ³ã€‚å…¶äºŒæ˜¯ &lt;strong&gt;åŒºé—´ä¼°è®¡ (interval estimate)&lt;/strong&gt; ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ‘ä»¬é¢„æœŸå‚æ•°ä¼šè½åœ¨çš„èŒƒå›´ã€‚ &lt;/p&gt;
&lt;p&gt;æƒ³è±¡æˆ‘ä»¬æŠ½å–äº† 60 ä¸ªå—è¯•è€…æ ·æœ¬ï¼Œæœ‰äº†ç¬¬ä¸€ä¸ªå°å­©åæ¯æ™šå‡å°‘çš„ç¡çœ å°æ—¶æ•°å‡å€¼ä¸º 2.6 å°æ—¶ã€‚è¿™ä¸ªå‡å€¼æ˜¯ä¸€ä¸ªå¯¹äºæ€»ä½“å‡å€¼å¾ˆå¥½çš„ç‚¹ä¼°è®¡ã€‚æ¢è¨€ä¹‹ï¼Œ$ \bar x $ ï¼Œæ˜¯ä¸€ä¸ªå¯¹äº $ \mu $ çš„å¾ˆå¥½çš„ç‚¹ä¼°è®¡ã€‚ä¸è¿‡ï¼Œå•ä¸€çš„ç‚¹ä¼°è®¡æ— æ³•å‘Šè¯‰æˆ‘ä»¬ä¼°è®¡æ˜¯å¦æ¥è¿‘æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ€»ä½“å‚æ•°ã€‚å› æ­¤ï¼Œç ”ç©¶äººå‘˜é€šå¸¸è¿˜å¸Œæœ›çŸ¥é“ç‚¹ä¼°è®¡å¯èƒ½çš„å‡†ç¡®åº¦ã€‚ä»–ä»¬å€Ÿç”±è®¡ç®—åŒºé—´ä¼°è®¡æ¥æ˜¾ç¤ºè¿™ç§å‡†ç¡®åº¦ã€‚&lt;/p&gt;
&lt;p&gt;åŒºé—´ä¼°è®¡æ˜¯ä¸€ä¸ªæœ€æœ‰å¯èƒ½åŒ…å«æ€»ä½“å®é™…å‚æ•°å€¼çš„æ•°å­—åŒºé—´ã€‚åŸºäºæˆ‘ä»¬çš„æ ·æœ¬å‡å€¼ 2.6 å°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹ï¼Œæ¯”å¦‚è¯´ï¼Œä½ å®¶ä¹¡æ–°ç”Ÿå„¿çˆ¶æ¯æ¯æ™šç¡çœ å‡å°‘çš„å¹³å‡å°æ—¶æ•°ä»‹äº 2.3 å°æ—¶åˆ° 2.9 å°æ—¶ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåŒºé—´åŒ…å«æ€»ä½“å‚æ•°å€¼çš„æ¦‚ç‡ï¼Œè¢«æˆ‘ä»¬ç§°ä¸º &lt;strong&gt;ç½®ä¿¡æ°´å¹³ (confidence level)&lt;/strong&gt; ï¼Œç½®ä¿¡æ°´å¹³æ€»æ˜¯ä¸€ä¸ªæ¥è¿‘ 1 çš„å€¼ï¼Œå¤šæ•°æƒ…å†µä¸‹æ˜¯ 0.95 ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†è®¨è®ºæœ‰ 95% ç½®ä¿¡æ°´å¹³çš„åŒºé—´ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æé€Ÿç»Ÿè®¡æ•™ç¨‹ä¹‹åä¸ƒ | æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒ</title>
    <link href="https://theinfinitegame.tech/data-science/statistics-sampling-distribution-of-sample-proportion/"/>
    <id>https://theinfinitegame.tech/data-science/statistics-sampling-distribution-of-sample-proportion/</id>
    <published>2020-01-31T09:08:32.000Z</published>
    <updated>2020-02-02T03:04:57.184Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹"><a href="#æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹" class="headerlink" title="æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹"></a>æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹</h1><p>æƒ³è±¡ä½ ä½åœ¨å·´é»ï¼Œä½ çŸ¥é“æ‰€æœ‰çš„å­¦ç”Ÿä¸­æœ‰ 0.10 çš„æ¯”ä¾‹æŠŠè‡ªå·±çœ‹åšå¬‰çš®å£«ã€‚ä½ æƒ³è¦çŸ¥é“è¿™ä¸ªæ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒæ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ³¨æ„ï¼Œåœ¨è¿™é‡Œè®¡ç®—æ€»ä½“å‡å€¼æ˜¯æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰çš„ã€‚å› ä¸ºä½ æ„Ÿå…´è¶£çš„å˜é‡æ˜¯ä¸€ä¸ªäºŒå…ƒæ ‡é‡ã€‚å­¦ç”Ÿä»¬å¯ä»¥é€‰æ‹©è®¤å®šè‡ªå·±æ˜¯æˆ–è€…ä¸æ˜¯å¬‰çš®å£«ã€‚å‡å€¼å’Œè¿™æ ·ä¸€ä¸ªäºŒå…ƒå˜é‡æ— å…³ã€‚</p><p>åœ¨æœ¬èŠ‚æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è§£é‡Šä¸€ä¸ªæ€»ä½“æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒæ˜¯é•¿ä»€ä¹ˆæ ·ã€‚ä½ çŸ¥é“å·´é»æœ‰ 10% çš„å­¦ç”Ÿè®¤ä¸ºè‡ªå·±æ˜¯å¬‰çš®å£«ï¼Œè¿™æ„å‘³ç€æ€»ä½“æ¯”ä¾‹ï¼Œç”¨ $ \pi $ æ³¨è®°ï¼Œç­‰äº 0.10 ã€‚ç°åœ¨æƒ³è±¡æˆ‘ä»¬ä»è¿™ä¸ªæ€»ä½“ä¸­æŠ½å– 200 ä¸ªå­¦ç”Ÿã€‚æ ·æœ¬çš„æ¯”ä¾‹ï¼Œç”¨ $ p $ æ³¨è®°ï¼Œå°†ä¼šæ˜¯ä¸€ä¸ªæ¥è¿‘ 0.10 çš„æ•°å­—ï¼Œæ¯”å¦‚ 0.09 æˆ–è€… 0.12 ã€‚</p><p>å¦‚æœæŠ½å–äº† 5 ç»„æ ·æœ¬ï¼Œæ ·æœ¬æ¯”ä¾‹å¯èƒ½å¦‚ä¸‹ï¼š</p><img src="/images/sdp_1.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è¿™æ ·æ ·æœ¬æ¯”ä¾‹çš„ç›´æ–¹å›¾å¯èƒ½å¦‚ä¸‹ï¼š</p><img src="/images/sdp_2.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æœ‰äº”ä¸ªå€¼ï¼Œå…¨éƒ¨éƒ½å‡ºç°ä¸€æ¬¡ï¼Œå®ƒä»¬çš„æ¦‚ç‡éƒ½æ˜¯ 0.2 ã€‚ç°åœ¨ï¼Œä½ æŠ½å– 25 ç»„æ ·æœ¬ï¼Œåˆ†å¸ƒå¯èƒ½å¦‚ä¸‹ï¼š</p><img src="/images/sdp_3.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æŠ½å– 50 ä¸ªæ ·æœ¬ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š</p><img src="/images/sdp_4.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>æ— é™å¤šç»„æ ·æœ¬ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š</p><img src="/images/sdp_5.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>è¿™æ˜¯æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒï¼Œåˆ†å¸ƒçš„å‡å€¼æ˜¯ 0.10 ï¼Œç­‰äºæ€»ä½“çš„æ¯”ä¾‹ã€‚ä¸ºäº†è¡¨æ˜æˆ‘ä»¬æ˜¯å¤„ç†æŠ½æ ·åˆ†å¸ƒçš„å‡å€¼ï¼Œå‡å€¼è¢«æ³¨è®°ä¸º $ \mu_p $ ï¼Œä¸‹æ ‡ p æ˜¯ä¸ºäº†è¯´æ˜æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„åˆ†å¸ƒçš„åˆ†æ•°ä¸æ˜¯ä¸ªä½“çš„åˆ†æ•°ï¼Œè€Œæ˜¯æ ·æœ¬æ¯”ä¾‹ã€‚å¦‚ä½ æ‰€è§ï¼Œé€»è¾‘ä¸Šå’Œæ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒä¸€æ¨¡ä¸€æ ·ã€‚</p><a id="more"></a><img src="/images/sdp_6.jpg" width="68%" height="68%" style="margin: 10 auto;"><p>åœ¨æ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒæ¡ˆä¾‹ä¸­ï¼Œå¦‚æœæ€»ä½“æœ¬èº«æ˜¯æ­£æ€åˆ†å¸ƒæˆ–è€…æ ·æœ¬å®¹é‡è¶³å¤Ÿï¼Œé‚£æŠ½æ ·åˆ†å¸ƒæ˜¯è¿‘ä¼¼é’Ÿå½¢çš„ã€‚é€šç”¨æœ€å°éœ€è¦ 30 ä¸ªæ ·æœ¬æ•°ã€‚åœ¨æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒä¸­ï¼Œåªæœ‰å½“ä½ æ‹¥æœ‰è‡³å°‘ 15 ä¸ªæ­£å‘çš„ case ä»¥åŠè‡³å°‘ 15 ä¸ªè´Ÿå‘ case çš„å‰æä¸‹ï¼Œä½ æ‰èƒ½ç¡®ä¿¡åˆ†å¸ƒæ˜¯é’Ÿå½¢çš„ï¼Œå³è‡³å°‘ 15 ä¸ªå¬‰çš®å£«å’Œ 15 ä¸ªéå¬‰çš®å£«ã€‚å…¬å¼è¡¨è¾¾å¦‚ä¸‹ï¼š</p><p>$$ n\pi \geq 15 $$<br>$$ n (1 - \pi) \geq 15 $$</p><p>è¿™å¯¹äºæˆ‘ä»¬çš„ä¾‹å­æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆï¼Œæ ·æœ¬å®¹é‡å’Œæ€»ä½“æ¯”ä¾‹çš„ä¹˜ç§¯å¿…é¡»å¤§äºç­‰äº 15 ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œå³ 200 ä¹˜ä»¥ 0.10 ï¼Œç­‰äº 20 ä¸ªå¬‰çš®å£«ã€‚å…¶æ¬¡ï¼Œæ€»ä½“æ¯”ä¾‹å’Œ $ 1 - \pi $ çš„ä¹˜ç§¯å¿…é¡»å¤§äºç­‰äº 15 ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œå³ 200 ä¹˜ä»¥ (1-0.10)ï¼Œç­‰äº 200 ä¹˜ä»¥ 0.90 ï¼Œ ç­‰äº 180 ä¸ªéå¬‰çš®å£«ã€‚ å› æ­¤æˆ‘ä»¬å¯ä»¥ä¸‹ç»“è®ºï¼ŒæŠ½æ ·åˆ†å¸ƒå°†ä¼šæ˜¯é’Ÿå½¢çš„ï¼Œå› ä¸º 20 å’Œ 180 éƒ½å¤§äº 15 ã€‚æœ‰ä¸€ä¸ªç›¸å½“ç›´æ¥çš„å…¬å¼å¯ä»¥è®¡ç®—æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ã€‚æˆ‘ä»¬ä»¥ $ \sigma_p $ æ³¨è®°æ ‡å‡†å·®ï¼Œä½ çŸ¥é“ $ \sigma $ ä»£è¡¨æ ‡å‡†å·®ï¼Œè€Œæ·»åŠ çš„ p åˆ™è¡¨æ˜æˆ‘ä»¬æ­£åœ¨è®¨è®ºçš„æ˜¯æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒã€‚ ä¸ºäº†è®¡ç®—è¿™ä¸ªæ ‡å‡†å·®ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p><p>$$ \sigma_p = \sqrt {\frac {\pi (1-\pi)}{n}} $$ </p><p>åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæ ‡å‡†å·®ç®—å‡ºæ¥æ˜¯ 0.02 ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul><li>å¯¹äºäºŒå…ƒç±»åˆ«å˜é‡ï¼Œè®¡ç®—æ€»ä½“å‡å€¼å’Œæ ‡å‡†å·®æ²¡æœ‰æ„ä¹‰ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬è®¡ç®—åˆ†ç±»å˜é‡çš„æ¯”ä¾‹ã€‚å¯¹äºäºŒå…ƒå˜é‡ï¼Œæˆ‘ä»¬åªæœ‰æ€»ä½“çš„æ¯”ä¾‹ $ \pi $ ã€‚</li><li>ç›¸ä¼¼çš„é€»è¾‘ä¹Ÿé€‚ç”¨äºæ ·æœ¬ã€‚æˆ‘ä»¬ä¹Ÿåªæœ‰æ ·æœ¬æ¯”ä¾‹ p ã€‚å¯¹äºæ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒæ¥è¯´ï¼Œæˆ‘ä»¬çš„ç¡®æœ‰å‡å€¼å’Œæ ‡å‡†å·®ã€‚åªè¦çŸ¥é“æ€»ä½“çš„æ¯”ä¾‹ï¼ŒæŠ½æ ·åˆ†å¸ƒçš„è¿™äº›å‚æ•°ä¹Ÿå¾ˆå®¹æ˜“è®¡ç®—å‡ºæ¥ã€‚</li></ul><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹&quot;&gt;&lt;a href=&quot;#æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹&quot; class=&quot;headerlink&quot; title=&quot;æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹&quot;&gt;&lt;/a&gt;æŠ½æ ·åˆ†å¸ƒæ¯”ä¾‹&lt;/h1&gt;&lt;p&gt;æƒ³è±¡ä½ ä½åœ¨å·´é»ï¼Œä½ çŸ¥é“æ‰€æœ‰çš„å­¦ç”Ÿä¸­æœ‰ 0.10 çš„æ¯”ä¾‹æŠŠè‡ªå·±çœ‹åšå¬‰çš®å£«ã€‚ä½ æƒ³è¦çŸ¥é“è¿™ä¸ªæ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒæ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ³¨æ„ï¼Œåœ¨è¿™é‡Œè®¡ç®—æ€»ä½“å‡å€¼æ˜¯æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰çš„ã€‚å› ä¸ºä½ æ„Ÿå…´è¶£çš„å˜é‡æ˜¯ä¸€ä¸ªäºŒå…ƒæ ‡é‡ã€‚å­¦ç”Ÿä»¬å¯ä»¥é€‰æ‹©è®¤å®šè‡ªå·±æ˜¯æˆ–è€…ä¸æ˜¯å¬‰çš®å£«ã€‚å‡å€¼å’Œè¿™æ ·ä¸€ä¸ªäºŒå…ƒå˜é‡æ— å…³ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬èŠ‚æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è§£é‡Šä¸€ä¸ªæ€»ä½“æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒæ˜¯é•¿ä»€ä¹ˆæ ·ã€‚ä½ çŸ¥é“å·´é»æœ‰ 10% çš„å­¦ç”Ÿè®¤ä¸ºè‡ªå·±æ˜¯å¬‰çš®å£«ï¼Œè¿™æ„å‘³ç€æ€»ä½“æ¯”ä¾‹ï¼Œç”¨ $ \pi $ æ³¨è®°ï¼Œç­‰äº 0.10 ã€‚ç°åœ¨æƒ³è±¡æˆ‘ä»¬ä»è¿™ä¸ªæ€»ä½“ä¸­æŠ½å– 200 ä¸ªå­¦ç”Ÿã€‚æ ·æœ¬çš„æ¯”ä¾‹ï¼Œç”¨ $ p $ æ³¨è®°ï¼Œå°†ä¼šæ˜¯ä¸€ä¸ªæ¥è¿‘ 0.10 çš„æ•°å­—ï¼Œæ¯”å¦‚ 0.09 æˆ–è€… 0.12 ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠ½å–äº† 5 ç»„æ ·æœ¬ï¼Œæ ·æœ¬æ¯”ä¾‹å¯èƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/sdp_1.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;è¿™æ ·æ ·æœ¬æ¯”ä¾‹çš„ç›´æ–¹å›¾å¯èƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/sdp_2.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;æœ‰äº”ä¸ªå€¼ï¼Œå…¨éƒ¨éƒ½å‡ºç°ä¸€æ¬¡ï¼Œå®ƒä»¬çš„æ¦‚ç‡éƒ½æ˜¯ 0.2 ã€‚ç°åœ¨ï¼Œä½ æŠ½å– 25 ç»„æ ·æœ¬ï¼Œåˆ†å¸ƒå¯èƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/sdp_3.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;æŠ½å– 50 ä¸ªæ ·æœ¬ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/sdp_4.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;æ— é™å¤šç»„æ ·æœ¬ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/sdp_5.jpg&quot; width=&quot;68%&quot; height=&quot;68%&quot; style=&quot;margin: 10 auto;&quot;&gt;

&lt;p&gt;è¿™æ˜¯æ ·æœ¬æ¯”ä¾‹çš„æŠ½æ ·åˆ†å¸ƒï¼Œåˆ†å¸ƒçš„å‡å€¼æ˜¯ 0.10 ï¼Œç­‰äºæ€»ä½“çš„æ¯”ä¾‹ã€‚ä¸ºäº†è¡¨æ˜æˆ‘ä»¬æ˜¯å¤„ç†æŠ½æ ·åˆ†å¸ƒçš„å‡å€¼ï¼Œå‡å€¼è¢«æ³¨è®°ä¸º $ \mu_p $ ï¼Œä¸‹æ ‡ p æ˜¯ä¸ºäº†è¯´æ˜æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„åˆ†å¸ƒçš„åˆ†æ•°ä¸æ˜¯ä¸ªä½“çš„åˆ†æ•°ï¼Œè€Œæ˜¯æ ·æœ¬æ¯”ä¾‹ã€‚å¦‚ä½ æ‰€è§ï¼Œé€»è¾‘ä¸Šå’Œæ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒä¸€æ¨¡ä¸€æ ·ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="data-science" scheme="https://theinfinitegame.tech/categories/data-science/"/>
    
    
      <category term="ç»Ÿè®¡" scheme="https://theinfinitegame.tech/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="æ•°æ®ç§‘å­¦" scheme="https://theinfinitegame.tech/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
</feed>
